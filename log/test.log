[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (17.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (14.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (14.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (13.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (13.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (14.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (18.0ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (14.6ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2025-02-18 20:33:50.985232' WHERE "ar_internal_metadata"."key" = 'environment'[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (13.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (233.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (14.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (218.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (266.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (13.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (14.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (15.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (15.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (14.9ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (14.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (17.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (13.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (241.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (13.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (260.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (13.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (14.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (377.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (19.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (27.9ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 20:45:34.874875"], ["updated_at", "2025-02-18 20:45:34.874875"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo1LCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTUxMzR9.oujl_AdgSWM1zfuT3rwxpmjijHF9afmO7ojyAT0yKrA
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (35.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 20:45:34.971068"], ["id", 5]]
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 5], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 147ms (Views: 0.6ms | ActiveRecord: 108.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (14.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (27.1ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 20:45:35.136673"], ["updated_at", "2025-02-18 20:45:35.136673"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 11ms (Views: 0.1ms | ActiveRecord: 9.6ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.7ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 20:45:35.237792"], ["updated_at", "2025-02-18 20:45:35.237792"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 13ms (Views: 0.2ms | ActiveRecord: 10.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (9.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (205.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.1ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 20:45:55.864687"], ["updated_at", "2025-02-18 20:45:55.864687"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo4LCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTUxNTV9.smf_aivNZR0ERGxFXv06ZI6-n0XIZH2n13I0q8td9YM
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (20.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 20:45:55.946138"], ["id", 8]]
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 8], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 123ms (Views: 0.4ms | ActiveRecord: 95.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.5ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 20:45:56.087894"], ["updated_at", "2025-02-18 20:45:56.087894"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 10ms (Views: 0.1ms | ActiveRecord: 9.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.1ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 20:45:56.180262"], ["updated_at", "2025-02-18 20:45:56.180262"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 15ms (Views: 0.4ms | ActiveRecord: 11.8ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (13.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (219.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (21.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (25.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (59.9ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 20:46:34.204493"], ["updated_at", "2025-02-18 20:46:34.204493"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (17.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 38ms (Views: 0.2ms | ActiveRecord: 20.7ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.9ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 20:46:34.406225"], ["updated_at", "2025-02-18 20:46:34.406225"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (14.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 10ms (Views: 0.1ms | ActiveRecord: 10.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.0ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 20:46:34.499046"], ["updated_at", "2025-02-18 20:46:34.499046"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 12ms (Views: 0.1ms | ActiveRecord: 9.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (31.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (230.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (26.2ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 20:46:55.307123"], ["updated_at", "2025-02-18 20:46:55.307123"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (14.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (14.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxNCwiZW1haWwiOiJ0ZXN0QGV4YW1wbGUuY29tIiwiZXhwIjoxNzM5OTE1MjE1fQ.KUMWzw1gF8BBIwVlxStksVQaiHgN0859SyfnDjFaZc4
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 20:46:55.398437"], ["id", 14]]
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 14], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 135ms (Views: 0.3ms | ActiveRecord: 109.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (14.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.6ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 20:46:55.554456"], ["updated_at", "2025-02-18 20:46:55.554456"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 12ms (Views: 0.1ms | ActiveRecord: 11.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.8ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 20:46:55.653417"], ["updated_at", "2025-02-18 20:46:55.653417"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 14ms (Views: 0.1ms | ActiveRecord: 10.9ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (207.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.2ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 20:53:34.680438"], ["updated_at", "2025-02-18 20:53:34.680438"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxNywiZW1haWwiOiJ0ZXN0QGV4YW1wbGUuY29tIiwiZXhwIjoxNzM5OTE1NjE0fQ.FwwkxWfGHYwAQ0_GSbKpdYOyAHIMBOkr_kzOdmScJ0M
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (21.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 20:53:34.760917"], ["id", 17]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 17], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 125ms (Views: 3.3ms | ActiveRecord: 93.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.0ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 20:53:34.892884"], ["updated_at", "2025-02-18 20:53:34.892884"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (13.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 9ms (Views: 0.1ms | ActiveRecord: 8.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.1ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 20:53:34.978980"], ["updated_at", "2025-02-18 20:53:34.978980"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 11ms (Views: 0.2ms | ActiveRecord: 8.7ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (37.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (24.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (9.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (195.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (24.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 20:54:43.147844"], ["updated_at", "2025-02-18 20:54:43.147844"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTU2ODN9.TIfmEWdp_XKbEinRs2KZRGAHnB0B_hlFwNgkUOHsWuo
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (18.7ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 20:54:43.223921"], ["id", 1]]
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 125ms (Views: 3.5ms | ActiveRecord: 89.6ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 20:54:43.356026"], ["updated_at", "2025-02-18 20:54:43.356026"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 10ms (Views: 0.2ms | ActiveRecord: 8.9ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 20:54:43.440347"], ["updated_at", "2025-02-18 20:54:43.440347"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 11ms (Views: 0.3ms | ActiveRecord: 8.6ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (15.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (399.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 20:55:45.080992"], ["updated_at", "2025-02-18 20:55:45.080992"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTU3NDV9.GFEoRXHwdu3__lAcGfYl1BcX4Up4b-kXHPhPlkaxLO4
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (22.6ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 20:55:45.167387"], ["id", 1]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 140ms (Views: 3.5ms | ActiveRecord: 103.3ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 20:55:45.317179"], ["updated_at", "2025-02-18 20:55:45.317179"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 11ms (Views: 0.2ms | ActiveRecord: 10.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 20:55:45.415665"], ["updated_at", "2025-02-18 20:55:45.415665"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 15ms (Views: 0.2ms | ActiveRecord: 11.9ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (18.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (26.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (27.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (30.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (30.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (269.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:00:41.043886"], ["updated_at", "2025-02-18 21:00:41.043886"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GamesController#create as HTML
  Parameters: {"game" => {"date" => "2025-02-18", "manager_id" => "1", "name" => "Test Game"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:00:41.149192"], ["updated_at", "2025-02-18 21:00:41.149192"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GamesController#create as HTML
  Parameters: {"game" => {"date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:00:41.233187"], ["updated_at", "2025-02-18 21:00:41.233187"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTYwNDF9.nZXVL0z3tcEZKog0Vm2jrTdrSCvACT6ekN2WkocXwuw
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:00:41.311922"], ["id", 1]]
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 142ms (Views: 4.3ms | ActiveRecord: 102.0ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:00:41.464919"], ["updated_at", "2025-02-18 21:00:41.464919"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 12ms (Views: 0.2ms | ActiveRecord: 10.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:00:41.566983"], ["updated_at", "2025-02-18 21:00:41.566983"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 15ms (Views: 0.2ms | ActiveRecord: 10.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (16.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (16.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (16.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (245.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (14.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (26.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:01:39.476294"], ["updated_at", "2025-02-18 21:01:39.476294"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:01:39.580250"], ["updated_at", "2025-02-18 21:01:39.580250"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:01:39.668176"], ["updated_at", "2025-02-18 21:01:39.668176"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTYwOTl9.VV8_N8iTFP6BuTnvnA3t6Fo6rOzZqvD8E0WbhEjRTLM
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (21.6ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:01:39.751295"], ["id", 1]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (12.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 137ms (Views: 3.5ms | ActiveRecord: 105.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (37.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:01:39.899017"], ["updated_at", "2025-02-18 21:01:39.899017"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 12ms (Views: 0.3ms | ActiveRecord: 10.8ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:01:40.017673"], ["updated_at", "2025-02-18 21:01:40.017673"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (13.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 18ms (Views: 0.3ms | ActiveRecord: 13.7ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (19.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (16.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (235.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (16.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (22.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (40.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:02:31.999525"], ["updated_at", "2025-02-18 21:02:31.999525"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (17.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GamesController#create as HTML
  Parameters: {"game" => {"date" => "2025-02-18", "manager_id" => "1", "name" => "Test Game"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (24.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (34.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (33.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (62.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:02:32.213209"], ["updated_at", "2025-02-18 21:02:32.213209"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (28.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GamesController#create as HTML
  Parameters: {"game" => {"date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (13.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (28.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:02:32.367907"], ["updated_at", "2025-02-18 21:02:32.367907"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTYxNTJ9.yMf_oibcWYxsGBWqDjvh7q0pZLomZreWGz3PLTZDaqI
  [1m[36mTRANSACTION (18.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (31.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:02:32.469562"], ["id", 1]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (12.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 166ms (Views: 4.0ms | ActiveRecord: 124.8ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:02:32.641131"], ["updated_at", "2025-02-18 21:02:32.641131"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (15.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 16ms (Views: 0.2ms | ActiveRecord: 15.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (17.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:02:32.756982"], ["updated_at", "2025-02-18 21:02:32.756982"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 15ms (Views: 0.2ms | ActiveRecord: 9.9ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (13.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (8.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (218.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:04:43.646250"], ["updated_at", "2025-02-18 21:04:43.646250"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GamesController#create as HTML
  Parameters: {"game" => {"date" => "2025-02-18", "manager_id" => "1", "name" => "Test Game"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:04:43.740927"], ["updated_at", "2025-02-18 21:04:43.740927"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GamesController#create as HTML
  Parameters: {"game" => {"date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:04:43.819049"], ["updated_at", "2025-02-18 21:04:43.819049"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTYyODN9.ojidMY4xgKCTRpIW-Zi198HZsCBT0hOog3x2r1RkLcI
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:04:43.888377"], ["id", 1]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 118ms (Views: 2.2ms | ActiveRecord: 90.9ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:04:44.010920"], ["updated_at", "2025-02-18 21:04:44.010920"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 11ms (Views: 0.1ms | ActiveRecord: 9.9ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:04:44.095294"], ["updated_at", "2025-02-18 21:04:44.095294"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 14ms (Views: 0.1ms | ActiveRecord: 10.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (8.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (8.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (200.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:05:38.001517"], ["updated_at", "2025-02-18 21:05:38.001517"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GamesController#create as HTML
  Parameters: {"game" => {"date" => "2025-02-18", "manager_id" => "1", "name" => "Test Game"}, "headers" => {"Authorization" => "Bearer eyJhbGciOiJIUzI1NiJ9.eyJtYW5hZ2VyX2lkIjoxfQ.5OQiei3o11Mg0NU1pgglwq58XtqwG56Za4uuWOZetB8"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:05:38.094253"], ["updated_at", "2025-02-18 21:05:38.094253"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GamesController#create as HTML
  Parameters: {"game" => {"date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (18.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (27.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (39.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:05:38.180101"], ["updated_at", "2025-02-18 21:05:38.180101"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (16.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTYzMzh9.1_CeBVEFzhAARZ4w0HnP5Id02eBMxMvekKaebNE7Uxw
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (21.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:05:38.286446"], ["id", 1]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 137ms (Views: 3.9ms | ActiveRecord: 97.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:05:38.423240"], ["updated_at", "2025-02-18 21:05:38.423240"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 10ms (Views: 0.1ms | ActiveRecord: 9.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:05:38.509595"], ["updated_at", "2025-02-18 21:05:38.509595"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 13ms (Views: 0.1ms | ActiveRecord: 9.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (234.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (14.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (13.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (26.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:10:00.475007"], ["updated_at", "2025-02-18 21:10:00.475007"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (12.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:10:00.594547"], ["updated_at", "2025-02-18 21:10:00.594547"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (13.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (21.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (33.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:10:00.688123"], ["updated_at", "2025-02-18 21:10:00.688123"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (28.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:10:00.796190"], ["updated_at", "2025-02-18 21:10:00.796190"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (15.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (26.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:10:00.903566"], ["updated_at", "2025-02-18 21:10:00.903566"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GamesController#create as HTML
  Parameters: {"game" => {"date" => "2025-02-18", "manager_id" => "1", "name" => "Test Game"}, "headers" => {"Authorization" => "Bearer eyJhbGciOiJIUzI1NiJ9.eyJtYW5hZ2VyX2lkIjoxfQ.5OQiei3o11Mg0NU1pgglwq58XtqwG56Za4uuWOZetB8"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 0.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:10:01.024445"], ["updated_at", "2025-02-18 21:10:01.024445"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GamesController#create as HTML
  Parameters: {"game" => {"date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (15.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (27.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:10:01.122241"], ["updated_at", "2025-02-18 21:10:01.122241"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTY2MDF9.4U08angGv1fhEn9DpTBLoQEVv0mdmdyah0Vh7AMxfqU
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (24.2ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:10:01.226263"], ["id", 1]]
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 170ms (Views: 4.5ms | ActiveRecord: 109.9ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (13.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:10:01.408470"], ["updated_at", "2025-02-18 21:10:01.408470"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 15ms (Views: 0.1ms | ActiveRecord: 12.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:10:01.528481"], ["updated_at", "2025-02-18 21:10:01.528481"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 14ms (Views: 0.1ms | ActiveRecord: 10.7ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (18.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (20.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (220.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:11:51.791085"], ["updated_at", "2025-02-18 21:11:51.791085"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:11:51.884824"], ["updated_at", "2025-02-18 21:11:51.884824"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:11:51.960255"], ["updated_at", "2025-02-18 21:11:51.960255"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:11:52.040715"], ["updated_at", "2025-02-18 21:11:52.040715"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:11:52.119916"], ["updated_at", "2025-02-18 21:11:52.119916"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/games" for 127.0.0.1 at 2025-02-18 21:11:52 +0000
  
ActionController::RoutingError (No route matches [POST] "/games"):
  
  [1m[36mTRANSACTION (13.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:11:52.437834"], ["updated_at", "2025-02-18 21:11:52.437834"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/games" for 127.0.0.1 at 2025-02-18 21:11:52 +0000
  
ActionController::RoutingError (No route matches [POST] "/games"):
  
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:11:52.649675"], ["updated_at", "2025-02-18 21:11:52.649675"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTY3MTJ9.BvIfYUSl5yV8EEMH8rDEMd2SJSJPbZpDwc1M4lHihWY
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (20.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:11:52.725274"], ["id", 1]]
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 128ms (Views: 3.1ms | ActiveRecord: 94.4ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:11:52.867385"], ["updated_at", "2025-02-18 21:11:52.867385"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 12ms (Views: 0.1ms | ActiveRecord: 9.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:11:52.977919"], ["updated_at", "2025-02-18 21:11:52.977919"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 14ms (Views: 0.1ms | ActiveRecord: 9.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (18.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (241.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:13:30.147109"], ["updated_at", "2025-02-18 21:13:30.147109"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:13:30.239886"], ["updated_at", "2025-02-18 21:13:30.239886"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (14.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (27.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:13:30.326518"], ["updated_at", "2025-02-18 21:13:30.326518"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:13:30.415991"], ["updated_at", "2025-02-18 21:13:30.415991"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (26.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:13:30.509236"], ["updated_at", "2025-02-18 21:13:30.509236"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (14.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/games" for 127.0.0.1 at 2025-02-18 21:13:30 +0000
  
ActionController::RoutingError (No route matches [POST] "/games"):
  
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:13:30.879736"], ["updated_at", "2025-02-18 21:13:30.879736"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/games" for 127.0.0.1 at 2025-02-18 21:13:30 +0000
  
ActionController::RoutingError (No route matches [POST] "/games"):
  
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (37.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:13:31.117621"], ["updated_at", "2025-02-18 21:13:31.117621"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTY4MTF9.FQARYutdfZ4vi8Yaxpzw-wRipVbjJlTotN2WoJjBu-8
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (21.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:13:31.198893"], ["id", 1]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 137ms (Views: 3.5ms | ActiveRecord: 99.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:13:31.342316"], ["updated_at", "2025-02-18 21:13:31.342316"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 13ms (Views: 0.1ms | ActiveRecord: 10.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:13:31.461485"], ["updated_at", "2025-02-18 21:13:31.461485"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 14ms (Views: 0.2ms | ActiveRecord: 10.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (249.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (299.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (20.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (236.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (229.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (26.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:15:48.007612"], ["updated_at", "2025-02-18 21:15:48.007612"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (25.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:15:48.111536"], ["updated_at", "2025-02-18 21:15:48.111536"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:15:48.197534"], ["updated_at", "2025-02-18 21:15:48.197534"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:15:48.281118"], ["updated_at", "2025-02-18 21:15:48.281118"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (13.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (25.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:15:48.364101"], ["updated_at", "2025-02-18 21:15:48.364101"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/games" for 127.0.0.1 at 2025-02-18 21:15:48 +0000
  
ActionController::RoutingError (No route matches [POST] "/games"):
  
  [1m[36mTRANSACTION (14.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (13.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:15:48.714344"], ["updated_at", "2025-02-18 21:15:48.714344"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/games" for 127.0.0.1 at 2025-02-18 21:15:48 +0000
  
ActionController::RoutingError (No route matches [POST] "/games"):
  
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:15:48.921674"], ["updated_at", "2025-02-18 21:15:48.921674"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTY5NDl9.Mi30FaMNfMwSMosF1uKP74VZ-IRrb6lR7NxIPJACOwc
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (24.2ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:15:49.003212"], ["id", 1]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 138ms (Views: 3.6ms | ActiveRecord: 104.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:15:49.149511"], ["updated_at", "2025-02-18 21:15:49.149511"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 14ms (Views: 0.1ms | ActiveRecord: 11.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:15:49.266916"], ["updated_at", "2025-02-18 21:15:49.266916"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 15ms (Views: 0.1ms | ActiveRecord: 10.6ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (19.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (8.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (445.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:18:32.455962"], ["updated_at", "2025-02-18 21:18:32.455962"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (13.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:18:32.557701"], ["updated_at", "2025-02-18 21:18:32.557701"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:18:32.636763"], ["updated_at", "2025-02-18 21:18:32.636763"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:18:32.718787"], ["updated_at", "2025-02-18 21:18:32.718787"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (13.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:18:32.804262"], ["updated_at", "2025-02-18 21:18:32.804262"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/games" for 127.0.0.1 at 2025-02-18 21:18:32 +0000
  
ActionController::RoutingError (No route matches [POST] "/games"):
  
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:18:33.088773"], ["updated_at", "2025-02-18 21:18:33.088773"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/games" for 127.0.0.1 at 2025-02-18 21:18:33 +0000
  
ActionController::RoutingError (No route matches [POST] "/games"):
  
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:18:33.307794"], ["updated_at", "2025-02-18 21:18:33.307794"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTcxMTN9.AsN-ie6N1nzHeUVXDWYnNqh7ZwCPV-Je_diBcsZsdXM
  [1m[36mTRANSACTION (13.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (24.8ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:18:33.386366"], ["id", 1]]
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 133ms (Views: 2.1ms | ActiveRecord: 105.6ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:18:33.524954"], ["updated_at", "2025-02-18 21:18:33.524954"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (13.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 12ms (Views: 0.1ms | ActiveRecord: 9.6ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:18:33.636421"], ["updated_at", "2025-02-18 21:18:33.636421"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (16.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 20ms (Views: 0.1ms | ActiveRecord: 16.8ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (9.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (198.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:19:15.012417"], ["updated_at", "2025-02-18 21:19:15.012417"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/games" for 127.0.0.1 at 2025-02-18 21:19:15 +0000
  
ActionController::RoutingError (No route matches [POST] "/games"):
  
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:19:15.286488"], ["updated_at", "2025-02-18 21:19:15.286488"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/games" for 127.0.0.1 at 2025-02-18 21:19:15 +0000
  
ActionController::RoutingError (No route matches [POST] "/games"):
  
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:19:15.502835"], ["updated_at", "2025-02-18 21:19:15.502835"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTcxNTV9.1xzM-VauRp7ceqPGURvojOM0IJuPcjHpFW_7k4L7UN8
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (21.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:19:15.575176"], ["id", 1]]
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 126ms (Views: 2.6ms | ActiveRecord: 92.8ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:19:15.710679"], ["updated_at", "2025-02-18 21:19:15.710679"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 10ms (Views: 0.2ms | ActiveRecord: 9.6ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:19:15.797568"], ["updated_at", "2025-02-18 21:19:15.797568"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 14ms (Views: 0.1ms | ActiveRecord: 9.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (13.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (239.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:44:23.536134"], ["updated_at", "2025-02-18 21:44:23.536134"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTg2NjN9.P5mGuAIHi9C6UEWwhKLnGVMHVLK4wwClklPgsRiLNyE
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:44:23.624070"], ["id", 1]]
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (12.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 138ms (Views: 0.6ms | ActiveRecord: 105.3ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (16.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (30.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:44:23.780587"], ["updated_at", "2025-02-18 21:44:23.780587"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 12ms (Views: 0.2ms | ActiveRecord: 11.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:44:23.893319"], ["updated_at", "2025-02-18 21:44:23.893319"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 15ms (Views: 0.3ms | ActiveRecord: 10.9ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (218.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:44:43.766155"], ["updated_at", "2025-02-18 21:44:43.766155"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (14.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTg2ODN9.dQxe13E75XpxWy68bp_QPVtuhpWsDB-UnDTINVppEUw
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.6ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:44:43.857819"], ["id", 1]]
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (14.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 145ms (Views: 0.8ms | ActiveRecord: 111.6ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:44:44.024416"], ["updated_at", "2025-02-18 21:44:44.024416"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 12ms (Views: 0.1ms | ActiveRecord: 11.7ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:44:44.126642"], ["updated_at", "2025-02-18 21:44:44.126642"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 15ms (Views: 0.2ms | ActiveRecord: 11.7ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (20.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (14.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (246.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:45:21.324326"], ["updated_at", "2025-02-18 21:45:21.324326"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (14.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/games" for 127.0.0.1 at 2025-02-18 21:45:21 +0000
  
ActionController::RoutingError (No route matches [POST] "/games"):
  
  [1m[36mTRANSACTION (15.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:45:21.674966"], ["updated_at", "2025-02-18 21:45:21.674966"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/games" for 127.0.0.1 at 2025-02-18 21:45:21 +0000
  
ActionController::RoutingError (No route matches [POST] "/games"):
  
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (25.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:45:21.883645"], ["updated_at", "2025-02-18 21:45:21.883645"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (13.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTg3MjF9.v3M9VToreE4iadqShZHi65OFP9DBK6lzzxd00CZnux4
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.6ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:45:21.971692"], ["id", 1]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (12.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 140ms (Views: 2.8ms | ActiveRecord: 109.8ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:45:22.116294"], ["updated_at", "2025-02-18 21:45:22.116294"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 11ms (Views: 0.1ms | ActiveRecord: 10.7ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:45:22.217361"], ["updated_at", "2025-02-18 21:45:22.217361"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 13ms (Views: 0.1ms | ActiveRecord: 10.8ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (259.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (15.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:47:49.293372"], ["updated_at", "2025-02-18 21:47:49.293372"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (14.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (26.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:47:49.379563"], ["updated_at", "2025-02-18 21:47:49.379563"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/games" for 127.0.0.1 at 2025-02-18 21:47:49 +0000
  
ActionController::RoutingError (No route matches [POST] "/games"):
  
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:47:49.674876"], ["updated_at", "2025-02-18 21:47:49.674876"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (17.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (26.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTg4Njl9.Og4p5OXBkEhJp-qwuJ_f7mmOuupPt8dcS0u1VvxGxPU
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (30.2ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:47:49.787752"], ["id", 1]]
  [1m[36mTRANSACTION (17.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (13.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 183ms (Views: 4.1ms | ActiveRecord: 140.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:47:49.958143"], ["updated_at", "2025-02-18 21:47:49.958143"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 13ms (Views: 0.3ms | ActiveRecord: 11.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (15.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (15.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:47:50.076867"], ["updated_at", "2025-02-18 21:47:50.076867"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (13.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 18ms (Views: 0.2ms | ActiveRecord: 13.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (14.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (266.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:48:50.148446"], ["updated_at", "2025-02-18 21:48:50.148446"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/games" for 127.0.0.1 at 2025-02-18 21:48:50 +0000
  
ActionController::RoutingError (No route matches [POST] "/games"):
  
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (16.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:48:50.485319"], ["updated_at", "2025-02-18 21:48:50.485319"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/games" for 127.0.0.1 at 2025-02-18 21:48:50 +0000
  
ActionController::RoutingError (No route matches [POST] "/games"):
  
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:48:50.693823"], ["updated_at", "2025-02-18 21:48:50.693823"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTg5MzB9.zjQpXdlvc7xNDIrOxdt2ajQekOaASj6KJMHuSxyU_7U
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.7ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:48:50.774492"], ["id", 1]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 137ms (Views: 3.5ms | ActiveRecord: 105.3ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:48:50.924507"], ["updated_at", "2025-02-18 21:48:50.924507"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 13ms (Views: 0.3ms | ActiveRecord: 11.9ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:48:51.026689"], ["updated_at", "2025-02-18 21:48:51.026689"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 12ms (Views: 0.1ms | ActiveRecord: 9.7ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (14.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (240.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:51:54.035270"], ["updated_at", "2025-02-18 21:51:54.035270"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/games" for 127.0.0.1 at 2025-02-18 21:51:54 +0000
  
ActionController::RoutingError (No route matches [POST] "/games"):
  
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:51:54.314747"], ["updated_at", "2025-02-18 21:51:54.314747"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (13.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/games" for 127.0.0.1 at 2025-02-18 21:51:54 +0000
  
ActionController::RoutingError (No route matches [POST] "/games"):
  
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:51:54.538898"], ["updated_at", "2025-02-18 21:51:54.538898"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTkxMTR9.0KlXOuAISW5BN17_0BEWLzsIIh-MHYqreXAxSekQjmM
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:51:54.619082"], ["id", 1]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (12.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 138ms (Views: 3.5ms | ActiveRecord: 105.6ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (14.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:51:54.768556"], ["updated_at", "2025-02-18 21:51:54.768556"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 12ms (Views: 0.4ms | ActiveRecord: 10.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:51:54.869231"], ["updated_at", "2025-02-18 21:51:54.869231"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 13ms (Views: 0.1ms | ActiveRecord: 10.9ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (9.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (9.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (8.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (215.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (27.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:53:35.914223"], ["updated_at", "2025-02-18 21:53:35.914223"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 21:53:35 +0000
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:53:36.022465"], ["updated_at", "2025-02-18 21:53:36.022465"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 21:53:36 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (13.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:53:36.105747"], ["updated_at", "2025-02-18 21:53:36.105747"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTkyMTZ9.dYvdzwvxfi2ox5Wo_HMNR8mdRW6mjuOAMmrxZht7EYg
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (22.0ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:53:36.183282"], ["id", 1]]
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 130ms (Views: 3.5ms | ActiveRecord: 92.9ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:53:36.320171"], ["updated_at", "2025-02-18 21:53:36.320171"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (13.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 15ms (Views: 0.2ms | ActiveRecord: 13.8ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (25.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:53:36.420243"], ["updated_at", "2025-02-18 21:53:36.420243"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 13ms (Views: 0.1ms | ActiveRecord: 9.9ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (14.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (234.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (25.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:55:17.761686"], ["updated_at", "2025-02-18 21:55:17.761686"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 21:55:17 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTkzMTd9.4gDQRrxAoF4sBkibPUc_-iV7zBA-VpmFdYCgKLZc_6E
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:55:17.855290"], ["id", 1]]
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (12.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 136ms (Views: 0.4ms | ActiveRecord: 108.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:55:18.001535"], ["updated_at", "2025-02-18 21:55:18.001535"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 21:55:18 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:55:18.093360"], ["updated_at", "2025-02-18 21:55:18.093360"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTkzMTh9.GRfFm8Mhw6LuK8FNhjRuIN50OzVJjvpWuXv3Sk-bG3w
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (24.6ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:55:18.148440"], ["id", 1]]
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 78ms (Views: 3.2ms | ActiveRecord: 71.0ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (15.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:55:18.269842"], ["updated_at", "2025-02-18 21:55:18.269842"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 12ms (Views: 0.3ms | ActiveRecord: 10.8ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:55:18.380813"], ["updated_at", "2025-02-18 21:55:18.380813"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (13.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 18ms (Views: 0.1ms | ActiveRecord: 13.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (8.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (8.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (8.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (193.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:56:35.973277"], ["updated_at", "2025-02-18 21:56:35.973277"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 21:56:36 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTkzOTZ9.bpoDSP7dxjXCX5Y_4aqoGkgf4PTkQIlqaQUh7Ua_XMY
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:56:36.061864"], ["id", 1]]
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (16.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 126ms (Views: 0.4ms | ActiveRecord: 96.3ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 21:56:36 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (10.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (13.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (35.6ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 21:56:36.272418"], ["updated_at", "2025-02-18 21:56:36.272418"]]
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 169ms (Views: 2.6ms | ActiveRecord: 96.6ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (15.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (26.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:56:36.371429"], ["updated_at", "2025-02-18 21:56:36.371429"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (19.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 21:56:36 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (13.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (26.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:56:36.468326"], ["updated_at", "2025-02-18 21:56:36.468326"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (16.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTkzOTZ9.bpoDSP7dxjXCX5Y_4aqoGkgf4PTkQIlqaQUh7Ua_XMY
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (22.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:56:36.529403"], ["id", 1]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 69ms (Views: 1.8ms | ActiveRecord: 63.9ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:56:36.632328"], ["updated_at", "2025-02-18 21:56:36.632328"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 14ms (Views: 0.2ms | ActiveRecord: 12.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:56:36.729515"], ["updated_at", "2025-02-18 21:56:36.729515"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (15.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 23ms (Views: 0.1ms | ActiveRecord: 15.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (235.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (22.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:58:10.264179"], ["updated_at", "2025-02-18 21:58:10.264179"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 21:58:10 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk0OTB9.G2WDbjrTZUXqkGcLullnLJlNiE2nt0JLjbsIiZkMbOc
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.7ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:58:10.358528"], ["id", 1]]
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (12.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 135ms (Views: 0.4ms | ActiveRecord: 106.6ms (3 queries, 0 cached) | GC: 0.0ms)
Response body: {"message":"Login Successful","user":{"online":true,"id":1,"name":null,"email":"test@example.com","password_digest":"$2a$04$5B.vUoqVsCa1G/HHeHdAf.85HbxvWWhVG.6.77yivSDivUVvXG4Pa","phone_number":null,"last_name":null,"access":null,"role":null,"notifications":true,"created_at":"2025-02-18T21:58:10.264Z","updated_at":"2025-02-18T21:58:10.358Z","last_seen":null,"mode":"light","show":true},"token":"eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk0OTB9.G2WDbjrTZUXqkGcLullnLJlNiE2nt0JLjbsIiZkMbOc","cookie":{"value":"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkltVjVTbWhpUjJOcFQybEtTVlY2U1RGT2FVbzVMbVY1U2pGak1sWjVXREpzYTBscWIzaE1RMHBzWWxkR2NHSkRTVFpKYmxKc1l6TlNRVnBZYUdoaVdFSnpXbE0xYW1JeU1HbE1RMHBzWlVoQmFVOXFSVE5OZW1zMVRWUnJNRTlVUWprdVJ6SlhSR0pxY2xSYVZWaHhhMGRqVEhWc2JHNU1TbXhPYVVVeWJuUXdTa3hxWW5OSmFWcHJUV0pQWXlJPSIsImV4cCI6IjIwMjUtMDItMThUMjI6NTg6MTAuMzU4WiIsInB1ciI6ImNvb2tpZS50b2tlbiJ9fQ==--70d6b6f9f1315bd770fcdd03c1ddb84dc6b822b0","httponly":true,"same_site":"lax","expires":"2025-02-18T22:58:10.358Z","secure":false,"path":"/"},"picture":null}
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 21:58:10 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (12.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (21.9ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 21:58:10.571350"], ["updated_at", "2025-02-18 21:58:10.571350"]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 154ms (Views: 2.9ms | ActiveRecord: 81.4ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:58:10.662810"], ["updated_at", "2025-02-18 21:58:10.662810"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 21:58:10 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (27.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:58:10.752966"], ["updated_at", "2025-02-18 21:58:10.752966"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk0OTB9.G2WDbjrTZUXqkGcLullnLJlNiE2nt0JLjbsIiZkMbOc
  [1m[36mTRANSACTION (35.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (47.7ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:58:10.816062"], ["id", 1]]
  [1m[36mTRANSACTION (26.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (17.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 129ms (Views: 3.8ms | ActiveRecord: 139.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (16.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:58:10.988427"], ["updated_at", "2025-02-18 21:58:10.988427"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 13ms (Views: 0.2ms | ActiveRecord: 11.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:58:11.094145"], ["updated_at", "2025-02-18 21:58:11.094145"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 15ms (Views: 0.1ms | ActiveRecord: 10.6ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (13.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (13.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (252.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (25.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:58:38.053451"], ["updated_at", "2025-02-18 21:58:38.053451"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 21:58:38 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk1MTh9.rr5nQhRgOHP8NrTy_MXtU-zwHKHGgApWct9MmUVa284
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (22.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:58:38.179156"], ["id", 1]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (13.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 165ms (Views: 0.5ms | ActiveRecord: 130.3ms (3 queries, 0 cached) | GC: 0.0ms)
Response body: {"message":"Login Successful","user":{"online":true,"id":1,"name":null,"email":"test@example.com","password_digest":"$2a$04$gewG9deyXCbNz6wlugMWYO/TxoIJdt9g52HMWLhc.BsrnZGxLIp3.","phone_number":null,"last_name":null,"access":null,"role":null,"notifications":true,"created_at":"2025-02-18T21:58:38.053Z","updated_at":"2025-02-18T21:58:38.179Z","last_seen":null,"mode":"light","show":true},"token":"eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk1MTh9.rr5nQhRgOHP8NrTy_MXtU-zwHKHGgApWct9MmUVa284","cookie":{"value":"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkltVjVTbWhpUjJOcFQybEtTVlY2U1RGT2FVbzVMbVY1U2pGak1sWjVXREpzYTBscWIzaE1RMHBzWWxkR2NHSkRTVFpKYmxKc1l6TlNRVnBZYUdoaVdFSnpXbE0xYW1JeU1HbE1RMHBzWlVoQmFVOXFSVE5OZW1zMVRWUnJNVTFVYURrdWNuSTFibEZvVW1kUFNGQTRUbkpVZVY5TldIUlZMWHAzU0V0SVIyZEJjRmRqZERsTmJWVldZVEk0TkNJPSIsImV4cCI6IjIwMjUtMDItMThUMjI6NTg6MzguMTc4WiIsInB1ciI6ImNvb2tpZS50b2tlbiJ9fQ==--a3fc61b95df96f265a3a27457692374b9b634d11","httponly":true,"same_site":"lax","expires":"2025-02-18T22:58:38.178Z","secure":false,"path":"/"},"picture":null}
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 21:58:38 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (12.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (23.4ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 21:58:38.386402"], ["updated_at", "2025-02-18 21:58:38.386402"]]
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 147ms (Views: 1.8ms | ActiveRecord: 84.0ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:58:38.473675"], ["updated_at", "2025-02-18 21:58:38.473675"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 21:58:38 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:58:38.562935"], ["updated_at", "2025-02-18 21:58:38.562935"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk1MTh9.rr5nQhRgOHP8NrTy_MXtU-zwHKHGgApWct9MmUVa284
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (22.7ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:58:38.621045"], ["id", 1]]
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 74ms (Views: 1.3ms | ActiveRecord: 67.4ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:58:38.730329"], ["updated_at", "2025-02-18 21:58:38.730329"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 12ms (Views: 0.1ms | ActiveRecord: 10.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:58:38.833163"], ["updated_at", "2025-02-18 21:58:38.833163"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 20ms (Views: 0.1ms | ActiveRecord: 12.7ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (226.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (17.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:59:39.148604"], ["updated_at", "2025-02-18 21:59:39.148604"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 21:59:39 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk1Nzl9.iLDeGwE7iBDfjZ8TDlA7xddwX1D88WgN0n7FA6gp87k
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (21.7ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:59:39.243033"], ["id", 1]]
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (15.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 134ms (Views: 0.3ms | ActiveRecord: 106.4ms (3 queries, 0 cached) | GC: 0.0ms)
Response body: {"message":"Login Successful","user":{"online":true,"id":1,"name":null,"email":"test@example.com","password_digest":"$2a$04$eNSm9m2ustnnDBme8MtL6ORqeskt7pdF65FujKR2z5mQ0N5VywYRy","phone_number":null,"last_name":null,"access":null,"role":null,"notifications":true,"created_at":"2025-02-18T21:59:39.148Z","updated_at":"2025-02-18T21:59:39.243Z","last_seen":null,"mode":"light","show":true},"token":"eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk1Nzl9.iLDeGwE7iBDfjZ8TDlA7xddwX1D88WgN0n7FA6gp87k","cookie":{"value":"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkltVjVTbWhpUjJOcFQybEtTVlY2U1RGT2FVbzVMbVY1U2pGak1sWjVXREpzYTBscWIzaE1RMHBzWWxkR2NHSkRTVFpKYmxKc1l6TlNRVnBZYUdoaVdFSnpXbE0xYW1JeU1HbE1RMHBzWlVoQmFVOXFSVE5OZW1zMVRWUnJNVTU2YkRrdWFVeEVaVWQzUlRkcFFrUm1hbG80VkVSc1FUZDRaR1IzV0RGRU9EaFhaMDR3YmpkR1FUWm5jRGczYXlJPSIsImV4cCI6IjIwMjUtMDItMThUMjI6NTk6MzkuMjQyWiIsInB1ciI6ImNvb2tpZS50b2tlbiJ9fQ==--c3358f417ad4174c9cb0da75c893d81eda8e1d7f","httponly":true,"same_site":"lax","expires":"2025-02-18T22:59:39.242Z","secure":false,"path":"/"},"picture":null}
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 21:59:39 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (11.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (22.4ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 21:59:39.454330"], ["updated_at", "2025-02-18 21:59:39.454330"]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 152ms (Views: 2.9ms | ActiveRecord: 80.3ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:59:39.547200"], ["updated_at", "2025-02-18 21:59:39.547200"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 21:59:39 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:59:39.635806"], ["updated_at", "2025-02-18 21:59:39.635806"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (13.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (13.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk1Nzl9.iLDeGwE7iBDfjZ8TDlA7xddwX1D88WgN0n7FA6gp87k
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.0ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 21:59:39.696904"], ["id", 1]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 75ms (Views: 1.6ms | ActiveRecord: 70.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (13.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:59:39.809096"], ["updated_at", "2025-02-18 21:59:39.809096"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 12ms (Views: 0.2ms | ActiveRecord: 10.7ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 21:59:39.912712"], ["updated_at", "2025-02-18 21:59:39.912712"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 17ms (Views: 0.1ms | ActiveRecord: 10.7ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (234.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:00:15.770748"], ["updated_at", "2025-02-18 22:00:15.770748"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:00:15 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk2MTV9.VcSjSJQC9_MZsrRaSfH7dcRcojWlyXhP6EMrJc6vFys
  [1m[36mTRANSACTION (14.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (29.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:00:15.867266"], ["id", 1]]
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (12.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 148ms (Views: 0.8ms | ActiveRecord: 121.8ms (3 queries, 0 cached) | GC: 0.0ms)
Response body: {"message":"Login Successful","user":{"online":true,"id":1,"name":null,"email":"test@example.com","password_digest":"$2a$04$q2BeUaOJq10JnMyracUl.OAeCpa2mj0sChLappxxwdkOCX3o9fPLG","phone_number":null,"last_name":null,"access":null,"role":null,"notifications":true,"created_at":"2025-02-18T22:00:15.770Z","updated_at":"2025-02-18T22:00:15.867Z","last_seen":null,"mode":"light","show":true},"token":"eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk2MTV9.VcSjSJQC9_MZsrRaSfH7dcRcojWlyXhP6EMrJc6vFys","cookie":{"value":"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkltVjVTbWhpUjJOcFQybEtTVlY2U1RGT2FVbzVMbVY1U2pGak1sWjVXREpzYTBscWIzaE1RMHBzWWxkR2NHSkRTVFpKYmxKc1l6TlNRVnBZYUdoaVdFSnpXbE0xYW1JeU1HbE1RMHBzWlVoQmFVOXFSVE5OZW1zMVRWUnJNazFVVmprdVZtTlRhbE5LVVVNNVgwMWFjM0pTWVZObVNEZGtZMUpqYjJwWGJIbFlhRkEyUlUxeVNtTTJka1o1Y3lJPSIsImV4cCI6IjIwMjUtMDItMThUMjM6MDA6MTUuODY2WiIsInB1ciI6ImNvb2tpZS50b2tlbiJ9fQ==--e7d29fecc3dfa843a1f6f43ff9c2ffc6260fe39c","httponly":true,"same_site":"lax","expires":"2025-02-18T23:00:15.866Z","secure":false,"path":"/"},"picture":null}
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:00:15 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (11.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (25.1ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:00:16.098315"], ["updated_at", "2025-02-18 22:00:16.098315"]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 162ms (Views: 2.9ms | ActiveRecord: 85.1ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:00:16.201699"], ["updated_at", "2025-02-18 22:00:16.201699"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (13.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:00:16 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (13.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (25.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:00:16.293724"], ["updated_at", "2025-02-18 22:00:16.293724"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk2MTZ9.7SJzUZ6sjofD59h5m5BjKzlSPH2kFhViS3FCc-xB4wA
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.2ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:00:16.347730"], ["id", 1]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 67ms (Views: 1.0ms | ActiveRecord: 69.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:00:16.451124"], ["updated_at", "2025-02-18 22:00:16.451124"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 13ms (Views: 0.1ms | ActiveRecord: 11.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (25.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:00:16.551427"], ["updated_at", "2025-02-18 22:00:16.551427"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 19ms (Views: 0.1ms | ActiveRecord: 12.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (8.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (9.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (197.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:01:03.098139"], ["updated_at", "2025-02-18 22:01:03.098139"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:01:03 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk2NjN9.hGEQK3fSNE4wkfT6yYvozhyJjDlhJq-n_czDftETJIs
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (18.2ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:01:03.182513"], ["id", 1]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 114ms (Views: 0.4ms | ActiveRecord: 88.4ms (3 queries, 0 cached) | GC: 0.0ms)
Response body: {"message":"Login Successful","user":{"online":true,"id":1,"name":null,"email":"test@example.com","password_digest":"$2a$04$vr6L0mN9pP/lBvtdzdAwc.Sg2PWcySxjn5FNVeaMRETVzk58GX6uq","phone_number":null,"last_name":null,"access":null,"role":null,"notifications":true,"created_at":"2025-02-18T22:01:03.098Z","updated_at":"2025-02-18T22:01:03.182Z","last_seen":null,"mode":"light","show":true},"token":"eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk2NjN9.hGEQK3fSNE4wkfT6yYvozhyJjDlhJq-n_czDftETJIs","cookie":{"value":"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkltVjVTbWhpUjJOcFQybEtTVlY2U1RGT2FVbzVMbVY1U2pGak1sWjVXREpzYTBscWIzaE1RMHBzWWxkR2NHSkRTVFpKYmxKc1l6TlNRVnBZYUdoaVdFSnpXbE0xYW1JeU1HbE1RMHBzWlVoQmFVOXFSVE5OZW1zMVRWUnJNazVxVGprdWFFZEZVVXN6WmxOT1JUUjNhMlpVTm5sWmRtOTZhSGxLYWtSc2FFcHhMVzVmWTNwRVpuUkZWRXBKY3lJPSIsImV4cCI6IjIwMjUtMDItMThUMjM6MDE6MDMuMTgyWiIsInB1ciI6ImNvb2tpZS50b2tlbiJ9fQ==--f72ba66533b81e601b5d6ac524a6b20965691f64","httponly":true,"same_site":"lax","expires":"2025-02-18T23:01:03.182Z","secure":false,"path":"/"},"picture":null}
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:01:03 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18"}}
  [1m[36mManager Load (10.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 145ms (Views: 51.6ms | ActiveRecord: 31.6ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:01:03.456065"], ["updated_at", "2025-02-18 22:01:03.456065"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:01:03 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:01:03.526202"], ["updated_at", "2025-02-18 22:01:03.526202"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk2NjN9.hGEQK3fSNE4wkfT6yYvozhyJjDlhJq-n_czDftETJIs
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:01:03.569628"], ["id", 1]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 58ms (Views: 2.1ms | ActiveRecord: 53.7ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:01:03.657781"], ["updated_at", "2025-02-18 22:01:03.657781"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 10ms (Views: 0.1ms | ActiveRecord: 8.9ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:01:03.741998"], ["updated_at", "2025-02-18 22:01:03.741998"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 13ms (Views: 0.2ms | ActiveRecord: 8.8ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (9.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (216.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:03:54.841132"], ["updated_at", "2025-02-18 22:03:54.841132"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:03:54 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk4MzR9.v5wcUecf5-yzx5DZzHTNfjzHfa8U_5_3jKh1LCxzG-w
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (18.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:03:54.928656"], ["id", 1]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 116ms (Views: 0.4ms | ActiveRecord: 89.5ms (3 queries, 0 cached) | GC: 0.0ms)
Response body: {"message":"Login Successful","user":{"online":true,"id":1,"name":null,"email":"test@example.com","password_digest":"$2a$04$uEtlxfK62G3W2aEc3i5zx.mCv4Nu4RYnWQGkKd/UXexmBn.70u21m","phone_number":null,"last_name":null,"access":null,"role":null,"notifications":true,"created_at":"2025-02-18T22:03:54.841Z","updated_at":"2025-02-18T22:03:54.928Z","last_seen":null,"mode":"light","show":true},"token":"eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk4MzR9.v5wcUecf5-yzx5DZzHTNfjzHfa8U_5_3jKh1LCxzG-w","cookie":{"value":"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkltVjVTbWhpUjJOcFQybEtTVlY2U1RGT2FVbzVMbVY1U2pGak1sWjVXREpzYTBscWIzaE1RMHBzWWxkR2NHSkRTVFpKYmxKc1l6TlNRVnBZYUdoaVdFSnpXbE0xYW1JeU1HbE1RMHBzWlVoQmFVOXFSVE5OZW1zMVRWUnJORTE2VWprdWRqVjNZMVZsWTJZMUxYbDZlRFZFV25wSVZFNW1hbnBJWm1FNFZWODFYek5xUzJneFRFTjRla2N0ZHlJPSIsImV4cCI6IjIwMjUtMDItMThUMjM6MDM6NTQuOTI4WiIsInB1ciI6ImNvb2tpZS50b2tlbiJ9fQ==--766eca9590c88f6d8136737d4c369fe5bb1d2eb1","httponly":true,"same_site":"lax","expires":"2025-02-18T23:03:54.928Z","secure":false,"path":"/"},"picture":null}
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:03:55 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (10.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (20.9ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:03:55.113825"], ["updated_at", "2025-02-18 22:03:55.113825"]]
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 138ms (Views: 2.4ms | ActiveRecord: 69.8ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:03:55.192020"], ["updated_at", "2025-02-18 22:03:55.192020"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:03:55 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk4MzV9.kHirfz5Z20VOqSaus4TuxcKBICbNOB4gkAyKVvzJESI
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:03:55.234901"], ["id", 1]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 58ms (Views: 1.2ms | ActiveRecord: 55.6ms (3 queries, 0 cached) | GC: 0.0ms)
Response body: {"message":"Login Successful","user":{"online":true,"id":1,"name":null,"email":"test@example.com","password_digest":"$2a$04$QPRFvWKzv3p8v4rzRZ.PjOJwHfl2T8x4P8IQWwGW5s0Rz5DT8ak3y","phone_number":null,"last_name":null,"access":null,"role":null,"notifications":true,"created_at":"2025-02-18T22:03:55.192Z","updated_at":"2025-02-18T22:03:55.234Z","last_seen":null,"mode":"light","show":true},"token":"eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk4MzV9.kHirfz5Z20VOqSaus4TuxcKBICbNOB4gkAyKVvzJESI","cookie":{"value":"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkltVjVTbWhpUjJOcFQybEtTVlY2U1RGT2FVbzVMbVY1U2pGak1sWjVXREpzYTBscWIzaE1RMHBzWWxkR2NHSkRTVFpKYmxKc1l6TlNRVnBZYUdoaVdFSnpXbE0xYW1JeU1HbE1RMHBzWlVoQmFVOXFSVE5OZW1zMVRWUnJORTE2VmprdWEwaHBjbVo2TlZveU1GWlBjVk5oZFhNMFZIVjRZMHRDU1VOaVRrOUNOR2RyUVhsTFZuWjZTa1ZUU1NJPSIsImV4cCI6IjIwMjUtMDItMThUMjM6MDM6NTUuMjMzWiIsInB1ciI6ImNvb2tpZS50b2tlbiJ9fQ==--3fe3495ff0daa51d0669bac744f57539234dca08","httponly":true,"same_site":"lax","expires":"2025-02-18T23:03:55.233Z","secure":false,"path":"/"},"picture":null}
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:03:55 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (10.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (18.8ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:03:55.312440"], ["updated_at", "2025-02-18 22:03:55.312440"]]
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 59ms (Views: 0.3ms | ActiveRecord: 47.6ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:03:55.389828"], ["updated_at", "2025-02-18 22:03:55.389828"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk4MzV9.kHirfz5Z20VOqSaus4TuxcKBICbNOB4gkAyKVvzJESI
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (21.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:03:55.435710"], ["id", 1]]
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 59ms (Views: 1.7ms | ActiveRecord: 59.8ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:03:55.531701"], ["updated_at", "2025-02-18 22:03:55.531701"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 13ms (Views: 0.1ms | ActiveRecord: 9.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:03:55.623770"], ["updated_at", "2025-02-18 22:03:55.623770"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 12ms (Views: 0.7ms | ActiveRecord: 9.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (228.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (13.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:04:18.719489"], ["updated_at", "2025-02-18 22:04:18.719489"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:04:18 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk4NTh9.46fnA2MwqUTbASET3VTRw3WcKjkwPiLcAV47kQZFksA
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:04:18.803045"], ["id", 1]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 115ms (Views: 0.4ms | ActiveRecord: 90.7ms (3 queries, 0 cached) | GC: 0.0ms)
Response body: {"message":"Login Successful","user":{"online":true,"id":1,"name":null,"email":"test@example.com","password_digest":"$2a$04$WSiuP9nGBayLjm1UkXttJOJXg6QE29wPSzYkEMNaeZhjdz39KZeyq","phone_number":null,"last_name":null,"access":null,"role":null,"notifications":true,"created_at":"2025-02-18T22:04:18.719Z","updated_at":"2025-02-18T22:04:18.803Z","last_seen":null,"mode":"light","show":true},"token":"eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk4NTh9.46fnA2MwqUTbASET3VTRw3WcKjkwPiLcAV47kQZFksA","cookie":{"value":"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkltVjVTbWhpUjJOcFQybEtTVlY2U1RGT2FVbzVMbVY1U2pGak1sWjVXREpzYTBscWIzaE1RMHBzWWxkR2NHSkRTVFpKYmxKc1l6TlNRVnBZYUdoaVdFSnpXbE0xYW1JeU1HbE1RMHBzWlVoQmFVOXFSVE5OZW1zMVRWUnJORTVVYURrdU5EWm1ia0V5VFhkeFZWUmlRVk5GVkROV1ZGSjNNMWRqUzJwcmQxQnBUR05CVmpRM2ExRmFSbXR6UVNJPSIsImV4cCI6IjIwMjUtMDItMThUMjM6MDQ6MTguODAyWiIsInB1ciI6ImNvb2tpZS50b2tlbiJ9fQ==--d68b5a8f22e3c44d05ea77ac4c33c587e3921bb3","httponly":true,"same_site":"lax","expires":"2025-02-18T23:04:18.802Z","secure":false,"path":"/"},"picture":null}
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:04:18 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (11.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (20.7ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:04:18.996514"], ["updated_at", "2025-02-18 22:04:18.996514"]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 145ms (Views: 2.6ms | ActiveRecord: 71.9ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:04:19.076777"], ["updated_at", "2025-02-18 22:04:19.076777"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:04:19 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk4NTl9.jbseenkd_0yQf9MltAyrf4ONO4sm57Y6Aj1F3sMNUtM
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (20.0ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:04:19.122637"], ["id", 1]]
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 64ms (Views: 1.7ms | ActiveRecord: 56.4ms (3 queries, 0 cached) | GC: 0.0ms)
Response body: {"message":"Login Successful","user":{"online":true,"id":1,"name":null,"email":"test@example.com","password_digest":"$2a$04$WwWk22oMZDRFzttMw7X2RO3gMYdkhcjoclW7c9kP.c.hc8fV0ukme","phone_number":null,"last_name":null,"access":null,"role":null,"notifications":true,"created_at":"2025-02-18T22:04:19.076Z","updated_at":"2025-02-18T22:04:19.122Z","last_seen":null,"mode":"light","show":true},"token":"eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk4NTl9.jbseenkd_0yQf9MltAyrf4ONO4sm57Y6Aj1F3sMNUtM","cookie":{"value":"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkltVjVTbWhpUjJOcFQybEtTVlY2U1RGT2FVbzVMbVY1U2pGak1sWjVXREpzYTBscWIzaE1RMHBzWWxkR2NHSkRTVFpKYmxKc1l6TlNRVnBZYUdoaVdFSnpXbE0xYW1JeU1HbE1RMHBzWlVoQmFVOXFSVE5OZW1zMVRWUnJORTVVYkRrdWFtSnpaV1Z1YTJSZk1IbFJaamxOYkhSQmVYSm1ORTlPVHpSemJUVTNXVFpCYWpGR00zTk5UbFYwVFNJPSIsImV4cCI6IjIwMjUtMDItMThUMjM6MDQ6MTkuMTIxWiIsInB1ciI6ImNvb2tpZS50b2tlbiJ9fQ==--ffdcf5540c1ecf29b03e95b73a4ed5b65421c3e2","httponly":true,"same_site":"lax","expires":"2025-02-18T23:04:19.121Z","secure":false,"path":"/"},"picture":null}
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:04:19 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (10.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (19.8ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:04:19.208752"], ["updated_at", "2025-02-18 22:04:19.208752"]]
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 64ms (Views: 0.4ms | ActiveRecord: 49.4ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:04:19.292525"], ["updated_at", "2025-02-18 22:04:19.292525"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk4NTl9.jbseenkd_0yQf9MltAyrf4ONO4sm57Y6Aj1F3sMNUtM
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (18.8ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:04:19.339011"], ["id", 1]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (8.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 58ms (Views: 1.6ms | ActiveRecord: 56.0ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:04:19.433352"], ["updated_at", "2025-02-18 22:04:19.433352"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 14ms (Views: 0.1ms | ActiveRecord: 9.7ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:04:19.527374"], ["updated_at", "2025-02-18 22:04:19.527374"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 12ms (Views: 0.7ms | ActiveRecord: 8.9ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (8.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (8.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (9.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (215.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:04:48.449464"], ["updated_at", "2025-02-18 22:04:48.449464"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk4ODh9.Qhgia-K7ruW36oDyqIn2LDrl4ro_HCkUHYwxLUgLGGY
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.4ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:04:48.525678"], ["id", 1]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 118ms (Views: 0.7ms | ActiveRecord: 88.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:04:48.660983"], ["updated_at", "2025-02-18 22:04:48.660983"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 11ms (Views: 0.2ms | ActiveRecord: 10.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:04:48.746894"], ["updated_at", "2025-02-18 22:04:48.746894"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 12ms (Views: 0.3ms | ActiveRecord: 8.6ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (8.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (9.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (223.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:05:08.856321"], ["updated_at", "2025-02-18 22:05:08.856321"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk5MDh9.D7fWmokhwECIQ378yU1JAEqAWXyb2rwi4Z6nx_V8Xbg
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (21.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:05:08.933185"], ["id", 1]]
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 121ms (Views: 0.5ms | ActiveRecord: 91.9ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:05:09.071718"], ["updated_at", "2025-02-18 22:05:09.071718"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 13ms (Views: 0.2ms | ActiveRecord: 11.9ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:05:09.163769"], ["updated_at", "2025-02-18 22:05:09.163769"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 12ms (Views: 0.3ms | ActiveRecord: 8.8ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (241.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:05:27.989415"], ["updated_at", "2025-02-18 22:05:27.989415"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:05:28 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (13.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk5Mjh9.0WGKdxcbNjxfglL1XvQ1eI50m_EgijXe2H_w3jq0-xo
  [1m[36mTRANSACTION (13.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (27.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:05:28.086373"], ["id", 1]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 139ms (Views: 0.4ms | ActiveRecord: 113.2ms (3 queries, 0 cached) | GC: 0.0ms)
Response body: {"message":"Login Successful","user":{"online":true,"id":1,"name":null,"email":"test@example.com","password_digest":"$2a$04$y/6hC1ryk1bw7JJmAmxrieAhLJR2ges.seK.wcxn0j4umjo/l34Pe","phone_number":null,"last_name":null,"access":null,"role":null,"notifications":true,"created_at":"2025-02-18T22:05:27.989Z","updated_at":"2025-02-18T22:05:28.086Z","last_seen":null,"mode":"light","show":true},"token":"eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk5Mjh9.0WGKdxcbNjxfglL1XvQ1eI50m_EgijXe2H_w3jq0-xo","cookie":{"value":"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkltVjVTbWhpUjJOcFQybEtTVlY2U1RGT2FVbzVMbVY1U2pGak1sWjVXREpzYTBscWIzaE1RMHBzWWxkR2NHSkRTVFpKYmxKc1l6TlNRVnBZYUdoaVdFSnpXbE0xYW1JeU1HbE1RMHBzWlVoQmFVOXFSVE5OZW1zMVRWUnJOVTFxYURrdU1GZEhTMlI0WTJKT2FuaG1aMnhNTVZoMlVURmxTVFV3YlY5RloybHFXR1V5U0Y5M00ycHhNQzE0YnlJPSIsImV4cCI6IjIwMjUtMDItMThUMjM6MDU6MjguMDg1WiIsInB1ciI6ImNvb2tpZS50b2tlbiJ9fQ==--a7f003290f07e9de64ec3711f0034acf7942a045","httponly":true,"same_site":"lax","expires":"2025-02-18T23:05:28.085Z","secure":false,"path":"/"},"picture":null}
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:05:28 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (12.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (23.4ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:05:28.299826"], ["updated_at", "2025-02-18 22:05:28.299826"]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 153ms (Views: 2.1ms | ActiveRecord: 85.6ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:05:28.392375"], ["updated_at", "2025-02-18 22:05:28.392375"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (13.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:05:28 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:05:28.482995"], ["updated_at", "2025-02-18 22:05:28.482995"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MTk5Mjh9.0WGKdxcbNjxfglL1XvQ1eI50m_EgijXe2H_w3jq0-xo
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (24.6ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:05:28.534894"], ["id", 1]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 68ms (Views: 1.1ms | ActiveRecord: 68.7ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:05:28.640396"], ["updated_at", "2025-02-18 22:05:28.640396"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 12ms (Views: 0.2ms | ActiveRecord: 10.9ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (14.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:05:28.744973"], ["updated_at", "2025-02-18 22:05:28.744973"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 17ms (Views: 0.1ms | ActiveRecord: 10.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (13.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (246.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (27.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:09:09.658436"], ["updated_at", "2025-02-18 22:09:09.658436"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (13.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:09:09 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (20.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjAxNDl9.TlmOr0Mt5VgUmRQ-eTFiPXgfFDBOKHvXJRpc1-RSUak
  [1m[36mTRANSACTION (17.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (30.6ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:09:09.771198"], ["id", 1]]
  [1m[36mTRANSACTION (16.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (15.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 165ms (Views: 0.5ms | ActiveRecord: 138.1ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:09:09 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (12.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (30.6ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:09:10.020190"], ["updated_at", "2025-02-18 22:09:10.020190"]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 178ms (Views: 2.2ms | ActiveRecord: 104.5ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (31.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:09:10.120760"], ["updated_at", "2025-02-18 22:09:10.120760"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:09:10 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (13.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (13.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (26.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:09:10.230427"], ["updated_at", "2025-02-18 22:09:10.230427"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (16.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (15.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjAxNTB9.9uXeTFVt3LHqJeF8hmcyU3ohDXPM05Kty1VjKKP2174
  [1m[36mTRANSACTION (16.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (37.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:09:10.319642"], ["id", 1]]
  [1m[36mTRANSACTION (17.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (12.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 94ms (Views: 1.5ms | ActiveRecord: 97.8ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (19.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (20.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (36.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:09:10.459194"], ["updated_at", "2025-02-18 22:09:10.459194"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (13.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (17.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 20ms (Views: 0.3ms | ActiveRecord: 17.7ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (13.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (13.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (29.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:09:10.600951"], ["updated_at", "2025-02-18 22:09:10.600951"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (15.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 20ms (Views: 0.1ms | ActiveRecord: 11.6ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (13.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (8.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (9.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (200.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:12:46.374278"], ["updated_at", "2025-02-18 22:12:46.374278"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:12:46 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjAzNjZ9.Nd9VcLok6A9JAACNUaMghKCQh1u69K6JgjLD9KbHDfM
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:12:46.458800"], ["id", 1]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 114ms (Views: 0.4ms | ActiveRecord: 88.1ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:12:46 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (10.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (20.7ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:12:46.639669"], ["updated_at", "2025-02-18 22:12:46.639669"]]
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 132ms (Views: 2.1ms | ActiveRecord: 72.6ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:12:46.717319"], ["updated_at", "2025-02-18 22:12:46.717319"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:12:46 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:12:46.789994"], ["updated_at", "2025-02-18 22:12:46.789994"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjAzNjZ9.Nd9VcLok6A9JAACNUaMghKCQh1u69K6JgjLD9KbHDfM
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (21.7ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:12:46.837960"], ["id", 1]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (8.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 65ms (Views: 1.8ms | ActiveRecord: 57.8ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:12:46.932852"], ["updated_at", "2025-02-18 22:12:46.932852"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (13.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 12ms (Views: 0.3ms | ActiveRecord: 9.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (13.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:12:47.032020"], ["updated_at", "2025-02-18 22:12:47.032020"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 17ms (Views: 0.1ms | ActiveRecord: 8.9ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (9.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (8.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (8.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (212.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:13:42.055447"], ["updated_at", "2025-02-18 22:13:42.055447"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:13:42 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjA0MjJ9.M-QSSkYpDtDZf8zyN63USBZyojPw8bBXCZyv1OrVAok
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.0ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:13:42.141473"], ["id", 1]]
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 122ms (Views: 0.4ms | ActiveRecord: 94.9ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:13:42 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (9.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (19.4ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:13:42.335735"], ["updated_at", "2025-02-18 22:13:42.335735"]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 137ms (Views: 1.8ms | ActiveRecord: 71.0ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:13:42.410226"], ["updated_at", "2025-02-18 22:13:42.410226"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:13:42 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:13:42.483164"], ["updated_at", "2025-02-18 22:13:42.483164"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjA0MjJ9.M-QSSkYpDtDZf8zyN63USBZyojPw8bBXCZyv1OrVAok
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.6ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:13:42.532039"], ["id", 1]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (8.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 65ms (Views: 1.9ms | ActiveRecord: 55.8ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (13.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (25.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:13:42.629526"], ["updated_at", "2025-02-18 22:13:42.629526"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (17.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (33.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 36ms (Views: 0.3ms | ActiveRecord: 33.6ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (20.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (14.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:13:42.780897"], ["updated_at", "2025-02-18 22:13:42.780897"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 21ms (Views: 0.1ms | ActiveRecord: 11.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:13:42.899824"], ["updated_at", "2025-02-18 22:13:42.899824"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:13:42.974468"], ["updated_at", "2025-02-18 22:13:42.974468"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:13:43.046107"], ["updated_at", "2025-02-18 22:13:43.046107"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (9.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (205.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:16:06.837007"], ["updated_at", "2025-02-18 22:16:06.837007"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:16:06 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjA1NjZ9.iBQ2GbJ2dDuYbP8ZgPY82So2b4B5psTL8ipB1nvaxlw
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (18.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:16:06.917480"], ["id", 1]]
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 130ms (Views: 0.4ms | ActiveRecord: 86.2ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:16:07 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (9.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (19.9ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:16:07.111439"], ["updated_at", "2025-02-18 22:16:07.111439"]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 127ms (Views: 2.1ms | ActiveRecord: 68.9ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:16:07.184910"], ["updated_at", "2025-02-18 22:16:07.184910"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:16:07 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:16:07.256511"], ["updated_at", "2025-02-18 22:16:07.256511"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjA1Njd9.WmFOuiXQQ92SiKN9G32uTA1EnjVbHvYBEDhOY7SxXmY
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:16:07.303284"], ["id", 1]]
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 60ms (Views: 1.4ms | ActiveRecord: 54.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:16:07.391985"], ["updated_at", "2025-02-18 22:16:07.391985"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 11ms (Views: 0.1ms | ActiveRecord: 9.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:16:07.474528"], ["updated_at", "2025-02-18 22:16:07.474528"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 15ms (Views: 0.1ms | ActiveRecord: 8.8ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.0ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (13.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (17.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (9.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (17.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (217.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (13.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (26.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:17:26.656434"], ["updated_at", "2025-02-18 22:17:26.656434"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:17:26 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjA2NDZ9.NsHOCsS6zyFkPBvOSU2Pp3wy8MF-Bxs1zvfjB5wvTKU
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (21.6ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:17:26.752091"], ["id", 1]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (16.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 125ms (Views: 0.3ms | ActiveRecord: 98.8ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:17:26 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (10.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (21.0ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:17:26.946552"], ["updated_at", "2025-02-18 22:17:26.946552"]]
  [1m[36mTRANSACTION (15.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 146ms (Views: 2.4ms | ActiveRecord: 80.9ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (13.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:17:27.039301"], ["updated_at", "2025-02-18 22:17:27.039301"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:17:27 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (13.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:17:27.123052"], ["updated_at", "2025-02-18 22:17:27.123052"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjA2NDd9.hZ_bdw_reahtr_8WyEeVN3l89woTwxAFqW_U09uMu8k
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (20.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:17:27.179091"], ["id", 1]]
  [1m[36mTRANSACTION (14.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 73ms (Views: 2.1ms | ActiveRecord: 62.6ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:17:27.290283"], ["updated_at", "2025-02-18 22:17:27.290283"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 11ms (Views: 0.3ms | ActiveRecord: 9.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:17:27.393863"], ["updated_at", "2025-02-18 22:17:27.393863"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 17ms (Views: 0.1ms | ActiveRecord: 9.8ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (24.8ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Patrick"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", true], ["created_at", "2025-02-18 22:17:27.544778"], ["updated_at", "2025-02-18 22:17:27.544778"]]
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:17:27.586324"], ["updated_at", "2025-02-18 22:17:27.586324"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (19.8ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Patrick"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:17:27.660224"], ["updated_at", "2025-02-18 22:17:27.660224"]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:17:27.698898"], ["updated_at", "2025-02-18 22:17:27.698898"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (264.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:18:59.835272"], ["updated_at", "2025-02-18 22:18:59.835272"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:18:59 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjA3Mzl9.DuTcJpLZIgkodC2InfK-rc42T0zOsCxPHp-dVBAl3Xk
  [1m[36mTRANSACTION (15.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (28.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:18:59.933378"], ["id", 1]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (14.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 151ms (Views: 0.5ms | ActiveRecord: 121.8ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:19:00 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (16.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (13.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (28.2ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:19:00.172256"], ["updated_at", "2025-02-18 22:19:00.172256"]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 166ms (Views: 1.5ms | ActiveRecord: 96.5ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:19:00.262235"], ["updated_at", "2025-02-18 22:19:00.262235"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:19:00 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (13.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:19:00.348568"], ["updated_at", "2025-02-18 22:19:00.348568"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjA3NDB9.jf85UNkBKltsZl7_T8ntc47hpLUxEg1HEEVDsWdf78U
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (22.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:19:00.401918"], ["id", 1]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 67ms (Views: 1.1ms | ActiveRecord: 64.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:19:00.505515"], ["updated_at", "2025-02-18 22:19:00.505515"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 11ms (Views: 0.2ms | ActiveRecord: 10.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:19:00.603234"], ["updated_at", "2025-02-18 22:19:00.603234"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 17ms (Views: 0.1ms | ActiveRecord: 10.8ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (22.6ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Patrick"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", true], ["created_at", "2025-02-18 22:19:00.745924"], ["updated_at", "2025-02-18 22:19:00.745924"]]
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (27.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:19:00.782907"], ["updated_at", "2025-02-18 22:19:00.782907"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (22.2ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Patrick"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:19:00.869566"], ["updated_at", "2025-02-18 22:19:00.869566"]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:19:00.910146"], ["updated_at", "2025-02-18 22:19:00.910146"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (14.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (13.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (248.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:19:52.497570"], ["updated_at", "2025-02-18 22:19:52.497570"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (15.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:19:52 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjA3OTJ9.kbyrfyzt6x9lR2zc2TeYmQrdHali9rxaq-slNH4VKJE
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (27.0ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:19:52.598001"], ["id", 1]]
  [1m[36mTRANSACTION (13.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (12.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 142ms (Views: 0.3ms | ActiveRecord: 115.4ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:19:52 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (12.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (24.2ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:19:52.819687"], ["updated_at", "2025-02-18 22:19:52.819687"]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 159ms (Views: 3.0ms | ActiveRecord: 85.5ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (32.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:19:52.912787"], ["updated_at", "2025-02-18 22:19:52.912787"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:19:52 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (13.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (27.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:19:53.010762"], ["updated_at", "2025-02-18 22:19:53.010762"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjA3OTN9.c_bCWc5Zk52Su0WLK9Si77qaskaztcSfRSICojdiyTU
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (25.0ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:19:53.071881"], ["id", 1]]
  [1m[36mTRANSACTION (14.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 78ms (Views: 1.5ms | ActiveRecord: 73.8ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (25.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:19:53.186772"], ["updated_at", "2025-02-18 22:19:53.186772"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 12ms (Views: 0.1ms | ActiveRecord: 10.9ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:19:53.293611"], ["updated_at", "2025-02-18 22:19:53.293611"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 33ms (Views: 0.6ms | ActiveRecord: 10.8ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (24.0ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Patrick"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", true], ["created_at", "2025-02-18 22:19:53.462466"], ["updated_at", "2025-02-18 22:19:53.462466"]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:19:53.502329"], ["updated_at", "2025-02-18 22:19:53.502329"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (16.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (25.3ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Patrick"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:19:53.590896"], ["updated_at", "2025-02-18 22:19:53.590896"]]
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (28.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:19:53.635411"], ["updated_at", "2025-02-18 22:19:53.635411"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (13.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (13.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (19.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (17.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (243.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (13.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (33.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:20:32.483501"], ["updated_at", "2025-02-18 22:20:32.483501"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:20:32 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjA4MzJ9.hrI-5mD9UCnPasggvywLCCYN42VQ-g3QL6sDxUm0aAw
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (26.0ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:20:32.591086"], ["id", 1]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 140ms (Views: 0.5ms | ActiveRecord: 109.6ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:20:32 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (13.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (14.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (29.0ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:20:32.822079"], ["updated_at", "2025-02-18 22:20:32.822079"]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 176ms (Views: 3.1ms | ActiveRecord: 100.8ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (19.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (29.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (52.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:20:32.936114"], ["updated_at", "2025-02-18 22:20:32.936114"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (17.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:20:33 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (26.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:20:33.067346"], ["updated_at", "2025-02-18 22:20:33.067346"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjA4MzN9.lGEysKO3TQ0uUVyE0NHCwrqVHGRDYzdafOfdAEAT-Do
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (26.4ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:20:33.131190"], ["id", 1]]
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 84ms (Views: 2.7ms | ActiveRecord: 73.4ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (25.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:20:33.256943"], ["updated_at", "2025-02-18 22:20:33.256943"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 14ms (Views: 0.1ms | ActiveRecord: 12.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:20:33.361087"], ["updated_at", "2025-02-18 22:20:33.361087"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 16ms (Views: 0.1ms | ActiveRecord: 11.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (14.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (14.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (28.9ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Patrick"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", true], ["created_at", "2025-02-18 22:20:33.517167"], ["updated_at", "2025-02-18 22:20:33.517167"]]
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (13.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (27.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:20:33.561629"], ["updated_at", "2025-02-18 22:20:33.561629"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (9.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (194.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:21:54.548355"], ["updated_at", "2025-02-18 22:21:54.548355"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:21:54 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjA5MTR9.ygcOx0tfzMSTZgM_PkF0y4TKKzjtIM87YMvpYjIkCoo
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:21:54.627548"], ["id", 1]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 111ms (Views: 0.5ms | ActiveRecord: 86.5ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:21:54 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (9.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (20.4ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:21:54.804952"], ["updated_at", "2025-02-18 22:21:54.804952"]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 131ms (Views: 2.1ms | ActiveRecord: 70.3ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:21:54.881023"], ["updated_at", "2025-02-18 22:21:54.881023"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:21:54 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (17.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (17.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (40.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:21:54.970543"], ["updated_at", "2025-02-18 22:21:54.970543"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (22.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjA5MTV9.eZxtet9GoiT8Qrb13lUY8s46qasw4Z8GCIaxiXqGRDU
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (20.0ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:21:55.054842"], ["id", 1]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (8.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 74ms (Views: 1.7ms | ActiveRecord: 69.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:21:55.144768"], ["updated_at", "2025-02-18 22:21:55.144768"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 11ms (Views: 0.2ms | ActiveRecord: 9.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:21:55.232831"], ["updated_at", "2025-02-18 22:21:55.232831"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 17ms (Views: 0.1ms | ActiveRecord: 9.6ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:21:55.340471"], ["updated_at", "2025-02-18 22:21:55.340471"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:21:55 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjA5MTV9.eZxtet9GoiT8Qrb13lUY8s46qasw4Z8GCIaxiXqGRDU
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (26.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:21:55.393435"], ["id", 1]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (8.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 74ms (Views: 0.6ms | ActiveRecord: 66.2ms (3 queries, 0 cached) | GC: 0.0ms)
Started PUT "/api/games" for 127.0.0.1 at 2025-02-18 22:21:55 +0000
  
ActionController::RoutingError (No route matches [PUT] "/api/games"):
  
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (8.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (8.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (8.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (214.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:22:25.457468"], ["updated_at", "2025-02-18 22:22:25.457468"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:22:25 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjA5NDV9.ZuemsLKUnfpc0fgKADEY4nCPWdohYFhKK9QYumY5zYw
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (18.8ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:22:25.541747"], ["id", 1]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 113ms (Views: 0.3ms | ActiveRecord: 86.8ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:22:25 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (9.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (19.9ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:22:25.715861"], ["updated_at", "2025-02-18 22:22:25.715861"]]
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 126ms (Views: 1.8ms | ActiveRecord: 70.3ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:22:25.791849"], ["updated_at", "2025-02-18 22:22:25.791849"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:22:25 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:22:25.866100"], ["updated_at", "2025-02-18 22:22:25.866100"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjA5NDV9.ZuemsLKUnfpc0fgKADEY4nCPWdohYFhKK9QYumY5zYw
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (18.8ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:22:25.914779"], ["id", 1]]
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 65ms (Views: 1.8ms | ActiveRecord: 56.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:22:26.010844"], ["updated_at", "2025-02-18 22:22:26.010844"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 13ms (Views: 0.2ms | ActiveRecord: 10.6ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:22:26.103935"], ["updated_at", "2025-02-18 22:22:26.103935"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 17ms (Views: 0.1ms | ActiveRecord: 9.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:22:26.213574"], ["updated_at", "2025-02-18 22:22:26.213574"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:22:26 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjA5NDZ9.2QM3mXMEripOdXU-DnUyoN9I_pyfmZeWPxWH6yXu8Q0
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.8ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:22:26.268610"], ["id", 1]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (8.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 67ms (Views: 0.8ms | ActiveRecord: 54.3ms (3 queries, 0 cached) | GC: 0.0ms)
Started PUT "/api/games" for 127.0.0.1 at 2025-02-18 22:22:26 +0000
  
ActionController::RoutingError (No route matches [PUT] "/api/games"):
  
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (9.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (202.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (8.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:22:58.826721"], ["updated_at", "2025-02-18 22:22:58.826721"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:22:58 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjA5Nzh9.evpM0wE_d4SRWGqVNujwXoEGaSYbw1VwK_4AlyYdkds
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (21.0ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:22:58.913083"], ["id", 1]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 117ms (Views: 0.4ms | ActiveRecord: 89.2ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:22:58 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (9.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (19.7ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:22:59.094020"], ["updated_at", "2025-02-18 22:22:59.094020"]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 131ms (Views: 2.0ms | ActiveRecord: 69.9ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:22:59.172035"], ["updated_at", "2025-02-18 22:22:59.172035"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:22:59 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:22:59.249765"], ["updated_at", "2025-02-18 22:22:59.249765"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjA5Nzl9.01RIApyIXELxdc65oqIYH7OGWzeVhXfApmrE5byLWug
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (17.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:22:59.301713"], ["id", 1]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 66ms (Views: 1.9ms | ActiveRecord: 56.6ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (19.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (38.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:22:59.404971"], ["updated_at", "2025-02-18 22:22:59.404971"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (15.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 15ms (Views: 0.3ms | ActiveRecord: 12.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (14.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:22:59.546577"], ["updated_at", "2025-02-18 22:22:59.546577"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 19ms (Views: 0.2ms | ActiveRecord: 9.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:22:59.663922"], ["updated_at", "2025-02-18 22:22:59.663922"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:22:59 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjA5Nzl9.01RIApyIXELxdc65oqIYH7OGWzeVhXfApmrE5byLWug
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.4ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:22:59.718520"], ["id", 1]]
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (8.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 64ms (Views: 0.6ms | ActiveRecord: 55.3ms (3 queries, 0 cached) | GC: 0.0ms)
Started PUT "/api/workers" for 127.0.0.1 at 2025-02-18 22:22:59 +0000
  
ActionController::RoutingError (No route matches [PUT] "/api/workers"):
  
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (9.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (214.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:24:03.786396"], ["updated_at", "2025-02-18 22:24:03.786396"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:24:03 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (21.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjEwNDN9.0lwQ79qmGx6M4Dxo-r7Iw_6En2r3U8UF3pmEcxOIs5k
  [1m[36mTRANSACTION (17.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (34.7ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:24:03.899283"], ["id", 1]]
  [1m[36mTRANSACTION (16.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 171ms (Views: 0.4ms | ActiveRecord: 141.2ms (3 queries, 0 cached) | GC: 0.9ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:24:04 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (10.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (41.9ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:24:04.113474"], ["updated_at", "2025-02-18 22:24:04.113474"]]
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 154ms (Views: 1.7ms | ActiveRecord: 94.7ms (3 queries, 1 cached) | GC: 21.9ms)
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:24:04.211350"], ["updated_at", "2025-02-18 22:24:04.211350"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:24:04 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:24:04.283161"], ["updated_at", "2025-02-18 22:24:04.283161"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjEwNDR9.l-Ltq9wezE0RE65NlOYt0ITGubAcPFeZRpM9Vrsl7HI
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (17.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:24:04.329297"], ["id", 1]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 63ms (Views: 1.8ms | ActiveRecord: 55.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (14.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:24:04.426378"], ["updated_at", "2025-02-18 22:24:04.426378"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 11ms (Views: 0.2ms | ActiveRecord: 8.6ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:24:04.516040"], ["updated_at", "2025-02-18 22:24:04.516040"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 17ms (Views: 0.1ms | ActiveRecord: 8.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:24:04.629726"], ["updated_at", "2025-02-18 22:24:04.629726"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (20.0ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Patrick"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:24:04.697383"], ["updated_at", "2025-02-18 22:24:04.697383"]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:24:04 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjEwNDR9.l-Ltq9wezE0RE65NlOYt0ITGubAcPFeZRpM9Vrsl7HI
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (21.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:24:04.750047"], ["id", 1]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (8.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 65ms (Views: 0.6ms | ActiveRecord: 62.4ms (3 queries, 0 cached) | GC: 0.0ms)
Started PUT "/api/workers" for 127.0.0.1 at 2025-02-18 22:24:04 +0000
  
ActionController::RoutingError (No route matches [PUT] "/api/workers"):
  
  [1m[36mTRANSACTION (14.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (14.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (18.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (22.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (9.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (209.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (27.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:24:56.594967"], ["updated_at", "2025-02-18 22:24:56.594967"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (14.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:24:56 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjEwOTZ9.WJ5wgR7NVsmvvRgGjyay1Hwzrqes_lCxzcLuiROnSus
  [1m[36mTRANSACTION (17.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (27.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:24:56.711596"], ["id", 1]]
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 141ms (Views: 0.5ms | ActiveRecord: 112.3ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:24:56 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (9.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (19.9ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:24:56.897809"], ["updated_at", "2025-02-18 22:24:56.897809"]]
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 130ms (Views: 1.6ms | ActiveRecord: 71.3ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:24:56.973919"], ["updated_at", "2025-02-18 22:24:56.973919"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:24:57 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:24:57.044278"], ["updated_at", "2025-02-18 22:24:57.044278"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjEwOTd9.TH_AMqnzXEXGWinb1XQeLZw-I8xmsMejw0gvMuc2r08
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (18.8ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:24:57.093921"], ["id", 1]]
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (8.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 61ms (Views: 1.6ms | ActiveRecord: 54.4ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:24:57.184203"], ["updated_at", "2025-02-18 22:24:57.184203"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 10ms (Views: 0.2ms | ActiveRecord: 8.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:24:57.269928"], ["updated_at", "2025-02-18 22:24:57.269928"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 18ms (Views: 0.1ms | ActiveRecord: 11.9ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:24:57.372425"], ["updated_at", "2025-02-18 22:24:57.372425"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (19.1ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Patrick"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:24:57.438770"], ["updated_at", "2025-02-18 22:24:57.438770"]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:24:57 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjEwOTd9.TH_AMqnzXEXGWinb1XQeLZw-I8xmsMejw0gvMuc2r08
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (17.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:24:57.492823"], ["id", 1]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 62ms (Views: 0.6ms | ActiveRecord: 54.2ms (3 queries, 0 cached) | GC: 0.0ms)
Started PUT "/api/workers" for 127.0.0.1 at 2025-02-18 22:24:57 +0000
  
ActionController::RoutingError (No route matches [PUT] "/api/workers"):
  
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (15.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (22.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (15.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (14.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (15.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (233.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (14.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (27.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:26:06.288372"], ["updated_at", "2025-02-18 22:26:06.288372"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:26:06 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjExNjZ9.yp1_4CvUo1EqoAoP1P19qOuH5eI2EOBL_WkWX08QnVM
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (24.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:26:06.394001"], ["id", 1]]
  [1m[36mTRANSACTION (38.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (16.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 189ms (Views: 1.0ms | ActiveRecord: 149.8ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:26:06 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (18.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (25.9ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:26:06.669269"], ["updated_at", "2025-02-18 22:26:06.669269"]]
  [1m[36mTRANSACTION (13.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 172ms (Views: 2.5ms | ActiveRecord: 96.0ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (25.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:26:06.767154"], ["updated_at", "2025-02-18 22:26:06.767154"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:26:06 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (88.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (24.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (14.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (30.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:26:06.979224"], ["updated_at", "2025-02-18 22:26:06.979224"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (19.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (17.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjExNjd9.MG94OxIavCowobw2KY_-8aUmPC3dFa0XjtstOqvLVas
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (22.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:26:07.065430"], ["id", 1]]
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 86ms (Views: 3.9ms | ActiveRecord: 71.7ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (13.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:26:07.183528"], ["updated_at", "2025-02-18 22:26:07.183528"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 13ms (Views: 0.2ms | ActiveRecord: 11.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (26.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:26:07.292194"], ["updated_at", "2025-02-18 22:26:07.292194"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (21.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (18.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 27ms (Views: 0.2ms | ActiveRecord: 18.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:26:07.442018"], ["updated_at", "2025-02-18 22:26:07.442018"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (23.6ms)[0m  [1m[32mINSERT INTO "workers" ("name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:26:07.526890"], ["updated_at", "2025-02-18 22:26:07.526890"]]
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:26:07 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjExNjd9.MG94OxIavCowobw2KY_-8aUmPC3dFa0XjtstOqvLVas
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (24.7ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:26:07.594356"], ["id", 1]]
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (17.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 83ms (Views: 1.1ms | ActiveRecord: 75.3ms (3 queries, 0 cached) | GC: 0.0ms)
Started PUT "/api/workers" for 127.0.0.1 at 2025-02-18 22:26:07 +0000
  
ActionController::RoutingError (No route matches [PUT] "/api/workers"):
  
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (180.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:28:37.360483"], ["updated_at", "2025-02-18 22:28:37.360483"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:28:37 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjEzMTd9.XJu6jIb0yWV4B_NFiyPr871vmTi4MR09nWKnMM-NfJ0
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (18.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:28:37.451016"], ["id", 1]]
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 118ms (Views: 0.3ms | ActiveRecord: 89.0ms (3 queries, 0 cached) | GC: 0.8ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:28:37 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (19.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (18.8ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:28:37.670294"], ["updated_at", "2025-02-18 22:28:37.670294"]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 189ms (Views: 2.0ms | ActiveRecord: 77.7ms (3 queries, 1 cached) | GC: 19.5ms)
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:28:37.767114"], ["updated_at", "2025-02-18 22:28:37.767114"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:28:37 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:28:37.840989"], ["updated_at", "2025-02-18 22:28:37.840989"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjEzMTd9.XJu6jIb0yWV4B_NFiyPr871vmTi4MR09nWKnMM-NfJ0
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:28:37.886940"], ["id", 1]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (8.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 59ms (Views: 1.4ms | ActiveRecord: 55.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:28:37.975644"], ["updated_at", "2025-02-18 22:28:37.975644"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 11ms (Views: 0.1ms | ActiveRecord: 9.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:28:38.067102"], ["updated_at", "2025-02-18 22:28:38.067102"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (13.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 19ms (Views: 0.1ms | ActiveRecord: 13.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:28:38.169773"], ["updated_at", "2025-02-18 22:28:38.169773"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (18.5ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:28:38.235843"], ["updated_at", "2025-02-18 22:28:38.235843"]]
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:28:38 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjEzMTh9.VAixGyMW_xtF85E1xIhN9lIHXjeRWxuxQHXiAHbhPb4
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.7ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:28:38.289898"], ["id", 1]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 65ms (Views: 0.8ms | ActiveRecord: 56.7ms (3 queries, 0 cached) | GC: 0.0ms)
Started PUT "/api/workers" for 127.0.0.1 at 2025-02-18 22:28:38 +0000
  
ActionController::RoutingError (No route matches [PUT] "/api/workers"):
  
  [1m[36mTRANSACTION (14.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (9.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (8.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (9.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (240.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:29:02.155655"], ["updated_at", "2025-02-18 22:29:02.155655"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:29:02 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjEzNDJ9.6dyuPV6NkcTBO66MPK2u1ISaQUBMDp3lIeQ_ey-vxyg
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:29:02.239456"], ["id", 1]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 115ms (Views: 0.4ms | ActiveRecord: 88.8ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:29:02 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (10.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (19.5ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:29:02.423030"], ["updated_at", "2025-02-18 22:29:02.423030"]]
  [1m[36mTRANSACTION (15.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 141ms (Views: 2.9ms | ActiveRecord: 76.2ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:29:02.507600"], ["updated_at", "2025-02-18 22:29:02.507600"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:29:02 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:29:02.582973"], ["updated_at", "2025-02-18 22:29:02.582973"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjEzNDJ9.6dyuPV6NkcTBO66MPK2u1ISaQUBMDp3lIeQ_ey-vxyg
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (18.2ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:29:02.634978"], ["id", 1]]
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (13.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 68ms (Views: 1.8ms | ActiveRecord: 59.0ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (21.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (37.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:29:02.745351"], ["updated_at", "2025-02-18 22:29:02.745351"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (13.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 15ms (Views: 0.2ms | ActiveRecord: 13.7ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (17.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (14.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:29:02.872731"], ["updated_at", "2025-02-18 22:29:02.872731"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 16ms (Views: 0.1ms | ActiveRecord: 8.6ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:29:02.980004"], ["updated_at", "2025-02-18 22:29:02.980004"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (18.7ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:29:03.047590"], ["updated_at", "2025-02-18 22:29:03.047590"]]
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:29:03 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjEzNDN9.RvpOt-fbdjW0O4CJZobGwyx20QykA1pbsBOsQJ1bvpI
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (18.7ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:29:03.101316"], ["id", 1]]
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 64ms (Views: 0.6ms | ActiveRecord: 60.8ms (3 queries, 0 cached) | GC: 0.0ms)
Started PUT "/api/workers" for 127.0.0.1 at 2025-02-18 22:29:03 +0000
  
ActionController::RoutingError (No route matches [PUT] "/api/workers"):
  
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (13.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (241.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:29:52.215682"], ["updated_at", "2025-02-18 22:29:52.215682"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:29:52 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjEzOTJ9.Pw6nT6lCfvpKcBLykCY1QbFRiVGytEg7mXZNjvmTfug
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (21.4ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:29:52.321694"], ["id", 1]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 145ms (Views: 0.9ms | ActiveRecord: 107.3ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:29:52 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (11.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (23.6ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:29:52.540345"], ["updated_at", "2025-02-18 22:29:52.540345"]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 158ms (Views: 1.5ms | ActiveRecord: 83.8ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:29:52.624195"], ["updated_at", "2025-02-18 22:29:52.624195"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:29:52 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:29:52.707302"], ["updated_at", "2025-02-18 22:29:52.707302"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjEzOTJ9.Pw6nT6lCfvpKcBLykCY1QbFRiVGytEg7mXZNjvmTfug
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (21.7ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:29:52.760351"], ["id", 1]]
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 72ms (Views: 1.8ms | ActiveRecord: 65.4ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:29:52.866411"], ["updated_at", "2025-02-18 22:29:52.866411"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 12ms (Views: 0.2ms | ActiveRecord: 9.8ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:29:52.965577"], ["updated_at", "2025-02-18 22:29:52.965577"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 17ms (Views: 0.1ms | ActiveRecord: 10.6ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:29:53.081898"], ["updated_at", "2025-02-18 22:29:53.081898"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (21.4ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:29:53.147530"], ["updated_at", "2025-02-18 22:29:53.147530"]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:29:53 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjEzOTN9.JQQ1kvC0MyO6wgNgozL2L1LOc4UyDuVANz3EG4nxnB4
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (21.7ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:29:53.204153"], ["id", 1]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 70ms (Views: 0.8ms | ActiveRecord: 62.8ms (3 queries, 0 cached) | GC: 0.0ms)
Started PUT "/api/workers" for 127.0.0.1 at 2025-02-18 22:29:53 +0000
  
ActionController::RoutingError (No route matches [PUT] "/api/workers"):
  
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (14.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (30.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (249.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:30:21.120328"], ["updated_at", "2025-02-18 22:30:21.120328"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:30:21 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjE0MjF9.ywk6oABoz5vmkyJYfR-Liya0oBFST8G4hrPJe1paJkQ
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:30:21.212962"], ["id", 1]]
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (70.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 193ms (Views: 1.2ms | ActiveRecord: 163.4ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:30:21 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (11.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (23.2ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:30:21.516792"], ["updated_at", "2025-02-18 22:30:21.516792"]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 183ms (Views: 2.2ms | ActiveRecord: 82.6ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (14.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:30:21.608637"], ["updated_at", "2025-02-18 22:30:21.608637"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:30:21 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (28.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (40.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:30:21.721398"], ["updated_at", "2025-02-18 22:30:21.721398"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (13.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjE0MjF9.ywk6oABoz5vmkyJYfR-Liya0oBFST8G4hrPJe1paJkQ
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.7ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:30:21.802301"], ["id", 1]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 78ms (Views: 1.7ms | ActiveRecord: 71.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:30:21.914082"], ["updated_at", "2025-02-18 22:30:21.914082"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 12ms (Views: 0.1ms | ActiveRecord: 10.8ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:30:22.015390"], ["updated_at", "2025-02-18 22:30:22.015390"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 15ms (Views: 0.1ms | ActiveRecord: 11.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:30:22.125459"], ["updated_at", "2025-02-18 22:30:22.125459"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (23.3ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:30:22.200525"], ["updated_at", "2025-02-18 22:30:22.200525"]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:30:22 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjE0MjJ9.qIn9Rrsc-IKNpprexlrIqm6O92-he9RvCh3M1Dl8SF8
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (32.2ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:30:22.266837"], ["id", 1]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (12.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 88ms (Views: 1.1ms | ActiveRecord: 79.8ms (3 queries, 0 cached) | GC: 0.0ms)
Started PUT "/api/workers" for 127.0.0.1 at 2025-02-18 22:30:22 +0000
  
ActionController::RoutingError (No route matches [PUT] "/api/workers"):
  
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (225.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (13.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (26.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:31:20.045889"], ["updated_at", "2025-02-18 22:31:20.045889"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:31:20 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (14.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjE0ODB9.1_beCQwEc4EBuTwhgIgMl4DsYZw3kYiNysYgTbICTSA
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (24.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:31:20.147278"], ["id", 1]]
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (12.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 145ms (Views: 0.5ms | ActiveRecord: 109.9ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/games" for 127.0.0.1 at 2025-02-18 22:31:20 +0000
  
ActionController::RoutingError (No route matches [PATCH] "/api/games"):
  
  [1m[36mTRANSACTION (12.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (28.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:31:20.513104"], ["updated_at", "2025-02-18 22:31:20.513104"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (18.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:31:20 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (13.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:31:20.616926"], ["updated_at", "2025-02-18 22:31:20.616926"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjE0ODB9.1_beCQwEc4EBuTwhgIgMl4DsYZw3kYiNysYgTbICTSA
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.4ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:31:20.669983"], ["id", 1]]
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 74ms (Views: 1.9ms | ActiveRecord: 70.3ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (25.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:31:20.783215"], ["updated_at", "2025-02-18 22:31:20.783215"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 13ms (Views: 0.1ms | ActiveRecord: 12.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (13.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:31:20.888541"], ["updated_at", "2025-02-18 22:31:20.888541"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 15ms (Views: 0.1ms | ActiveRecord: 12.7ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (14.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:31:20.999713"], ["updated_at", "2025-02-18 22:31:20.999713"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (32.2ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:31:21.087178"], ["updated_at", "2025-02-18 22:31:21.087178"]]
  [1m[36mTRANSACTION (49.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:31:21 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjE0ODF9.6bpkxZxDaWsoTLdw0FwAGG3snLXoPOKBYi02A1Yn0Dc
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (24.2ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:31:21.204394"], ["id", 1]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 81ms (Views: 0.9ms | ActiveRecord: 70.0ms (3 queries, 0 cached) | GC: 0.0ms)
Started PUT "/api/workers" for 127.0.0.1 at 2025-02-18 22:31:21 +0000
  
ActionController::RoutingError (No route matches [PUT] "/api/workers"):
  
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (9.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (17.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (17.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (307.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (14.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:31:57.402055"], ["updated_at", "2025-02-18 22:31:57.402055"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:31:57 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjE1MTd9.yqlbPzGrkcADwWT4eacvYgoGOpe-cKwgcvTE16Fkyns
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.7ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:31:57.483781"], ["id", 1]]
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 116ms (Views: 0.4ms | ActiveRecord: 90.5ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:31:57 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (10.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (19.4ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:31:57.666416"], ["updated_at", "2025-02-18 22:31:57.666416"]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 132ms (Views: 2.1ms | ActiveRecord: 73.1ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:31:57.743994"], ["updated_at", "2025-02-18 22:31:57.743994"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:31:57 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:31:57.821255"], ["updated_at", "2025-02-18 22:31:57.821255"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjE1MTd9.yqlbPzGrkcADwWT4eacvYgoGOpe-cKwgcvTE16Fkyns
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (21.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:31:57.874942"], ["id", 1]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 67ms (Views: 1.9ms | ActiveRecord: 58.4ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:31:57.974098"], ["updated_at", "2025-02-18 22:31:57.974098"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 10ms (Views: 0.2ms | ActiveRecord: 8.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:31:58.066284"], ["updated_at", "2025-02-18 22:31:58.066284"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 18ms (Views: 0.1ms | ActiveRecord: 10.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:31:58.179971"], ["updated_at", "2025-02-18 22:31:58.179971"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (18.3ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:31:58.255072"], ["updated_at", "2025-02-18 22:31:58.255072"]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:31:58 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjE1MTh9.cVW8_I_p3lYEuoML5KMks6dC_Ozot4LyUny-9W1wz9k
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.6ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:31:58.307477"], ["id", 1]]
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 63ms (Views: 0.6ms | ActiveRecord: 58.5ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers" for 127.0.0.1 at 2025-02-18 22:31:58 +0000
  
ActionController::RoutingError (No route matches [PATCH] "/api/workers"):
  
  [1m[36mTRANSACTION (19.8ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (9.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (8.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (197.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:32:56.665555"], ["updated_at", "2025-02-18 22:32:56.665555"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:32:56 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjE1NzZ9.ei7tZSzymNgZ6zQf6ObTk_2M9C3oNncrXW7_ZoheuEw
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (18.4ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:32:56.747915"], ["id", 1]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 111ms (Views: 0.3ms | ActiveRecord: 87.3ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:32:56 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (11.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (19.1ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:32:56.924579"], ["updated_at", "2025-02-18 22:32:56.924579"]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 131ms (Views: 2.3ms | ActiveRecord: 69.6ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:32:57.003183"], ["updated_at", "2025-02-18 22:32:57.003183"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:32:57 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:32:57.079650"], ["updated_at", "2025-02-18 22:32:57.079650"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjE1Nzd9.zUF8xEenrcG_iXhoSGgEQaotoHqObfW1aXdoQfDCiYk
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (28.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:32:57.129251"], ["id", 1]]
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (13.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 78ms (Views: 1.9ms | ActiveRecord: 70.6ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (14.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (13.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:32:57.251153"], ["updated_at", "2025-02-18 22:32:57.251153"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 10ms (Views: 0.1ms | ActiveRecord: 8.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:32:57.337405"], ["updated_at", "2025-02-18 22:32:57.337405"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 16ms (Views: 0.1ms | ActiveRecord: 9.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:32:57.444736"], ["updated_at", "2025-02-18 22:32:57.444736"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (22.6ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:32:57.511348"], ["updated_at", "2025-02-18 22:32:57.511348"]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:32:57 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjE1Nzd9.zUF8xEenrcG_iXhoSGgEQaotoHqObfW1aXdoQfDCiYk
  [1m[36mTRANSACTION (8.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (18.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:32:57.566791"], ["id", 1]]
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 60ms (Views: 0.6ms | ActiveRecord: 53.2ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/workers" for 127.0.0.1 at 2025-02-18 22:32:57 +0000
  
ActionController::RoutingError (No route matches [PATCH] "/workers"):
  
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (14.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (265.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (13.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (26.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:33:35.323124"], ["updated_at", "2025-02-18 22:33:35.323124"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:33:35 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjE2MTV9.prU9LPwbH0Yq9nI3O5c0gkiH11GyeiIY7Ppfu8unJPo
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (24.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:33:35.420366"], ["id", 1]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 134ms (Views: 0.4ms | ActiveRecord: 105.4ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:33:35 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (12.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (22.0ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:33:35.634067"], ["updated_at", "2025-02-18 22:33:35.634067"]]
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 155ms (Views: 2.4ms | ActiveRecord: 83.3ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:33:35.728033"], ["updated_at", "2025-02-18 22:33:35.728033"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:33:35 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:33:35.815143"], ["updated_at", "2025-02-18 22:33:35.815143"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjE2MTV9.prU9LPwbH0Yq9nI3O5c0gkiH11GyeiIY7Ppfu8unJPo
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:33:35.871997"], ["id", 1]]
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 73ms (Views: 1.6ms | ActiveRecord: 65.7ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:33:35.983263"], ["updated_at", "2025-02-18 22:33:35.983263"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 13ms (Views: 0.3ms | ActiveRecord: 11.6ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (13.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:33:36.090774"], ["updated_at", "2025-02-18 22:33:36.090774"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (13.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 18ms (Views: 0.1ms | ActiveRecord: 13.7ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:33:36.204470"], ["updated_at", "2025-02-18 22:33:36.204470"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (22.4ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:33:36.280439"], ["updated_at", "2025-02-18 22:33:36.280439"]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:33:36 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjE2MTZ9.eSw8VOFRnyp6L7tMPJV50F2TyE4_HTTz_VsWHrxI3wU
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (21.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:33:36.341652"], ["id", 1]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 74ms (Views: 0.8ms | ActiveRecord: 65.7ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers" for 127.0.0.1 at 2025-02-18 22:33:36 +0000
  
ActionController::RoutingError (No route matches [PATCH] "/api/workers"):
  
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (240.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:34:58.289345"], ["updated_at", "2025-02-18 22:34:58.289345"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:34:58 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (14.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjE2OTh9.i5rc8plMDzIOdirDukBN_V4HuxzGnUQDahDP_iaCdfQ
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:34:58.390610"], ["id", 1]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (12.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 143ms (Views: 1.0ms | ActiveRecord: 109.4ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:34:58 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (11.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (23.8ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:34:58.620551"], ["updated_at", "2025-02-18 22:34:58.620551"]]
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 166ms (Views: 2.9ms | ActiveRecord: 82.6ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (13.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:34:58.716454"], ["updated_at", "2025-02-18 22:34:58.716454"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:34:58 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (16.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:34:58.815083"], ["updated_at", "2025-02-18 22:34:58.815083"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (14.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjE2OTh9.i5rc8plMDzIOdirDukBN_V4HuxzGnUQDahDP_iaCdfQ
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (22.8ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:34:58.871979"], ["id", 1]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 67ms (Views: 1.0ms | ActiveRecord: 68.9ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:34:58.971653"], ["updated_at", "2025-02-18 22:34:58.971653"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 12ms (Views: 0.1ms | ActiveRecord: 11.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:34:59.074171"], ["updated_at", "2025-02-18 22:34:59.074171"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 16ms (Views: 0.1ms | ActiveRecord: 10.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:34:59.189754"], ["updated_at", "2025-02-18 22:34:59.189754"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (23.8ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:34:59.260659"], ["updated_at", "2025-02-18 22:34:59.260659"]]
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:34:59 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjE2OTl9.doJqprC-XTzmrjAUElr35JeIY90UIG9r3q6tjtuS4QQ
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:34:59.322781"], ["id", 1]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 73ms (Views: 0.8ms | ActiveRecord: 67.2ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:34:59 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (11.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (13.8ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (26.9ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:34:59.471782"], ["id", 1]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 131ms (Views: 1.6ms | ActiveRecord: 75.0ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (10.7ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (14.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (14.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (231.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (15.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (26.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:35:52.025661"], ["updated_at", "2025-02-18 22:35:52.025661"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:35:52 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjE3NTJ9.AGYDwf2-K7eymoN0Knw5fhKC1gLf6JSLdmUTiUFa6J8
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (25.8ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:35:52.128774"], ["id", 1]]
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (14.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 146ms (Views: 0.4ms | ActiveRecord: 117.3ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:35:52 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (12.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (22.8ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:35:52.345233"], ["updated_at", "2025-02-18 22:35:52.345233"]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 149ms (Views: 1.8ms | ActiveRecord: 82.1ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:35:52.434571"], ["updated_at", "2025-02-18 22:35:52.434571"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:35:52 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (13.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (28.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:35:52.524908"], ["updated_at", "2025-02-18 22:35:52.524908"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (15.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (25.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjE3NTJ9.AGYDwf2-K7eymoN0Knw5fhKC1gLf6JSLdmUTiUFa6J8
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (28.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:35:52.608478"], ["id", 1]]
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (12.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 101ms (Views: 1.7ms | ActiveRecord: 90.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:35:52.730501"], ["updated_at", "2025-02-18 22:35:52.730501"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 12ms (Views: 0.1ms | ActiveRecord: 11.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:35:52.834498"], ["updated_at", "2025-02-18 22:35:52.834498"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 16ms (Views: 0.1ms | ActiveRecord: 11.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (14.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (22.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (37.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:35:52.957557"], ["updated_at", "2025-02-18 22:35:52.957557"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (17.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (25.4ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:35:53.066822"], ["updated_at", "2025-02-18 22:35:53.066822"]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:35:53 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjE3NTN9.QR790pai6JMIYlidFuh87MGWFRX1WcIs8WXS6p8I2NU
  [1m[36mTRANSACTION (13.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (27.4ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:35:53.131584"], ["id", 1]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (12.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 80ms (Views: 0.8ms | ActiveRecord: 75.9ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:35:53 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (12.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (12.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (23.9ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:35:53.295177"], ["id", 1]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 136ms (Views: 1.5ms | ActiveRecord: 69.9ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (11.9ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (13.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:35:53.420867"], ["updated_at", "2025-02-18 22:35:53.420867"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (24.8ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:35:53.460130"], ["updated_at", "2025-02-18 22:35:53.460130"]]
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (13.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (228.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:36:48.493815"], ["updated_at", "2025-02-18 22:36:48.493815"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:36:48 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjE4MDh9.ap0R97DgQPXLJHqHVHM78IeR4aROz-e6IvCLoBxlK4M
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.6ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:36:48.587086"], ["id", 1]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (12.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 136ms (Views: 0.8ms | ActiveRecord: 105.8ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:36:48 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (11.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (22.2ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:36:48.810012"], ["updated_at", "2025-02-18 22:36:48.810012"]]
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 162ms (Views: 2.7ms | ActiveRecord: 85.2ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:36:48.905323"], ["updated_at", "2025-02-18 22:36:48.905323"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:36:48 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:36:48.993053"], ["updated_at", "2025-02-18 22:36:48.993053"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjE4MDl9.VwRaCTVCFg_uMaITFSHjqrKsjxPih7g0hsNdt9EEU5w
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.4ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:36:49.046557"], ["id", 1]]
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 71ms (Views: 1.6ms | ActiveRecord: 67.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:36:49.150628"], ["updated_at", "2025-02-18 22:36:49.150628"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 12ms (Views: 0.2ms | ActiveRecord: 10.8ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:36:49.253807"], ["updated_at", "2025-02-18 22:36:49.253807"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 18ms (Views: 0.1ms | ActiveRecord: 11.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (14.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (29.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:36:49.383619"], ["updated_at", "2025-02-18 22:36:49.383619"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (23.0ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:36:49.465772"], ["updated_at", "2025-02-18 22:36:49.465772"]]
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:36:49 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjE4MDl9.VwRaCTVCFg_uMaITFSHjqrKsjxPih7g0hsNdt9EEU5w
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (22.2ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:36:49.528094"], ["id", 1]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (12.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 75ms (Views: 0.8ms | ActiveRecord: 68.3ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:36:49 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (12.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (11.4ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (13.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (25.6ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:36:49.678578"], ["id", 1]]
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 128ms (Views: 1.1ms | ActiveRecord: 73.8ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (10.7ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (26.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:36:49.803886"], ["updated_at", "2025-02-18 22:36:49.803886"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (23.7ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:36:49.846381"], ["updated_at", "2025-02-18 22:36:49.846381"]]
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (24.4ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:36:49.883419"], ["id", 1]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:36:49 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjE4MDl9.VwRaCTVCFg_uMaITFSHjqrKsjxPih7g0hsNdt9EEU5w
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (24.0ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:36:49.939153"], ["id", 1]]
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (12.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 71ms (Views: 2.2ms | ActiveRecord: 74.3ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:36:49 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
  [1m[36mManager Load (10.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (11.8ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "false"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (22.9ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", false], ["updated_at", "2025-02-18 22:36:50.073800"], ["id", 1]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 109ms (Views: 1.0ms | ActiveRecord: 65.9ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (11.9ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (17.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (25.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (216.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:43:07.423179"], ["updated_at", "2025-02-18 22:43:07.423179"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:43:07 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjIxODd9.XRHUZlpql6ECKiMUiMrYcdHuCahvaAsybMgFQcDOzCA
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.4ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:43:07.508868"], ["id", 1]]
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 115ms (Views: 0.4ms | ActiveRecord: 85.5ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:43:07 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (9.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (20.4ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:43:07.684956"], ["updated_at", "2025-02-18 22:43:07.684956"]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 125ms (Views: 1.3ms | ActiveRecord: 70.8ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:43:07.759165"], ["updated_at", "2025-02-18 22:43:07.759165"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:43:07 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:43:07.829252"], ["updated_at", "2025-02-18 22:43:07.829252"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjIxODd9.XRHUZlpql6ECKiMUiMrYcdHuCahvaAsybMgFQcDOzCA
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (18.7ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:43:07.872961"], ["id", 1]]
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 56ms (Views: 1.2ms | ActiveRecord: 53.7ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (17.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:43:07.958701"], ["updated_at", "2025-02-18 22:43:07.958701"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 10ms (Views: 0.1ms | ActiveRecord: 9.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:43:08.046325"], ["updated_at", "2025-02-18 22:43:08.046325"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 16ms (Views: 0.1ms | ActiveRecord: 9.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:43:08.148847"], ["updated_at", "2025-02-18 22:43:08.148847"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (18.8ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:43:08.215613"], ["updated_at", "2025-02-18 22:43:08.215613"]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:43:08 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjIxODh9.1qLGtIfWLMMwgocYVQrpGNQfP5xAHCJCD7qvcv95AxE
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (18.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:43:08.271850"], ["id", 1]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (8.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 63ms (Views: 0.6ms | ActiveRecord: 53.4ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:43:08 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (10.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (9.4ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (18.8ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:43:08.395039"], ["id", 1]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 100ms (Views: 0.7ms | ActiveRecord: 56.4ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (8.6ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:43:08.489717"], ["updated_at", "2025-02-18 22:43:08.489717"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (17.8ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:43:08.522047"], ["updated_at", "2025-02-18 22:43:08.522047"]]
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (19.4ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:43:08.551229"], ["id", 1]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:43:08 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjIxODh9.1qLGtIfWLMMwgocYVQrpGNQfP5xAHCJCD7qvcv95AxE
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (18.8ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:43:08.597232"], ["id", 1]]
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (8.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 57ms (Views: 2.4ms | ActiveRecord: 55.3ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:43:08 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
  [1m[36mManager Load (9.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (9.2ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "false"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (23.5ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", false], ["updated_at", "2025-02-18 22:43:08.711537"], ["id", 1]]
  [1m[36mTRANSACTION (14.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 105ms (Views: 2.2ms | ActiveRecord: 64.6ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (19.7ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (14.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (9.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (199.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (17.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:44:02.649252"], ["updated_at", "2025-02-18 22:44:02.649252"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:44:02 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjIyNDJ9.eUdSuYXJQL5xWWCDXaAZFidFnYsM1VOsh6oe97BGPRY
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.4ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:44:02.731812"], ["id", 1]]
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 115ms (Views: 0.4ms | ActiveRecord: 90.7ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:44:02 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (12.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (18.9ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:44:02.914181"], ["updated_at", "2025-02-18 22:44:02.914181"]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 131ms (Views: 2.3ms | ActiveRecord: 71.7ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:44:02.992971"], ["updated_at", "2025-02-18 22:44:02.992971"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:44:03 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:44:03.068263"], ["updated_at", "2025-02-18 22:44:03.068263"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjIyNDN9.yYQKF5F1D2tjDAjPUjt1nkCCZh_7S_gOw7V0NHUqrwk
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:44:03.114990"], ["id", 1]]
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (8.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 62ms (Views: 1.8ms | ActiveRecord: 55.0ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:44:03.206786"], ["updated_at", "2025-02-18 22:44:03.206786"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 10ms (Views: 0.1ms | ActiveRecord: 8.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:44:03.293282"], ["updated_at", "2025-02-18 22:44:03.293282"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 18ms (Views: 0.1ms | ActiveRecord: 11.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:44:03.399709"], ["updated_at", "2025-02-18 22:44:03.399709"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (20.1ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:44:03.469093"], ["updated_at", "2025-02-18 22:44:03.469093"]]
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:44:03 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjIyNDN9.yYQKF5F1D2tjDAjPUjt1nkCCZh_7S_gOw7V0NHUqrwk
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:44:03.527431"], ["id", 1]]
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 64ms (Views: 0.6ms | ActiveRecord: 57.2ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:44:03 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (9.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (10.5ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (19.4ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:44:03.650343"], ["id", 1]]
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 103ms (Views: 0.8ms | ActiveRecord: 59.1ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (8.9ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:44:03.747380"], ["updated_at", "2025-02-18 22:44:03.747380"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (19.0ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:44:03.780224"], ["updated_at", "2025-02-18 22:44:03.780224"]]
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (18.2ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:44:03.812109"], ["id", 1]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:44:03 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjIyNDN9.yYQKF5F1D2tjDAjPUjt1nkCCZh_7S_gOw7V0NHUqrwk
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.8ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:44:03.857145"], ["id", 1]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 59ms (Views: 2.7ms | ActiveRecord: 57.4ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:44:03 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
  [1m[36mManager Load (9.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (10.3ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "false"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (20.0ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", false], ["updated_at", "2025-02-18 22:44:03.978605"], ["id", 1]]
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 101ms (Views: 2.5ms | ActiveRecord: 58.0ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (9.5ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:44:04.083800"], ["updated_at", "2025-02-18 22:44:04.083800"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (18.9ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:44:04.116817"], ["updated_at", "2025-02-18 22:44:04.116817"]]
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (19.7ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:44:04.146780"], ["id", 1]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:44:04 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (240.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:44:30.459734"], ["updated_at", "2025-02-18 22:44:30.459734"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (13.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:44:30 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (14.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjIyNzB9.l-upSF1kZyV0Fdqk1Dpu1xxuXq14XWVaG_8OjtuCwvE
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.0ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:44:30.557137"], ["id", 1]]
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 135ms (Views: 0.4ms | ActiveRecord: 106.4ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:44:30 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (11.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (24.7ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:44:30.768417"], ["updated_at", "2025-02-18 22:44:30.768417"]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 156ms (Views: 2.5ms | ActiveRecord: 85.0ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:44:30.867542"], ["updated_at", "2025-02-18 22:44:30.867542"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:44:30 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (13.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:44:30.957728"], ["updated_at", "2025-02-18 22:44:30.957728"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjIyNzF9.zENN5VOG8NGgGGUPTTADtqDbBXjBQ7FdRBRuVGDlh9Y
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (22.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:44:31.017444"], ["id", 1]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 75ms (Views: 2.0ms | ActiveRecord: 66.6ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:44:31.131076"], ["updated_at", "2025-02-18 22:44:31.131076"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 14ms (Views: 0.3ms | ActiveRecord: 11.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:44:31.236304"], ["updated_at", "2025-02-18 22:44:31.236304"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 21ms (Views: 0.1ms | ActiveRecord: 12.8ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:44:31.364550"], ["updated_at", "2025-02-18 22:44:31.364550"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (24.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (36.9ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:44:31.434666"], ["updated_at", "2025-02-18 22:44:31.434666"]]
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:44:31 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjIyNzF9.zENN5VOG8NGgGGUPTTADtqDbBXjBQ7FdRBRuVGDlh9Y
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (22.8ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:44:31.507995"], ["id", 1]]
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 74ms (Views: 0.8ms | ActiveRecord: 69.1ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:44:31 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (13.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (12.6ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (21.4ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:44:31.662048"], ["id", 1]]
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 131ms (Views: 1.5ms | ActiveRecord: 69.9ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (11.9ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (25.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:44:31.782160"], ["updated_at", "2025-02-18 22:44:31.782160"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (23.1ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:44:31.821778"], ["updated_at", "2025-02-18 22:44:31.821778"]]
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (23.2ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:44:31.859306"], ["id", 1]]
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:44:31 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjIyNzF9.zENN5VOG8NGgGGUPTTADtqDbBXjBQ7FdRBRuVGDlh9Y
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (22.2ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:44:31.914682"], ["id", 1]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 68ms (Views: 3.6ms | ActiveRecord: 66.5ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:44:31 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
  [1m[36mManager Load (11.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (10.7ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "false"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (13.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (25.3ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", false], ["updated_at", "2025-02-18 22:44:32.055448"], ["id", 1]]
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 120ms (Views: 2.2ms | ActiveRecord: 68.3ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (11.6ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (25.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:44:32.174875"], ["updated_at", "2025-02-18 22:44:32.174875"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (24.8ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:44:32.215194"], ["updated_at", "2025-02-18 22:44:32.215194"]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (25.5ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:44:32.252451"], ["id", 1]]
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:44:32 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mWorker Load (11.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (13.5ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (13.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (13.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (235.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:44:54.018596"], ["updated_at", "2025-02-18 22:44:54.018596"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:44:54 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjIyOTR9.hPbDPXxFM-9XrtrF9vLA0cbQsHgfFVzRB_hqJYYZM5U
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.7ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:44:54.112458"], ["id", 1]]
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 132ms (Views: 0.4ms | ActiveRecord: 104.9ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:44:54 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (13.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (22.3ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:44:54.324300"], ["updated_at", "2025-02-18 22:44:54.324300"]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 155ms (Views: 2.7ms | ActiveRecord: 83.8ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:44:54.416242"], ["updated_at", "2025-02-18 22:44:54.416242"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:44:54 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:44:54.507634"], ["updated_at", "2025-02-18 22:44:54.507634"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjIyOTR9.hPbDPXxFM-9XrtrF9vLA0cbQsHgfFVzRB_hqJYYZM5U
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:44:54.561079"], ["id", 1]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 66ms (Views: 1.2ms | ActiveRecord: 66.8ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:44:54.662096"], ["updated_at", "2025-02-18 22:44:54.662096"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 12ms (Views: 0.2ms | ActiveRecord: 10.6ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:44:54.763726"], ["updated_at", "2025-02-18 22:44:54.763726"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 19ms (Views: 0.2ms | ActiveRecord: 11.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:44:54.889416"], ["updated_at", "2025-02-18 22:44:54.889416"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (24.3ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:44:54.959823"], ["updated_at", "2025-02-18 22:44:54.959823"]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:44:55 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjIyOTV9.d4B1bofu1VKwnsSjKpEVARRjKHsEiYpBam1IO4nlur0
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.0ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:44:55.020699"], ["id", 1]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 72ms (Views: 0.8ms | ActiveRecord: 67.0ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:44:55 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (11.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (10.8ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (21.9ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:44:55.167861"], ["id", 1]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 127ms (Views: 1.5ms | ActiveRecord: 66.7ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (10.1ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (28.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:44:55.284658"], ["updated_at", "2025-02-18 22:44:55.284658"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (24.6ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:44:55.328336"], ["updated_at", "2025-02-18 22:44:55.328336"]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (23.0ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:44:55.369829"], ["id", 1]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:44:55 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjIyOTV9.d4B1bofu1VKwnsSjKpEVARRjKHsEiYpBam1IO4nlur0
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (22.6ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:44:55.429137"], ["id", 1]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 69ms (Views: 2.0ms | ActiveRecord: 67.0ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:44:55 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
  [1m[36mManager Load (10.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (12.1ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "false"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (22.1ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", false], ["updated_at", "2025-02-18 22:44:55.557248"], ["id", 1]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 110ms (Views: 2.1ms | ActiveRecord: 65.6ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (10.7ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:44:55.675007"], ["updated_at", "2025-02-18 22:44:55.675007"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (23.3ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:44:55.714345"], ["updated_at", "2025-02-18 22:44:55.714345"]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (24.9ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:44:55.749819"], ["id", 1]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:44:55 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (258.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (15.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (13.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (26.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:56:26.983854"], ["updated_at", "2025-02-18 22:56:26.983854"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (13.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjI5ODd9.vtWvahlogga5oYESewe4i_FrHmLkLY1Z1wQFHTnQcck
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (24.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:56:27.076203"], ["id", 1]]
  [1m[36mTRANSACTION (14.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (12.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 140ms (Views: 0.4ms | ActiveRecord: 109.7ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:56:27.231953"], ["updated_at", "2025-02-18 22:56:27.231953"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 13ms (Views: 0.2ms | ActiveRecord: 11.7ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:56:27.334952"], ["updated_at", "2025-02-18 22:56:27.334952"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 14ms (Views: 0.3ms | ActiveRecord: 10.8ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (26.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:56:27.440336"], ["updated_at", "2025-02-18 22:56:27.440336"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (22.8ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:56:27.519918"], ["updated_at", "2025-02-18 22:56:27.519918"]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:56:27 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjI5ODd9.vtWvahlogga5oYESewe4i_FrHmLkLY1Z1wQFHTnQcck
  [1m[36mTRANSACTION (12.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (24.4ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:56:27.597751"], ["id", 1]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 68ms (Views: 1.3ms | ActiveRecord: 71.4ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:56:27 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (12.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (12.7ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (24.1ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:56:27.753895"], ["id", 1]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 138ms (Views: 1.0ms | ActiveRecord: 72.5ms (4 queries, 1 cached) | GC: 0.8ms)
  [1m[36mWorker Load (11.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (16.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (25.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:56:27.880864"], ["updated_at", "2025-02-18 22:56:27.880864"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (24.4ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:56:27.925322"], ["updated_at", "2025-02-18 22:56:27.925322"]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (25.5ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:56:27.968115"], ["id", 1]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:56:28 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjI5ODh9.fx-3FnQExsv092wKZyzRuHC6gYuSvq6vBV9PTE0bycA
  [1m[36mTRANSACTION (14.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (26.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:56:28.038425"], ["id", 1]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 76ms (Views: 5.5ms | ActiveRecord: 74.2ms (3 queries, 0 cached) | GC: 0.6ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:56:28 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
  [1m[36mManager Load (12.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (12.4ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "false"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (17.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (31.0ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", false], ["updated_at", "2025-02-18 22:56:28.175746"], ["id", 1]]
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 123ms (Views: 1.6ms | ActiveRecord: 84.0ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (10.9ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (25.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:56:28.305327"], ["updated_at", "2025-02-18 22:56:28.305327"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (25.0ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:56:28.346137"], ["updated_at", "2025-02-18 22:56:28.346137"]]
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (23.0ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:56:28.386360"], ["id", 1]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:56:28 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (52.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (13.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (11.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (13.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (233.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:57:18.631982"], ["updated_at", "2025-02-18 22:57:18.631982"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:57:18 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjMwMzh9.d8HRXl6fDTkDTwsqarOSKpeL6KUfAWxRIncb_JRmMzs
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (22.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:57:18.725850"], ["id", 1]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (13.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 130ms (Views: 0.4ms | ActiveRecord: 102.6ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:57:18 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (11.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (23.0ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:57:18.934189"], ["updated_at", "2025-02-18 22:57:18.934189"]]
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 154ms (Views: 1.8ms | ActiveRecord: 85.6ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (15.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:57:19.027066"], ["updated_at", "2025-02-18 22:57:19.027066"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:57:19 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:57:19.109658"], ["updated_at", "2025-02-18 22:57:19.109658"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (12.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGame Create (10.6ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:57:19.168340"], ["updated_at", "2025-02-18 22:57:19.168340"]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:57:19 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjMwMzl9.72ZjjdU1-znzfbJINwaimBOv4OwBEZm7xmDPtCDKv-g
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (22.2ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:57:19.211859"], ["id", 1]]
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 69ms (Views: 1.1ms | ActiveRecord: 66.2ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/:id" for 127.0.0.1 at 2025-02-18 22:57:19 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}, "id" => ":id"}
  [1m[36mManager Load (15.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGame Load (11.9ms)[0m  [1m[34mSELECT "games".* FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 62ms (ActiveRecord: 27.2ms (2 queries, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Game with 'id'=:id):
  
app/controllers/games_controller.rb:55:in 'GamesController#destroy'
  [1m[36mTRANSACTION (14.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:57:19.778067"], ["updated_at", "2025-02-18 22:57:19.778067"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjMwMzl9.72ZjjdU1-znzfbJINwaimBOv4OwBEZm7xmDPtCDKv-g
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:57:19.835051"], ["id", 1]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 69ms (Views: 0.5ms | ActiveRecord: 67.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:57:19.936689"], ["updated_at", "2025-02-18 22:57:19.936689"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (21.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 11ms (Views: 0.1ms | ActiveRecord: 10.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:57:20.042366"], ["updated_at", "2025-02-18 22:57:20.042366"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (13.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 15ms (Views: 0.1ms | ActiveRecord: 11.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:57:20.154056"], ["updated_at", "2025-02-18 22:57:20.154056"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (24.1ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:57:20.231239"], ["updated_at", "2025-02-18 22:57:20.231239"]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:57:20 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjMwNDB9.CyQnQmgqnaJO_YjaytdA0ZmyDPRgkbqz95vXY5EOhgg
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (25.4ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:57:20.294725"], ["id", 1]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 68ms (Views: 2.2ms | ActiveRecord: 69.2ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:57:20 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (11.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (10.3ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (24.3ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:57:20.442273"], ["id", 1]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 130ms (Views: 4.2ms | ActiveRecord: 66.3ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (11.2ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (13.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:57:20.564617"], ["updated_at", "2025-02-18 22:57:20.564617"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (23.4ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:57:20.599729"], ["updated_at", "2025-02-18 22:57:20.599729"]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (22.0ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:57:20.636409"], ["id", 1]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:57:20 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjMwNDB9.CyQnQmgqnaJO_YjaytdA0ZmyDPRgkbqz95vXY5EOhgg
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (21.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:57:20.692574"], ["id", 1]]
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 66ms (Views: 5.4ms | ActiveRecord: 64.7ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:57:20 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
  [1m[36mManager Load (11.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (10.7ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "false"} permitted: true>
  [1m[36mCACHE Worker Load (1.2ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (21.5ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", false], ["updated_at", "2025-02-18 22:57:20.821741"], ["id", 1]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 110ms (Views: 0.5ms | ActiveRecord: 64.3ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (11.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (14.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:57:20.934613"], ["updated_at", "2025-02-18 22:57:20.934613"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (23.3ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:57:20.972946"], ["updated_at", "2025-02-18 22:57:20.972946"]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (22.8ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:57:21.008684"], ["id", 1]]
  [1m[36mTRANSACTION (13.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:57:21 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (19.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (9.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (9.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (215.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:58:09.884545"], ["updated_at", "2025-02-18 22:58:09.884545"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:58:09 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjMwODl9.tW3BXzEKWR1fjVFhpncbnsCrHcPoNlDe4wfQAwQrfTs
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.4ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:58:09.968851"], ["id", 1]]
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 115ms (Views: 0.4ms | ActiveRecord: 90.2ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:58:10 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (13.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (20.0ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:58:10.161044"], ["updated_at", "2025-02-18 22:58:10.161044"]]
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 146ms (Views: 1.9ms | ActiveRecord: 79.5ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:58:10.241654"], ["updated_at", "2025-02-18 22:58:10.241654"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:58:10 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:58:10.315850"], ["updated_at", "2025-02-18 22:58:10.315850"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (9.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGame Create (9.5ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:58:10.369445"], ["updated_at", "2025-02-18 22:58:10.369445"]]
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:58:10 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjMwOTB9.i-oY6oVNF6XT29L9ZcCdQxC5icWZgPkMmQM2a4zxhhM
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (20.7ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:58:10.413338"], ["id", 1]]
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 67ms (Views: 1.3ms | ActiveRecord: 59.4ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-18 22:58:10 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (10.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGame Load (11.2ms)[0m  [1m[34mSELECT "games".* FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (16.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."game_id" = $1[0m  [["game_id", 1]]
  [1m[36mGame Destroy (10.9ms)[0m  [1m[31mDELETE FROM "games" WHERE "games"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for GamesController#destroy, rendering head :no_content
Completed 204 No Content in 162ms (ActiveRecord: 100.3ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:58:10.683063"], ["updated_at", "2025-02-18 22:58:10.683063"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjMwOTB9.i-oY6oVNF6XT29L9ZcCdQxC5icWZgPkMmQM2a4zxhhM
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:58:10.737293"], ["id", 1]]
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 63ms (Views: 0.5ms | ActiveRecord: 57.0ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:58:10.830031"], ["updated_at", "2025-02-18 22:58:10.830031"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 11ms (Views: 0.1ms | ActiveRecord: 9.8ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:58:10.914494"], ["updated_at", "2025-02-18 22:58:10.914494"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 11ms (Views: 0.1ms | ActiveRecord: 9.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (18.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:58:11.011924"], ["updated_at", "2025-02-18 22:58:11.011924"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (20.1ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:58:11.080944"], ["updated_at", "2025-02-18 22:58:11.080944"]]
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:58:11 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjMwOTF9.XAV0yM9VcLZfVjG_6wH-7JMoDOlMoV_XVeIiP9IjKfU
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (20.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:58:11.134853"], ["id", 1]]
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 57ms (Views: 1.7ms | ActiveRecord: 58.3ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:58:11 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (9.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (10.5ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (21.3ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:58:11.263660"], ["id", 1]]
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 114ms (Views: 1.7ms | ActiveRecord: 57.7ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (10.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:58:11.365709"], ["updated_at", "2025-02-18 22:58:11.365709"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (21.3ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:58:11.396932"], ["updated_at", "2025-02-18 22:58:11.396932"]]
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (19.2ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:58:11.429370"], ["id", 1]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:58:11 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjMwOTF9.XAV0yM9VcLZfVjG_6wH-7JMoDOlMoV_XVeIiP9IjKfU
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.7ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:58:11.478742"], ["id", 1]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 60ms (Views: 4.9ms | ActiveRecord: 58.1ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:58:11 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
  [1m[36mManager Load (11.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (9.6ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "false"} permitted: true>
  [1m[36mCACHE Worker Load (0.6ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (19.8ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", false], ["updated_at", "2025-02-18 22:58:11.590661"], ["id", 1]]
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 96ms (Views: 0.3ms | ActiveRecord: 62.0ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (10.8ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:58:11.686211"], ["updated_at", "2025-02-18 22:58:11.686211"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (19.9ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:58:11.716841"], ["updated_at", "2025-02-18 22:58:11.716841"]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (22.4ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:58:11.748244"], ["id", 1]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:58:11 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (13.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (8.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (244.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:58:37.801760"], ["updated_at", "2025-02-18 22:58:37.801760"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:58:37 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjMxMTd9.B0Ph2Gp9llGJDc_Mv2q-ATW_-iGpt5DJcpWoJFTi9l8
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (20.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:58:37.879881"], ["id", 1]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 113ms (Views: 0.3ms | ActiveRecord: 89.7ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:58:37 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (9.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (18.6ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:58:38.062668"], ["updated_at", "2025-02-18 22:58:38.062668"]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 133ms (Views: 1.9ms | ActiveRecord: 68.6ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (27.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:58:38.136876"], ["updated_at", "2025-02-18 22:58:38.136876"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:58:38 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (19.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (32.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:58:38.229802"], ["updated_at", "2025-02-18 22:58:38.229802"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (9.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGame Create (9.3ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:58:38.299095"], ["updated_at", "2025-02-18 22:58:38.299095"]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:58:38 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjMxMTh9.keGyFW6va43PnvkLsWS2SESlHqs4OwS2yyi2eAYLl-g
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (18.0ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:58:38.342390"], ["id", 1]]
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 64ms (Views: 1.6ms | ActiveRecord: 54.4ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/:id" for 127.0.0.1 at 2025-02-18 22:58:38 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => ":id"}
  [1m[36mManager Load (10.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGame Load (10.1ms)[0m  [1m[34mSELECT "games".* FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 51ms (ActiveRecord: 20.1ms (2 queries, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Game with 'id'=:id):
  
app/controllers/games_controller.rb:55:in 'GamesController#destroy'
  [1m[36mTRANSACTION (13.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:58:38.857646"], ["updated_at", "2025-02-18 22:58:38.857646"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjMxMTh9.keGyFW6va43PnvkLsWS2SESlHqs4OwS2yyi2eAYLl-g
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.4ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:58:38.907516"], ["id", 1]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (8.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 59ms (Views: 0.5ms | ActiveRecord: 53.8ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:58:38.993500"], ["updated_at", "2025-02-18 22:58:38.993500"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 9ms (Views: 0.1ms | ActiveRecord: 8.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (13.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:58:39.080149"], ["updated_at", "2025-02-18 22:58:39.080149"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 12ms (Views: 0.1ms | ActiveRecord: 10.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:58:39.171253"], ["updated_at", "2025-02-18 22:58:39.171253"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (20.6ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:58:39.234633"], ["updated_at", "2025-02-18 22:58:39.234633"]]
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:58:39 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjMxMTl9.bXRl8Y2yTaxU8y-ikH2O6kFqVKpAa2qzFiUc0LuAgE8
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (18.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:58:39.288070"], ["id", 1]]
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (8.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 53ms (Views: 1.3ms | ActiveRecord: 54.0ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:58:39 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (8.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (9.2ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (8.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (19.9ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:58:39.404469"], ["id", 1]]
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 104ms (Views: 1.9ms | ActiveRecord: 54.7ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (11.3ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:58:39.504110"], ["updated_at", "2025-02-18 22:58:39.504110"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (18.8ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:58:39.538531"], ["updated_at", "2025-02-18 22:58:39.538531"]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (20.2ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:58:39.570261"], ["id", 1]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:58:39 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjMxMTl9.bXRl8Y2yTaxU8y-ikH2O6kFqVKpAa2qzFiUc0LuAgE8
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (20.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:58:39.623756"], ["id", 1]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (8.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 61ms (Views: 5.9ms | ActiveRecord: 56.9ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:58:39 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
  [1m[36mManager Load (10.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (9.1ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "false"} permitted: true>
  [1m[36mCACHE Worker Load (1.3ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (20.5ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", false], ["updated_at", "2025-02-18 22:58:39.741119"], ["id", 1]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 98ms (Views: 0.8ms | ActiveRecord: 58.6ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (9.1ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:58:39.843360"], ["updated_at", "2025-02-18 22:58:39.843360"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (17.8ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:58:39.876712"], ["updated_at", "2025-02-18 22:58:39.876712"]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (19.7ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:58:39.905399"], ["id", 1]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:58:39 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (10.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (9.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (197.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:59:28.818674"], ["updated_at", "2025-02-18 22:59:28.818674"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:59:28 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjMxNjh9.m0EtShQIUxDx6P1whAdcKeQ_sRyjpLM0c0zaEWTAzVI
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (18.4ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:59:28.900330"], ["id", 1]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (14.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 117ms (Views: 0.4ms | ActiveRecord: 93.0ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:59:28 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
  [1m[36mManager Load (9.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (19.7ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-18"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:59:29.088652"], ["updated_at", "2025-02-18 22:59:29.088652"]]
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 136ms (Views: 2.5ms | ActiveRecord: 69.6ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:59:29.166511"], ["updated_at", "2025-02-18 22:59:29.166511"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-18 22:59:29 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-18", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:59:29.238331"], ["updated_at", "2025-02-18 22:59:29.238331"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (10.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGame Create (9.5ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-18 22:59:29.290706"], ["updated_at", "2025-02-18 22:59:29.290706"]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGame Exists? (12.1ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:59:29 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (8.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjMxNjl9.f-kmelVpSUskR-Xl5WpDxQvjDUxnesnQVKh54vDRdII
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (18.7ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:59:29.344968"], ["id", 1]]
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (9.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 56ms (Views: 1.0ms | ActiveRecord: 55.8ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-18 22:59:29 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (9.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGame Load (11.3ms)[0m  [1m[34mSELECT "games".* FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (9.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."game_id" = $1[0m  [["game_id", 1]]
  [1m[36mGame Destroy (9.8ms)[0m  [1m[31mDELETE FROM "games" WHERE "games"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for GamesController#destroy, rendering head :no_content
Completed 204 No Content in 148ms (ActiveRecord: 88.8ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:59:29.593073"], ["updated_at", "2025-02-18 22:59:29.593073"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjMxNjl9.f-kmelVpSUskR-Xl5WpDxQvjDUxnesnQVKh54vDRdII
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (19.6ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:59:29.645279"], ["id", 1]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (7.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 62ms (Views: 0.5ms | ActiveRecord: 55.4ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:59:29.747628"], ["updated_at", "2025-02-18 22:59:29.747628"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 10ms (Views: 0.1ms | ActiveRecord: 9.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:59:29.829975"], ["updated_at", "2025-02-18 22:59:29.829975"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 11ms (Views: 0.1ms | ActiveRecord: 9.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (19.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:59:29.918085"], ["updated_at", "2025-02-18 22:59:29.918085"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (20.4ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:59:29.997706"], ["updated_at", "2025-02-18 22:59:29.997706"]]
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:59:30 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjMxNzB9.MabNhEqu4WX43YQLaE7UAJsbxWSgvDpKBhg6hwCXCqk
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (20.6ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:59:30.052701"], ["id", 1]]
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 60ms (Views: 1.7ms | ActiveRecord: 61.7ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:59:30 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (10.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (10.6ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (20.5ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:59:30.188186"], ["id", 1]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 115ms (Views: 2.4ms | ActiveRecord: 58.1ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (9.1ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (18.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:59:30.296664"], ["updated_at", "2025-02-18 22:59:30.296664"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (19.9ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:59:30.326349"], ["updated_at", "2025-02-18 22:59:30.326349"]]
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (20.3ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:59:30.356993"], ["id", 1]]
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-18 22:59:30 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (9.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5MjMxNzB9.MabNhEqu4WX43YQLaE7UAJsbxWSgvDpKBhg6hwCXCqk
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (22.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-18 22:59:30.406339"], ["id", 1]]
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 60ms (Views: 3.3ms | ActiveRecord: 62.4ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:59:30 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
  [1m[36mManager Load (9.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (10.3ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "false"} permitted: true>
  [1m[36mCACHE Worker Load (0.6ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (19.7ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", false], ["updated_at", "2025-02-18 22:59:30.517465"], ["id", 1]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 92ms (Views: 0.6ms | ActiveRecord: 56.9ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (10.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (20.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-18 22:59:30.613661"], ["updated_at", "2025-02-18 22:59:30.613661"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (19.3ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-18 22:59:30.644849"], ["updated_at", "2025-02-18 22:59:30.644849"]]
  [1m[36mTRANSACTION (25.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (19.2ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-18 22:59:30.692425"], ["id", 1]]
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-18 22:59:30 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (24.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (13.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (13.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (18.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (254.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (12.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (30.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:01:04.596672"], ["updated_at", "2025-02-19 13:01:04.596672"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:01:04 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (13.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzM2NjR9.IYwQ9ZB1mz8pE-0GpWAm-5TtQxRTTTU5O2u_z0WKXg4
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (31.8ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:01:04.712642"], ["id", 1]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (12.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 181ms (Views: 0.9ms | ActiveRecord: 125.0ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 13:01:04 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "1"}}
  [1m[36mManager Load (11.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (18.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (69.1ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-19"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 13:01:04.991856"], ["updated_at", "2025-02-19 13:01:04.991856"]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 226ms (Views: 4.8ms | ActiveRecord: 140.7ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (16.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:01:05.144159"], ["updated_at", "2025-02-19 13:01:05.144159"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 13:01:05 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (28.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:01:05.230161"], ["updated_at", "2025-02-19 13:01:05.230161"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (14.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (13.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGame Create (11.3ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 13:01:05.301509"], ["updated_at", "2025-02-19 13:01:05.301509"]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGame Exists? (12.3ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:01:05 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (13.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzM2NjV9.qbz5Bk46D6V53PUWdSWcYufH8e33ru0tFKoyuoYVdvQ
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (22.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:01:05.365314"], ["id", 1]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (12.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 70ms (Views: 1.2ms | ActiveRecord: 70.6ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-19 13:01:05 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (11.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGame Load (11.7ms)[0m  [1m[34mSELECT "games".* FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (16.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."game_id" = $1[0m  [["game_id", 1]]
  [1m[36mGame Destroy (11.9ms)[0m  [1m[31mDELETE FROM "games" WHERE "games"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (12.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for GamesController#destroy, rendering head :no_content
Completed 204 No Content in 203ms (ActiveRecord: 115.8ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (25.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:01:05.699927"], ["updated_at", "2025-02-19 13:01:05.699927"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (13.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzM2NjV9.qbz5Bk46D6V53PUWdSWcYufH8e33ru0tFKoyuoYVdvQ
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (24.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:01:05.765656"], ["id", 1]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 79ms (Views: 0.8ms | ActiveRecord: 72.8ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (20.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (42.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:01:05.883274"], ["updated_at", "2025-02-19 13:01:05.883274"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (16.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (15.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 18ms (Views: 0.3ms | ActiveRecord: 15.6ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (17.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (14.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:01:06.040332"], ["updated_at", "2025-02-19 13:01:06.040332"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 14ms (Views: 0.2ms | ActiveRecord: 10.6ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:01:06.155112"], ["updated_at", "2025-02-19 13:01:06.155112"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (17.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (27.9ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 13:01:06.256922"], ["updated_at", "2025-02-19 13:01:06.256922"]]
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:01:06 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzM2NjZ9.bUGD_ErygQz0bjKWmqbwoMIWZjXnpoEx9hQsb8ptzyw
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (24.2ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:01:06.332352"], ["id", 1]]
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 67ms (Views: 1.9ms | ActiveRecord: 68.4ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 13:01:06 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (11.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (13.3ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (13.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (26.3ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 13:01:06.485420"], ["id", 1]]
  [1m[36mTRANSACTION (13.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 139ms (Views: 3.0ms | ActiveRecord: 76.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (11.4ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (14.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (27.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:01:06.618908"], ["updated_at", "2025-02-19 13:01:06.618908"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (24.0ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 13:01:06.662176"], ["updated_at", "2025-02-19 13:01:06.662176"]]
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (24.1ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 13:01:06.701269"], ["id", 1]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:01:06 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (21.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzM2NjZ9.bUGD_ErygQz0bjKWmqbwoMIWZjXnpoEx9hQsb8ptzyw
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:01:06.773789"], ["id", 1]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (12.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 81ms (Views: 5.8ms | ActiveRecord: 78.4ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 13:01:06 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
  [1m[36mManager Load (11.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (12.4ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "false"} permitted: true>
  [1m[36mCACHE Worker Load (1.1ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (24.1ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", false], ["updated_at", "2025-02-19 13:01:06.906176"], ["id", 1]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 112ms (Views: 0.6ms | ActiveRecord: 69.8ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (12.5ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:01:07.020080"], ["updated_at", "2025-02-19 13:01:07.020080"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (24.3ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 13:01:07.059141"], ["updated_at", "2025-02-19 13:01:07.059141"]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (27.8ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 13:01:07.096287"], ["id", 1]]
  [1m[36mTRANSACTION (13.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 13:01:07 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (15.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (13.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (237.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (35.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:02:10.724712"], ["updated_at", "2025-02-19 13:02:10.724712"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (17.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:02:10 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (14.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzM3MzB9.lTcxIwP5E8EAjWa4LQQjG6nz6R9L6Qz__nVcnFVJquw
  [1m[36mTRANSACTION (15.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (28.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:02:10.851195"], ["id", 1]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (13.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 156ms (Views: 0.8ms | ActiveRecord: 129.3ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 13:02:10 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "1"}}
  [1m[36mManager Load (11.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (29.1ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-19"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 13:02:11.112986"], ["updated_at", "2025-02-19 13:02:11.112986"]]
  [1m[36mTRANSACTION (15.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 199ms (Views: 3.3ms | ActiveRecord: 99.6ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:02:11.434013"], ["updated_at", "2025-02-19 13:02:11.434013"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 13:02:11 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (21.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:02:11.530014"], ["updated_at", "2025-02-19 13:02:11.530014"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (11.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGame Create (11.0ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 13:02:11.596900"], ["updated_at", "2025-02-19 13:02:11.596900"]]
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGame Exists? (11.0ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:02:11 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzM3MzF9.085KCm2eeqvg89yrzlGvGoWREjgydCit6Kj5d6Gur7w
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (22.2ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:02:11.687591"], ["id", 1]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 83ms (Views: 1.1ms | ActiveRecord: 66.2ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-19 13:02:11 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (11.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGame Load (11.2ms)[0m  [1m[34mSELECT "games".* FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (10.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."game_id" = $1[0m  [["game_id", 1]]
  [1m[36mGame Destroy (11.0ms)[0m  [1m[31mDELETE FROM "games" WHERE "games"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for GamesController#destroy, rendering head :no_content
Completed 204 No Content in 180ms (ActiveRecord: 102.9ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (13.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (24.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:02:11.979135"], ["updated_at", "2025-02-19 13:02:11.979135"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (229.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (21.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzM3MzJ9.qFZoOALbRyAFkCeeO2gIffIEYnOK3UljU1zSXZMd6o4
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:02:12.277299"], ["id", 1]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 91ms (Views: 1.0ms | ActiveRecord: 76.9ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (20.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (14.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (20.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (32.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:02:12.413423"], ["updated_at", "2025-02-19 13:02:12.413423"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 16ms (Views: 0.3ms | ActiveRecord: 12.7ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (43.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (26.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:02:13.220455"], ["updated_at", "2025-02-19 13:02:13.220455"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 16ms (Views: 0.3ms | ActiveRecord: 12.9ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (20.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (21.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (35.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:02:13.374673"], ["updated_at", "2025-02-19 13:02:13.374673"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (16.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (20.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (37.9ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 13:02:13.509436"], ["updated_at", "2025-02-19 13:02:13.509436"]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:02:13 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (15.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzM3MzN9.Vjl61Zq05jpwJDviufo2O2YhT_s3O4IwS1db_wox9d4
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (29.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:02:13.597819"], ["id", 1]]
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (15.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 86ms (Views: 2.9ms | ActiveRecord: 83.1ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 13:02:13 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (11.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (15.5ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (16.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (31.1ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 13:02:13.799524"], ["id", 1]]
  [1m[36mTRANSACTION (231.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 396ms (Views: 3.7ms | ActiveRecord: 304.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (9.8ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (23.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:02:14.155289"], ["updated_at", "2025-02-19 13:02:14.155289"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (23.9ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 13:02:14.192601"], ["updated_at", "2025-02-19 13:02:14.192601"]]
  [1m[36mTRANSACTION (13.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (13.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (27.3ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 13:02:14.232571"], ["id", 1]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:02:14 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzM3MzR9.dBPOg-Goka3CYKY_UD9UJMTIZ3DXWBcJqy-NOY37SDQ
  [1m[36mTRANSACTION (26.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (41.2ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:02:14.297000"], ["id", 1]]
  [1m[36mTRANSACTION (13.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (226.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 303ms (Views: 3.4ms | ActiveRecord: 318.9ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 13:02:14 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
  [1m[36mManager Load (12.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (12.9ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "false"} permitted: true>
  [1m[36mCACHE Worker Load (0.7ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (24.5ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", false], ["updated_at", "2025-02-19 13:02:14.657486"], ["id", 1]]
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 111ms (Views: 0.7ms | ActiveRecord: 72.1ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (12.4ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (22.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:02:14.772323"], ["updated_at", "2025-02-19 13:02:14.772323"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (23.6ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 13:02:14.807702"], ["updated_at", "2025-02-19 13:02:14.807702"]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (29.6ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 13:02:14.843248"], ["id", 1]]
  [1m[36mTRANSACTION (14.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 13:02:14 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (97.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (180.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (84.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (64.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (90.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (65.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (79.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (1324.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (67.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (60.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (48.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (115.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:07:14.840658"], ["updated_at", "2025-02-19 13:07:14.840658"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (52.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:07:15 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (63.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzQwMzV9.UI9fa3Iar4euRmxiAX4fUIFPgS1IXrKX8eOxWD88URo
  [1m[36mTRANSACTION (57.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (109.0ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:07:15.252516"], ["id", 1]]
  [1m[36mTRANSACTION (151.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (87.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 822ms (Views: 1.2ms | ActiveRecord: 703.2ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 13:07:15 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "1"}}
  [1m[36mManager Load (81.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (52.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (111.8ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-19"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 13:07:16.518549"], ["updated_at", "2025-02-19 13:07:16.518549"]]
  [1m[36mTRANSACTION (108.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 874ms (Views: 5.9ms | ActiveRecord: 506.7ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (68.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (54.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (54.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (115.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:07:16.998155"], ["updated_at", "2025-02-19 13:07:16.998155"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (51.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 13:07:17 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (47.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (80.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (83.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (158.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:07:17.473944"], ["updated_at", "2025-02-19 13:07:17.473944"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (69.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (57.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (85.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGame Create (80.9ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 13:07:17.856624"], ["updated_at", "2025-02-19 13:07:17.856624"]]
  [1m[36mTRANSACTION (71.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGame Exists? (84.2ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:07:18 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (93.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzQwMzh9.CX1jmR06y9f28Ay2-QS0sFpMsa1gNFBAt0rGRONxAVk
  [1m[36mTRANSACTION (74.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (146.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:07:18.208547"], ["id", 1]]
  [1m[36mTRANSACTION (67.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (96.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 420ms (Views: 3.5ms | ActiveRecord: 478.1ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-19 13:07:18 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (63.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGame Load (52.1ms)[0m  [1m[34mSELECT "games".* FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (84.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (67.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."game_id" = $1[0m  [["game_id", 1]]
  [1m[36mGame Destroy (58.8ms)[0m  [1m[31mDELETE FROM "games" WHERE "games"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (79.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for GamesController#destroy, rendering head :no_content
Completed 204 No Content in 1088ms (ActiveRecord: 720.8ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (73.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (52.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (73.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (161.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:07:19.896519"], ["updated_at", "2025-02-19 13:07:19.896519"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (182.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (59.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzQwNDB9.3F2FA-2Hk0j3qDFdDBo69zuivZfP3r9sNfjxWIrfNUI
  [1m[36mTRANSACTION (66.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (132.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:07:20.330236"], ["id", 1]]
  [1m[36mTRANSACTION (73.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (56.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 355ms (Views: 2.3ms | ActiveRecord: 389.0ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (56.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (68.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (54.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (163.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:07:20.857029"], ["updated_at", "2025-02-19 13:07:20.857029"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (46.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (57.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 61ms (Views: 0.3ms | ActiveRecord: 57.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (77.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (77.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (44.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (119.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:07:21.452316"], ["updated_at", "2025-02-19 13:07:21.452316"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (68.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (83.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 89ms (Views: 0.4ms | ActiveRecord: 83.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (98.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (79.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (63.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (133.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:07:22.053543"], ["updated_at", "2025-02-19 13:07:22.053543"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (77.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (56.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (127.4ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 13:07:22.452953"], ["updated_at", "2025-02-19 13:07:22.452953"]]
  [1m[36mTRANSACTION (80.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:07:22 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (67.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzQwNDJ9.rBB3lHYKCq3970vToD0WQTokGAwHgHN1mEgILQX--pA
  [1m[36mTRANSACTION (54.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (124.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:07:22.757664"], ["id", 1]]
  [1m[36mTRANSACTION (63.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (56.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 332ms (Views: 4.5ms | ActiveRecord: 366.4ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 13:07:23 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (75.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (66.8ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (97.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (151.9ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 13:07:23.496067"], ["id", 1]]
  [1m[36mTRANSACTION (64.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 700ms (Views: 4.8ms | ActiveRecord: 450.6ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (47.1ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (65.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (55.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (60.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (151.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:07:24.067694"], ["updated_at", "2025-02-19 13:07:24.067694"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (69.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (70.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (163.3ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 13:07:24.293495"], ["updated_at", "2025-02-19 13:07:24.293495"]]
  [1m[36mTRANSACTION (50.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (55.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (149.8ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 13:07:24.511301"], ["id", 1]]
  [1m[36mTRANSACTION (64.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:07:24 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (66.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzQwNDR9.nOz8KY8XGBOpJTR4sFCkrL94lYVTuA2giDCG8SnyQbY
  [1m[36mTRANSACTION (60.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (117.8ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:07:24.807659"], ["id", 1]]
  [1m[36mTRANSACTION (58.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (68.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 322ms (Views: 4.1ms | ActiveRecord: 371.9ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 13:07:25 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
  [1m[36mManager Load (56.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (76.3ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "false"} permitted: true>
  [1m[36mCACHE Worker Load (0.8ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (113.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (215.3ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", false], ["updated_at", "2025-02-19 13:07:25.439469"], ["id", 1]]
  [1m[36mTRANSACTION (94.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 692ms (Views: 0.8ms | ActiveRecord: 555.0ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (106.5ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (105.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (61.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (75.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (215.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:07:26.233200"], ["updated_at", "2025-02-19 13:07:26.233200"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (73.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (68.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (143.2ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 13:07:26.525345"], ["updated_at", "2025-02-19 13:07:26.525345"]]
  [1m[36mTRANSACTION (94.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (72.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (154.4ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 13:07:26.767049"], ["id", 1]]
  [1m[36mTRANSACTION (79.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 13:07:27 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (63.7ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (88.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (92.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (97.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (66.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (50.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (78.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (78.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (1219.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (71.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (56.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (54.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (156.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:07:59.297854"], ["updated_at", "2025-02-19 13:07:59.297854"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (62.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:07:59 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (58.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzQwNzl9.6qbMyTBau7wHc6MuUvVPwiJ5N_xMkjKdV-cdckMLWwg
  [1m[36mTRANSACTION (54.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (114.8ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:07:59.765477"], ["id", 1]]
  [1m[36mTRANSACTION (59.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (71.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 714ms (Views: 1.5ms | ActiveRecord: 600.3ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 13:08:00 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "1"}}
  [1m[36mManager Load (57.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (50.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (114.9ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-19"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 13:08:00.895718"], ["updated_at", "2025-02-19 13:08:00.895718"]]
  [1m[36mTRANSACTION (60.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 803ms (Views: 4.4ms | ActiveRecord: 446.6ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (57.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (84.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (105.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (168.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:08:01.379058"], ["updated_at", "2025-02-19 13:08:01.379058"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (101.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 13:08:01 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (80.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (58.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (63.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (129.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:08:01.910756"], ["updated_at", "2025-02-19 13:08:01.910756"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (95.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (64.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (100.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGame Create (57.3ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 13:08:02.313630"], ["updated_at", "2025-02-19 13:08:02.313630"]]
  [1m[36mTRANSACTION (52.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGame Exists? (64.4ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:08:02 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (91.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzQwODJ9.HKpVRO9A8ZzEV0Dk_xUVNnolv2MG1jCuKPiUqMFpSHQ
  [1m[36mTRANSACTION (56.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (126.2ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:08:02.605876"], ["id", 1]]
  [1m[36mTRANSACTION (55.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (41.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 328ms (Views: 1.8ms | ActiveRecord: 371.0ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-19 13:08:02 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (67.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGame Load (96.1ms)[0m  [1m[34mSELECT "games".* FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (102.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (103.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."game_id" = $1[0m  [["game_id", 1]]
  [1m[36mGame Destroy (71.1ms)[0m  [1m[31mDELETE FROM "games" WHERE "games"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (106.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for GamesController#destroy, rendering head :no_content
Completed 204 No Content in 1190ms (ActiveRecord: 885.9ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mGame Exists? (75.0ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (76.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (79.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (61.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (132.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:08:04.515227"], ["updated_at", "2025-02-19 13:08:04.515227"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (80.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (70.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzQwODR9.2L-dg5gfLvRJ5VaJN0zUqPxotAEEzGFr579gPKX2bF0
  [1m[36mTRANSACTION (76.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (157.6ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:08:04.823270"], ["id", 1]]
  [1m[36mTRANSACTION (74.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (81.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 411ms (Views: 1.4ms | ActiveRecord: 460.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (83.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (70.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (54.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (160.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:08:05.470131"], ["updated_at", "2025-02-19 13:08:05.470131"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (70.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (82.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 87ms (Views: 0.4ms | ActiveRecord: 82.7ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (96.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (66.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (48.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (108.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:08:06.087524"], ["updated_at", "2025-02-19 13:08:06.087524"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (68.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (74.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 80ms (Views: 0.3ms | ActiveRecord: 74.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (55.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (67.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (99.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (238.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:08:06.616848"], ["updated_at", "2025-02-19 13:08:06.616848"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (101.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (72.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (192.8ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 13:08:07.215446"], ["updated_at", "2025-02-19 13:08:07.215446"]]
  [1m[36mTRANSACTION (59.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:08:07 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (70.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzQwODd9.Ekj6gja-7UONALFOqfgNBfPtlDlvBdHiF8k_odeDsfg
  [1m[36mTRANSACTION (77.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (160.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:08:07.573247"], ["id", 1]]
  [1m[36mTRANSACTION (60.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (53.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 369ms (Views: 4.3ms | ActiveRecord: 423.0ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 13:08:07 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (65.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (61.1ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (5.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (81.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (148.0ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 13:08:08.398133"], ["id", 1]]
  [1m[36mTRANSACTION (58.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 741ms (Views: 3.8ms | ActiveRecord: 413.8ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (50.9ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (53.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (120.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (97.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (187.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:08:09.048936"], ["updated_at", "2025-02-19 13:08:09.048936"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (75.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (52.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (143.3ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 13:08:09.318066"], ["updated_at", "2025-02-19 13:08:09.318066"]]
  [1m[36mTRANSACTION (63.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (52.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (126.1ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 13:08:09.529741"], ["id", 1]]
  [1m[36mTRANSACTION (78.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:08:09 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (60.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzQwODl9.9muSF4-ecYM3TJgdlYSBu_vm07NYF0R-0wJpOtPGgys
  [1m[36mTRANSACTION (47.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (107.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:08:09.817005"], ["id", 1]]
  [1m[36mTRANSACTION (61.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (62.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 308ms (Views: 4.3ms | ActiveRecord: 339.1ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 13:08:10 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
  [1m[36mManager Load (70.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (53.8ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "false"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (60.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (122.1ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", false], ["updated_at", "2025-02-19 13:08:10.424176"], ["id", 1]]
  [1m[36mTRANSACTION (52.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 542ms (Views: 0.9ms | ActiveRecord: 358.4ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (49.8ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (58.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (73.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (46.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (134.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:08:10.996037"], ["updated_at", "2025-02-19 13:08:10.996037"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (65.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (93.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (158.0ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 13:08:11.200297"], ["updated_at", "2025-02-19 13:08:11.200297"]]
  [1m[36mTRANSACTION (71.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (53.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (105.9ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 13:08:11.431684"], ["id", 1]]
  [1m[36mTRANSACTION (39.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 13:08:11 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (65.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (49.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (45.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (57.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (39.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (48.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (39.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (49.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (834.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (37.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (27.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (56.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (96.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "not-admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:32:58.890071"], ["updated_at", "2025-02-19 13:32:58.890071"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (28.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:32:59 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (42.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzU1Nzl9.DwBYqicXh1VRsXnzSECSqAcetKCwAEcWYmO4f91MfVo
  [1m[36mTRANSACTION (33.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (84.6ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:32:59.165674"], ["id", 1]]
  [1m[36mTRANSACTION (38.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (30.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 441ms (Views: 1.3ms | ActiveRecord: 364.8ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 13:32:59 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "1"}}
  [1m[36mManager Load (53.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (48.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (98.1ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-19"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 13:33:00.190943"], ["updated_at", "2025-02-19 13:33:00.190943"]]
  [1m[36mTRANSACTION (49.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 843ms (Views: 3.8ms | ActiveRecord: 357.0ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (36.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (44.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (35.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (92.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "not-admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:33:00.503363"], ["updated_at", "2025-02-19 13:33:00.503363"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (29.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 13:33:00 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (33.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (38.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (29.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (88.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "not-admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:33:00.794744"], ["updated_at", "2025-02-19 13:33:00.794744"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (39.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (44.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (42.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGame Create (36.7ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 13:33:01.022230"], ["updated_at", "2025-02-19 13:33:01.022230"]]
  [1m[36mTRANSACTION (28.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGame Exists? (42.0ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:33:01 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (29.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzU1ODF9.tkIQxCAsYonSOPuptObzTULU3FX3zNuHG4zC0Ul7kLg
  [1m[36mTRANSACTION (31.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (81.2ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:33:01.185351"], ["id", 1]]
  [1m[36mTRANSACTION (40.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (43.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 211ms (Views: 0.7ms | ActiveRecord: 225.7ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-19 13:33:01 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (37.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :authorize_admin rendered or redirected
Completed 401 Unauthorized in 88ms (Views: 0.2ms | ActiveRecord: 37.7ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (44.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (28.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (42.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (81.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "not-admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:33:01.625558"], ["updated_at", "2025-02-19 13:33:01.625558"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (36.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (46.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (39.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGame Create (54.4ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 13:33:01.861287"], ["updated_at", "2025-02-19 13:33:01.861287"]]
  [1m[36mTRANSACTION (37.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGame Exists? (37.5ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:33:02 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (45.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzU1ODJ9.6nQiG2G1jwT8vwnyfv9rLUPs2xIQU8Uj1PGBnMWrXsc
  [1m[36mTRANSACTION (38.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (93.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:33:02.065757"], ["id", 1]]
  [1m[36mTRANSACTION (32.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (36.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 5.0ms | ActiveRecord: 245.7ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-19 13:33:02 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (43.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :authorize_admin rendered or redirected
Completed 401 Unauthorized in 81ms (Views: 0.2ms | ActiveRecord: 43.7ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (29.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (38.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (37.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (88.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "not-admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:33:02.491837"], ["updated_at", "2025-02-19 13:33:02.491837"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (45.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (38.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzU1ODJ9.6nQiG2G1jwT8vwnyfv9rLUPs2xIQU8Uj1PGBnMWrXsc
  [1m[36mTRANSACTION (47.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (88.6ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:33:02.684119"], ["id", 1]]
  [1m[36mTRANSACTION (30.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (47.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 220ms (Views: 1.6ms | ActiveRecord: 253.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (30.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (26.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (29.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (75.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "not-admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:33:03.017802"], ["updated_at", "2025-02-19 13:33:03.017802"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (34.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (33.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 35ms (Views: 0.1ms | ActiveRecord: 33.6ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (47.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (41.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (43.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (82.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "not-admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:33:03.343394"], ["updated_at", "2025-02-19 13:33:03.343394"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (30.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (56.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 61ms (Views: 0.3ms | ActiveRecord: 56.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (46.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (46.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (33.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (82.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "not-admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:33:03.693320"], ["updated_at", "2025-02-19 13:33:03.693320"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (40.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (41.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (99.4ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 13:33:03.935779"], ["updated_at", "2025-02-19 13:33:03.935779"]]
  [1m[36mTRANSACTION (54.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:33:04 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (55.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzU1ODR9.SVGIt25KVZDJ6fxm-FEPE9YFRqdN9mAxh4Q6GWm_wno
  [1m[36mTRANSACTION (46.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (92.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:33:04.165005"], ["id", 1]]
  [1m[36mTRANSACTION (38.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (62.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 260ms (Views: 3.0ms | ActiveRecord: 294.7ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 13:33:04 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (27.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (38.6ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (0.8ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (30.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (80.4ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 13:33:04.650899"], ["id", 1]]
  [1m[36mTRANSACTION (29.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 395ms (Views: 1.1ms | ActiveRecord: 206.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (41.9ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (38.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (40.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (28.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (85.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "not-admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:33:05.015450"], ["updated_at", "2025-02-19 13:33:05.015450"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (32.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (37.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (84.4ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 13:33:05.138999"], ["updated_at", "2025-02-19 13:33:05.138999"]]
  [1m[36mTRANSACTION (38.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (36.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (81.3ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 13:33:05.264626"], ["id", 1]]
  [1m[36mTRANSACTION (29.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:33:05 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (37.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzU1ODV9.aVl2BUGqAR-ZHLQzlhHKhNAIyLdSivjjewPqpmodsfQ
  [1m[36mTRANSACTION (31.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (82.2ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:33:05.424714"], ["id", 1]]
  [1m[36mTRANSACTION (28.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (36.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 201ms (Views: 4.5ms | ActiveRecord: 216.4ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 13:33:05 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
  [1m[36mManager Load (37.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (40.6ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "false"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (44.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (91.8ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", false], ["updated_at", "2025-02-19 13:33:05.818980"], ["id", 1]]
  [1m[36mTRANSACTION (34.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 362ms (Views: 1.1ms | ActiveRecord: 248.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (40.1ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (36.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (39.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (33.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (79.8ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "not-admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:33:06.194083"], ["updated_at", "2025-02-19 13:33:06.194083"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (33.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (34.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (84.6ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 13:33:06.310522"], ["updated_at", "2025-02-19 13:33:06.310522"]]
  [1m[36mTRANSACTION (28.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (37.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (103.2ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 13:33:06.429095"], ["id", 1]]
  [1m[36mTRANSACTION (44.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 13:33:06 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (46.6ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (46.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (45.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (49.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (38.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (47.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (43.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (63.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (838.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (37.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (29.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (62.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (100.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "not-admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:34:05.134614"], ["updated_at", "2025-02-19 13:34:05.134614"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (33.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:34:05 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (29.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzU2NDV9.AXI7hzqM6sAVaq7bnsg1hP6h6mk-eoE9XMWwIV6xYxE
  [1m[36mTRANSACTION (34.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (81.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:34:05.403545"], ["id", 1]]
  [1m[36mTRANSACTION (42.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (35.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 455ms (Views: 1.3ms | ActiveRecord: 368.2ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 13:34:05 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "1"}}
  [1m[36mManager Load (31.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (49.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (100.8ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-19"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 13:34:06.110318"], ["updated_at", "2025-02-19 13:34:06.110318"]]
  [1m[36mTRANSACTION (33.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 496ms (Views: 4.6ms | ActiveRecord: 313.1ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (32.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (49.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (40.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (82.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "not-admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:34:06.414070"], ["updated_at", "2025-02-19 13:34:06.414070"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (30.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 13:34:06 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (34.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (44.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (31.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (81.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "not-admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:34:06.691363"], ["updated_at", "2025-02-19 13:34:06.691363"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (29.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (35.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (30.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGame Create (48.2ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 13:34:06.881956"], ["updated_at", "2025-02-19 13:34:06.881956"]]
  [1m[36mTRANSACTION (31.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGame Exists? (40.3ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:34:07 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (46.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzU2NDd9.IqSboMo3ggRA5ZXlpPCSsRJEFq5hZKVeWlUfQ-2NrQ8
  [1m[36mTRANSACTION (40.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (79.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:34:07.076812"], ["id", 1]]
  [1m[36mTRANSACTION (50.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (31.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 229ms (Views: 0.6ms | ActiveRecord: 249.6ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-19 13:34:07 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (48.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :authorize_admin rendered or redirected
Completed 401 Unauthorized in 101ms (Views: 0.2ms | ActiveRecord: 48.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (43.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (30.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (53.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (100.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "not-admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:34:07.533345"], ["updated_at", "2025-02-19 13:34:07.533345"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (48.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (40.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzU2NDd9.IqSboMo3ggRA5ZXlpPCSsRJEFq5hZKVeWlUfQ-2NrQ8
  [1m[36mTRANSACTION (40.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (87.8ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:34:07.764017"], ["id", 1]]
  [1m[36mTRANSACTION (39.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (38.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 1.0ms | ActiveRecord: 246.4ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (44.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (29.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (47.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (100.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "not-admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:34:08.126469"], ["updated_at", "2025-02-19 13:34:08.126469"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (39.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (36.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 38ms (Views: 0.2ms | ActiveRecord: 36.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (28.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (39.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (33.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (98.9ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "not-admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:34:08.471950"], ["updated_at", "2025-02-19 13:34:08.471950"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (30.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (33.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 41ms (Views: 0.2ms | ActiveRecord: 33.8ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (40.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (38.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (54.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (115.7ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "not-admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:34:08.814021"], ["updated_at", "2025-02-19 13:34:08.814021"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (45.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (49.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (78.5ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 13:34:09.115459"], ["updated_at", "2025-02-19 13:34:09.115459"]]
  [1m[36mTRANSACTION (47.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:34:09 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (35.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzU2NDl9.pthe2IJIOBOD78UX16Jb445CYe0FGGoN5qU_VlmBsNs
  [1m[36mTRANSACTION (35.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (80.4ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:34:09.301535"], ["id", 1]]
  [1m[36mTRANSACTION (52.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (37.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 222ms (Views: 4.9ms | ActiveRecord: 241.7ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 13:34:09 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (32.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (30.6ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (39.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (108.0ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 13:34:09.772434"], ["id", 1]]
  [1m[36mTRANSACTION (43.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 443ms (Views: 4.7ms | ActiveRecord: 253.7ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (31.4ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (36.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (44.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (46.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (103.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "not-admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:34:10.173861"], ["updated_at", "2025-02-19 13:34:10.173861"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (51.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (36.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (69.8ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 13:34:10.332283"], ["updated_at", "2025-02-19 13:34:10.332283"]]
  [1m[36mTRANSACTION (34.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (35.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (85.6ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 13:34:10.441594"], ["id", 1]]
  [1m[36mTRANSACTION (27.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:34:10 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (27.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzU2NTB9.lL7dNayyZOvfaalMaBbJ11sTSNRJLslNcPUkGxR0sAA
  [1m[36mTRANSACTION (50.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (87.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:34:10.600057"], ["id", 1]]
  [1m[36mTRANSACTION (28.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (38.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 200ms (Views: 9.3ms | ActiveRecord: 232.8ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 13:34:10 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
  [1m[36mManager Load (221.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (37.5ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "false"} permitted: true>
  [1m[36mCACHE Worker Load (1.3ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (39.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (331.6ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", false], ["updated_at", "2025-02-19 13:34:11.178045"], ["id", 1]]
  [1m[36mTRANSACTION (34.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 780ms (Views: 0.3ms | ActiveRecord: 663.9ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (31.3ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (39.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (48.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (36.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (93.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "not-admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:34:11.792300"], ["updated_at", "2025-02-19 13:34:11.792300"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (31.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (36.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (83.4ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 13:34:11.921356"], ["updated_at", "2025-02-19 13:34:11.921356"]]
  [1m[36mTRANSACTION (33.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (38.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (85.5ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 13:34:12.040949"], ["id", 1]]
  [1m[36mTRANSACTION (53.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 13:34:12 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (38.8ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (44.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (53.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (51.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (36.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (40.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (72.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (46.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (762.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (40.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (48.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (41.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (49.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (43.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (59.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (34.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (41.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (776.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (31.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (46.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (44.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (105.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:35:23.033927"], ["updated_at", "2025-02-19 13:35:23.033927"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (39.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:35:23 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (48.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzU3MjN9.RerCRiOu2LT6kvlha8EQtjhP33VTukS1K9srg3NXgPY
  [1m[36mTRANSACTION (43.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (83.8ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:35:23.347680"], ["id", 1]]
  [1m[36mTRANSACTION (30.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (40.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 471ms (Views: 1.2ms | ActiveRecord: 394.4ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 13:35:23 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "1"}}
  [1m[36mManager Load (61.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (48.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (108.4ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-19"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 13:35:24.136638"], ["updated_at", "2025-02-19 13:35:24.136638"]]
  [1m[36mTRANSACTION (44.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 605ms (Views: 4.3ms | ActiveRecord: 369.5ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (31.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (40.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (33.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (86.1ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:35:24.447783"], ["updated_at", "2025-02-19 13:35:24.447783"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (37.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 13:35:24 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "1"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (29.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (41.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (38.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (76.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:35:24.737621"], ["updated_at", "2025-02-19 13:35:24.737621"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (34.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (55.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (36.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGame Create (57.4ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 1], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 13:35:24.954773"], ["updated_at", "2025-02-19 13:35:24.954773"]]
  [1m[36mTRANSACTION (34.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGame Exists? (53.0ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:35:25 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (46.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzU3MjV9.iicpekMShGrE_-iT2-Lm12tNjHopR9OKMgvjn_PM16w
  [1m[36mTRANSACTION (49.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (92.2ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:35:25.162416"], ["id", 1]]
  [1m[36mTRANSACTION (42.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (36.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 234ms (Views: 0.6ms | ActiveRecord: 267.2ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-19 13:35:25 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (36.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGame Load (41.4ms)[0m  [1m[34mSELECT "games".* FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (50.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (39.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."game_id" = $1[0m  [["game_id", 1]]
  [1m[36mGame Destroy (37.4ms)[0m  [1m[31mDELETE FROM "games" WHERE "games"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (53.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for GamesController#destroy, rendering head :no_content
Completed 204 No Content in 659ms (ActiveRecord: 429.6ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mGame Exists? (28.4ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (37.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (37.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (38.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (85.2ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:35:26.256239"], ["updated_at", "2025-02-19 13:35:26.256239"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (39.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (28.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzU3MjZ9.sklLTWaiFJ_0Qhs-m6Cj-NxQo5GH5EMTvd7H4qoGh-w
  [1m[36mTRANSACTION (43.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (93.6ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:35:26.437463"], ["id", 1]]
  [1m[36mTRANSACTION (44.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (50.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 1.8ms | ActiveRecord: 259.9ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (31.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (29.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (30.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (79.5ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:35:26.806771"], ["updated_at", "2025-02-19 13:35:26.806771"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (45.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (47.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 53ms (Views: 0.4ms | ActiveRecord: 47.7ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (45.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (28.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (30.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (84.3ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:35:27.166909"], ["updated_at", "2025-02-19 13:35:27.166909"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (42.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (45.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 52ms (Views: 0.4ms | ActiveRecord: 45.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (46.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (27.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (37.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (82.6ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:35:27.526896"], ["updated_at", "2025-02-19 13:35:27.526896"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (28.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (55.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (126.3ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 13:35:27.770011"], ["updated_at", "2025-02-19 13:35:27.770011"]]
  [1m[36mTRANSACTION (33.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:35:27 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (40.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzU3Mjd9.md0ES-dKaZFUmuJVNjhg3z5pKk6DLmBVPlScCHDEZWk
  [1m[36mTRANSACTION (58.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (99.8ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:35:27.996991"], ["id", 1]]
  [1m[36mTRANSACTION (51.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (39.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 2.0ms | ActiveRecord: 290.2ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 13:35:28 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (48.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (41.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (4.1ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (46.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (85.7ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 13:35:28.510976"], ["id", 1]]
  [1m[36mTRANSACTION (28.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 432ms (Views: 4.4ms | ActiveRecord: 249.4ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (38.7ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (41.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (38.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (32.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (83.4ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:35:28.877365"], ["updated_at", "2025-02-19 13:35:28.877365"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (27.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (38.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (90.1ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 13:35:28.991373"], ["updated_at", "2025-02-19 13:35:28.991373"]]
  [1m[36mTRANSACTION (26.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (40.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (85.3ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 13:35:29.112056"], ["id", 1]]
  [1m[36mTRANSACTION (32.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 13:35:29 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (29.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5NzU3Mjl9.UZYbj5KA8xsv3ZXxf1LueW-emL2Mt8WaeFYnK1kcwvs
  [1m[36mTRANSACTION (37.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (81.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 13:35:29.277216"], ["id", 1]]
  [1m[36mTRANSACTION (61.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (28.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 213ms (Views: 5.0ms | ActiveRecord: 237.8ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 13:35:29 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
  [1m[36mManager Load (41.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWorker Load (41.8ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "false"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (41.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (97.2ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", false], ["updated_at", "2025-02-19 13:35:29.694003"], ["id", 1]]
  [1m[36mTRANSACTION (36.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 370ms (Views: 0.9ms | ActiveRecord: 257.8ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (47.5ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (44.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (29.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (36.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (94.0ms)[0m  [1m[32mINSERT INTO "managers" ("id", "name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["id", 1], ["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 13:35:30.083799"], ["updated_at", "2025-02-19 13:35:30.083799"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (32.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (39.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (103.1ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 13:35:30.211873"], ["updated_at", "2025-02-19 13:35:30.211873"]]
  [1m[36mTRANSACTION (35.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (36.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (95.8ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 13:35:30.353640"], ["id", 1]]
  [1m[36mTRANSACTION (42.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 13:35:30 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (41.9ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (52.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (51.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (72.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (64.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (49.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (57.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (56.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (1121.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (49.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (51.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (71.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (138.6ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:05:44.978733"], ["updated_at", "2025-02-19 14:05:44.978733"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (51.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (59.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (127.9ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:05:45.177849"], ["updated_at", "2025-02-19 14:05:45.177849"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (67.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:05:45 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (49.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoyMCwiZW1haWwiOiJ0ZXN0MUBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3NzU0NX0.Q-UVRVNlR2p3Lik4SAb4abFZikdpQw_Q8PphUZRWUjo
  [1m[36mTRANSACTION (49.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (136.4ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:05:45.588685"], ["id", 20]]
  [1m[36mTRANSACTION (71.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (36.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 20], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 629ms (Views: 7.2ms | ActiveRecord: 527.0ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 14:05:46 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "20"}}
  [1m[36mManager Load (69.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mTRANSACTION (56.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (106.8ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-19"], ["manager_id", 20], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 14:05:46.512298"], ["updated_at", "2025-02-19 14:05:46.512298"]]
  [1m[36mTRANSACTION (54.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 632ms (Views: 2.5ms | ActiveRecord: 391.8ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (39.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (63.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (45.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (107.3ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:05:46.901605"], ["updated_at", "2025-02-19 14:05:46.901605"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (39.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (62.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (117.6ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:05:47.057687"], ["updated_at", "2025-02-19 14:05:47.057687"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (54.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 14:05:47 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "22"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (43.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (40.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (46.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (110.7ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:05:47.414192"], ["updated_at", "2025-02-19 14:05:47.414192"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (46.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (41.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (101.3ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:05:47.578665"], ["updated_at", "2025-02-19 14:05:47.578665"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (38.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (48.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (62.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mGame Create (77.3ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 24], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 14:05:47.844457"], ["updated_at", "2025-02-19 14:05:47.844457"]]
  [1m[36mTRANSACTION (49.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGame Exists? (53.8ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:05:48 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (45.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoyNCwiZW1haWwiOiJ0ZXN0NUBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3NzU0OH0.DLwM4DyA3I9sj8PSRI7UhchBpK1ilooqq4TzRa5oiZY
  [1m[36mTRANSACTION (44.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (112.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:05:48.097405"], ["id", 24]]
  [1m[36mTRANSACTION (48.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (44.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 24], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 294ms (Views: 8.0ms | ActiveRecord: 295.5ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-19 14:05:48 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (57.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mGame Load (68.0ms)[0m  [1m[34mSELECT "games".* FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (47.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (44.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."game_id" = $1[0m  [["game_id", 1]]
  [1m[36mGame Destroy (66.0ms)[0m  [1m[31mDELETE FROM "games" WHERE "games"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (54.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for GamesController#destroy, rendering head :no_content
Completed 204 No Content in 809ms (ActiveRecord: 523.9ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mGame Exists? (59.0ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (43.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (48.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (62.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (103.8ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:05:49.528979"], ["updated_at", "2025-02-19 14:05:49.528979"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (49.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (35.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (102.5ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:05:49.694641"], ["updated_at", "2025-02-19 14:05:49.694641"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (51.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (48.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (46.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[36mGame Create (60.2ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 27], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 14:05:49.952633"], ["updated_at", "2025-02-19 14:05:49.952633"]]
  [1m[36mTRANSACTION (68.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGame Exists? (57.4ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:05:50 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (57.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoyNiwiZW1haWwiOiJ0ZXN0N0BleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3NzU1MH0.Cd8xg3AfgCXyqv1k234_MkG33y9ZeFxo9Ldcz11Wia0
  [1m[36mTRANSACTION (40.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (77.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:05:50.216901"], ["id", 26]]
  [1m[36mTRANSACTION (51.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (46.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 26], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 258ms (Views: 0.7ms | ActiveRecord: 273.5ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-19 14:05:50 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (67.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[36mGame Load (41.5ms)[0m  [1m[34mSELECT "games".* FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (52.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (65.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."game_id" = $1[0m  [["game_id", 1]]
  [1m[36mGame Destroy (50.5ms)[0m  [1m[31mDELETE FROM "games" WHERE "games"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (43.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for GamesController#destroy, rendering head :no_content
Completed 204 No Content in 496ms (ActiveRecord: 320.7ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (58.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (47.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (62.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (113.9ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:05:51.157577"], ["updated_at", "2025-02-19 14:05:51.157577"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (79.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (54.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoyOCwiZW1haWwiOiJ0ZXN0QGV4YW1wbGUuY29tIiwiZXhwIjoxNzM5OTc3NTUxfQ.XKh5tGUIBQ7xCYqtfE55jJpb0sAJD7oYCZKls8OSrAA
  [1m[36mTRANSACTION (57.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (108.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:05:51.423785"], ["id", 28]]
  [1m[36mTRANSACTION (43.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (48.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 28], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 273ms (Views: 2.8ms | ActiveRecord: 308.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (60.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (54.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (40.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (90.0ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:05:51.854963"], ["updated_at", "2025-02-19 14:05:51.854963"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (45.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (56.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 59ms (Views: 0.8ms | ActiveRecord: 56.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (47.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (40.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (58.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (102.3ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:05:52.245918"], ["updated_at", "2025-02-19 14:05:52.245918"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (52.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (72.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 76ms (Views: 0.1ms | ActiveRecord: 72.9ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (59.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (38.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (50.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (131.3ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:05:52.657483"], ["updated_at", "2025-02-19 14:05:52.657483"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (41.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (80.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (146.3ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 14:05:53.000780"], ["updated_at", "2025-02-19 14:05:53.000780"]]
  [1m[36mTRANSACTION (47.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:05:53 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (48.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjozMSwiZW1haWwiOiJ0ZXN0OUBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3NzU1M30.d6Sd8jv49i1YJOp_zSPaipLvgxTtKxAApSS5D6zLb88
  [1m[36mTRANSACTION (74.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (145.7ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:05:53.263666"], ["id", 31]]
  [1m[36mTRANSACTION (60.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (45.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 31], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 315ms (Views: 3.8ms | ActiveRecord: 374.6ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 14:05:53 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (61.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  [1m[36mWorker Load (49.4ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (0.8ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (40.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (79.3ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 14:05:53.929443"], ["id", 1]]
  [1m[36mTRANSACTION (42.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 532ms (Views: 2.2ms | ActiveRecord: 272.6ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (40.9ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (57.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (47.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (53.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (98.8ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:05:54.341280"], ["updated_at", "2025-02-19 14:05:54.341280"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (54.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (44.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (87.0ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 14:05:54.497890"], ["updated_at", "2025-02-19 14:05:54.497890"]]
  [1m[36mTRANSACTION (59.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (66.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (135.7ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 14:05:54.650302"], ["id", 1]]
  [1m[36mTRANSACTION (44.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:05:54 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (46.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjozMiwiZW1haWwiOiJ0ZXN0MTBAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5Nzc1NTR9.SdGthND-19KVYDvuDed8tBjC0FZ_9bUo27uhLS7kOq0
  [1m[36mTRANSACTION (51.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (97.8ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:05:54.885304"], ["id", 32]]
  [1m[36mTRANSACTION (42.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (36.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 32], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 5.4ms | ActiveRecord: 274.9ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 14:05:55 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
  [1m[36mManager Load (58.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  [1m[36mWorker Load (46.1ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "false"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (49.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (90.2ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", false], ["updated_at", "2025-02-19 14:05:55.448540"], ["id", 1]]
  [1m[36mTRANSACTION (45.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 508ms (Views: 0.9ms | ActiveRecord: 289.4ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (52.6ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (63.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (54.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (40.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (87.4ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:05:55.942441"], ["updated_at", "2025-02-19 14:05:55.942441"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (52.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (46.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (88.1ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 14:05:56.085793"], ["updated_at", "2025-02-19 14:05:56.085793"]]
  [1m[36mTRANSACTION (52.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (59.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (106.9ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 14:05:56.230927"], ["id", 1]]
  [1m[36mTRANSACTION (52.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 14:05:56 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (43.8ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (44.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (55.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (50.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (56.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (54.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (37.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (38.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (917.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (52.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (58.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (62.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (113.0ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:07:39.889559"], ["updated_at", "2025-02-19 14:07:39.889559"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (49.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (58.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (102.5ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:07:40.060612"], ["updated_at", "2025-02-19 14:07:40.060612"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (43.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:07:40 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (42.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjozNCwiZW1haWwiOiJ0ZXN0MUBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3NzY2MH0.fD5QkRN6SMI73XlnzKVScKqzU-H0n4c5KKw1gM7X9UY
  [1m[36mTRANSACTION (35.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (85.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:07:40.387712"], ["id", 34]]
  [1m[36mTRANSACTION (39.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (62.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 34], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 514ms (Views: 5.2ms | ActiveRecord: 419.9ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 14:07:40 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "34"}}
  [1m[36mManager Load (50.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  [1m[36mTRANSACTION (54.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (113.3ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-19"], ["manager_id", 34], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 14:07:41.245710"], ["updated_at", "2025-02-19 14:07:41.245710"]]
  [1m[36mTRANSACTION (55.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 656ms (Views: 2.7ms | ActiveRecord: 433.5ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (45.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (30.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (44.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (93.8ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:07:41.596633"], ["updated_at", "2025-02-19 14:07:41.596633"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (38.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (54.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (111.3ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:07:41.740691"], ["updated_at", "2025-02-19 14:07:41.740691"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (59.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 14:07:41 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "36"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (50.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (47.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (55.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (133.5ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:07:42.116259"], ["updated_at", "2025-02-19 14:07:42.116259"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (42.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (45.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (96.6ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:07:42.299317"], ["updated_at", "2025-02-19 14:07:42.299317"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (53.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (49.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (53.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[36mGame Create (66.4ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 38], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 14:07:42.564943"], ["updated_at", "2025-02-19 14:07:42.564943"]]
  [1m[36mTRANSACTION (47.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGame Exists? (58.0ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:07:42 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (47.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjozOCwiZW1haWwiOiJ0ZXN0NUBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3NzY2Mn0.g35cM95LPwzoJWI07DgJKwqQn6LYrJ0OP2K31KlAYeg
  [1m[36mTRANSACTION (67.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (147.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:07:42.814413"], ["id", 38]]
  [1m[36mTRANSACTION (49.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (57.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 38], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 359ms (Views: 6.6ms | ActiveRecord: 368.8ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-19 14:07:43 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (44.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[36mGame Load (42.7ms)[0m  [1m[34mSELECT "games".* FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (46.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (40.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."game_id" = $1[0m  [["game_id", 1]]
  [1m[36mGame Destroy (68.5ms)[0m  [1m[31mDELETE FROM "games" WHERE "games"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (55.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for GamesController#destroy, rendering head :no_content
Completed 204 No Content in 715ms (ActiveRecord: 466.8ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mGame Exists? (47.3ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (38.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (43.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (53.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (109.6ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:07:44.118185"], ["updated_at", "2025-02-19 14:07:44.118185"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (48.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (51.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (101.7ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:07:44.287934"], ["updated_at", "2025-02-19 14:07:44.287934"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (40.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (52.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (54.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mGame Create (72.2ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 41], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 14:07:44.550094"], ["updated_at", "2025-02-19 14:07:44.550094"]]
  [1m[36mTRANSACTION (38.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGame Exists? (48.6ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:07:44 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (51.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo0MSwiZW1haWwiOiJ0ZXN0OEBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3NzY2NH0.N4x1yvjjfvp402AYgNh06U2X9ZpN2UBdV3TiakAX8-g
  [1m[36mTRANSACTION (52.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (107.2ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:07:44.776075"], ["id", 41]]
  [1m[36mTRANSACTION (57.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (43.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 41], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 280ms (Views: 0.7ms | ActiveRecord: 313.1ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-19 14:07:45 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (45.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
Filter chain halted as :authorize_admin rendered or redirected
Completed 401 Unauthorized in 104ms (Views: 0.3ms | ActiveRecord: 44.9ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (45.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (50.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (55.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (117.8ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:07:45.308604"], ["updated_at", "2025-02-19 14:07:45.308604"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (48.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (50.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo0MiwiZW1haWwiOiJ0ZXN0QGV4YW1wbGUuY29tIiwiZXhwIjoxNzM5OTc3NjY1fQ.HhDqDuhZsL69AQJs6f9w6WQ7qOU1HOblSJLX-3K-o_Q
  [1m[36mTRANSACTION (45.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (118.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:07:45.537508"], ["id", 42]]
  [1m[36mTRANSACTION (53.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (56.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 42], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 297ms (Views: 5.3ms | ActiveRecord: 325.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (55.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (63.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (55.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (97.5ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:07:45.999805"], ["updated_at", "2025-02-19 14:07:45.999805"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (48.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (57.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 60ms (Views: 0.4ms | ActiveRecord: 57.7ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (55.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (41.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (40.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (106.0ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:07:46.404070"], ["updated_at", "2025-02-19 14:07:46.404070"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (42.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (41.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 45ms (Views: 0.1ms | ActiveRecord: 41.6ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (46.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (32.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (44.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (107.2ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:07:46.780270"], ["updated_at", "2025-02-19 14:07:46.780270"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (106.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (47.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (96.0ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 14:07:47.116976"], ["updated_at", "2025-02-19 14:07:47.116976"]]
  [1m[36mTRANSACTION (57.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:07:47 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (41.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo0NSwiZW1haWwiOiJ0ZXN0OUBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3NzY2N30.eQz8kHhI6kywP9jrOU6yZyct_H1cQrifoniUw6cs-ng
  [1m[36mTRANSACTION (48.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (109.7ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:07:47.330730"], ["id", 45]]
  [1m[36mTRANSACTION (50.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (45.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 45], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 261ms (Views: 5.6ms | ActiveRecord: 295.0ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 14:07:47 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (38.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 45], ["LIMIT", 1]]
  [1m[36mWorker Load (42.3ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (0.3ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (37.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (83.8ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 14:07:47.838692"], ["id", 1]]
  [1m[36mTRANSACTION (48.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 427ms (Views: 2.0ms | ActiveRecord: 250.1ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (44.4ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (47.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (82.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (39.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (86.5ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:07:48.324063"], ["updated_at", "2025-02-19 14:07:48.324063"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (47.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (47.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (97.8ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 14:07:48.461509"], ["updated_at", "2025-02-19 14:07:48.461509"]]
  [1m[36mTRANSACTION (42.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (54.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (94.8ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 14:07:48.608039"], ["id", 1]]
  [1m[36mTRANSACTION (36.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:07:48 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (38.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo0NiwiZW1haWwiOiJ0ZXN0MTBAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5Nzc2Njh9.Vx10FzNnnJbWdDZm_H-aVVtvID7uVVtCItbXIoZTj_4
  [1m[36mTRANSACTION (50.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (99.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:07:48.791184"], ["id", 46]]
  [1m[36mTRANSACTION (49.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (36.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 46], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 7.1ms | ActiveRecord: 274.8ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 14:07:48 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
  [1m[36mManager Load (46.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
  [1m[36mWorker Load (40.2ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "false"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (30.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (82.5ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", false], ["updated_at", "2025-02-19 14:07:49.263664"], ["id", 1]]
  [1m[36mTRANSACTION (51.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 408ms (Views: 0.9ms | ActiveRecord: 251.9ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (42.1ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (54.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (39.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (44.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (91.5ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:07:49.670124"], ["updated_at", "2025-02-19 14:07:49.670124"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (51.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (50.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (87.6ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 14:07:49.816545"], ["updated_at", "2025-02-19 14:07:49.816545"]]
  [1m[36mTRANSACTION (40.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (54.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (106.5ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 14:07:49.948317"], ["id", 1]]
  [1m[36mTRANSACTION (36.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 14:07:50 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (44.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (96.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (52.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (54.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (47.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (66.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (41.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (68.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (934.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "postgres"[0m
  [1m[36mActiveRecord::SchemaMigration Load (57.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (34.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (55.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (111.4ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:08:11.387187"], ["updated_at", "2025-02-19 14:08:11.387187"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (84.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (51.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (110.5ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:08:11.591269"], ["updated_at", "2025-02-19 14:08:11.591269"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (30.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:08:11 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (61.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo0OCwiZW1haWwiOiJ0ZXN0MUBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3NzY5MX0.fdSDs-u0EZV_gNVpHEtRwPJ8JUgo6tphO7iwc1gKPp0
  [1m[36mTRANSACTION (43.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (99.0ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:08:11.933535"], ["id", 48]]
  [1m[36mTRANSACTION (35.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (39.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 48], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 539ms (Views: 6.8ms | ActiveRecord: 448.5ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 14:08:12 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "48"}}
  [1m[36mManager Load (62.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 48], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 48], ["LIMIT", 1]]
  [1m[36mTRANSACTION (49.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (110.2ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-19"], ["manager_id", 48], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 14:08:12.810029"], ["updated_at", "2025-02-19 14:08:12.810029"]]
  [1m[36mTRANSACTION (46.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 663ms (Views: 3.3ms | ActiveRecord: 395.6ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (40.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (29.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (45.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (93.8ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:08:13.155850"], ["updated_at", "2025-02-19 14:08:13.155850"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (48.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (47.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (109.6ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:08:13.307093"], ["updated_at", "2025-02-19 14:08:13.307093"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (35.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 14:08:13 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "50"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (49.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (30.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (35.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (110.2ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:08:13.631092"], ["updated_at", "2025-02-19 14:08:13.631092"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (71.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (48.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (100.8ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:08:13.821990"], ["updated_at", "2025-02-19 14:08:13.821990"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (47.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (46.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (30.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 52], ["LIMIT", 1]]
  [1m[36mGame Create (43.4ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 52], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 14:08:14.060230"], ["updated_at", "2025-02-19 14:08:14.060230"]]
  [1m[36mTRANSACTION (55.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGame Exists? (43.1ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:08:14 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (48.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo1MiwiZW1haWwiOiJ0ZXN0NUBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3NzY5NH0.Xj22u92URxGx7AmoKXFaLdv7UC8GtGOlGRnuS8FSm3A
  [1m[36mTRANSACTION (47.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (103.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:08:14.282800"], ["id", 52]]
  [1m[36mTRANSACTION (38.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (43.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 52], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 290ms (Views: 5.8ms | ActiveRecord: 280.8ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-19 14:08:14 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (53.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 52], ["LIMIT", 1]]
  [1m[36mGame Load (52.3ms)[0m  [1m[34mSELECT "games".* FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (62.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (43.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."game_id" = $1[0m  [["game_id", 1]]
  [1m[36mGame Destroy (43.2ms)[0m  [1m[31mDELETE FROM "games" WHERE "games"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (45.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for GamesController#destroy, rendering head :no_content
Completed 204 No Content in 708ms (ActiveRecord: 494.0ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mGame Exists? (34.7ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (39.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (55.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (49.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (105.7ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:08:15.528345"], ["updated_at", "2025-02-19 14:08:15.528345"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (43.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (49.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (108.5ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:08:15.685982"], ["updated_at", "2025-02-19 14:08:15.685982"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (48.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (49.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (58.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  [1m[36mGame Create (56.2ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 54], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 14:08:15.958656"], ["updated_at", "2025-02-19 14:08:15.958656"]]
  [1m[36mTRANSACTION (44.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGame Exists? (60.9ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:08:16 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (64.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo1NSwiZW1haWwiOiJ0ZXN0OEBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3NzY5Nn0.mzVk9320a34sxgNaghDqZSJZrmhMP1hmQywGZ1TjtNU
  [1m[36mTRANSACTION (54.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (357.6ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:08:16.200159"], ["id", 55]]
  [1m[36mTRANSACTION (36.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (56.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 55], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 529ms (Views: 0.3ms | ActiveRecord: 569.2ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-19 14:08:16 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (49.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
Filter chain halted as :authorize_admin rendered or redirected
Completed 401 Unauthorized in 109ms (Views: 0.3ms | ActiveRecord: 49.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (64.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (53.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (83.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (130.7ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:08:16.991424"], ["updated_at", "2025-02-19 14:08:16.991424"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (55.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (45.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo1NiwiZW1haWwiOiJ0ZXN0QGV4YW1wbGUuY29tIiwiZXhwIjoxNzM5OTc3Njk3fQ.rKdzpslgOea77HtAoAkBX2UVCeARAdb8-es6ehdHhPk
  [1m[36mTRANSACTION (48.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (97.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:08:17.236882"], ["id", 56]]
  [1m[36mTRANSACTION (44.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (122.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 56], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 323ms (Views: 3.9ms | ActiveRecord: 357.7ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (66.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (120.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (50.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (93.5ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:08:17.804880"], ["updated_at", "2025-02-19 14:08:17.804880"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (55.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (57.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 59ms (Views: 0.3ms | ActiveRecord: 57.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (40.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (53.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (36.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (87.6ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:08:18.236639"], ["updated_at", "2025-02-19 14:08:18.236639"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (39.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (47.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 51ms (Views: 0.3ms | ActiveRecord: 47.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (44.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (31.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (79.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (150.3ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:08:18.592883"], ["updated_at", "2025-02-19 14:08:18.592883"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (39.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (48.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (94.2ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 14:08:18.936648"], ["updated_at", "2025-02-19 14:08:18.936648"]]
  [1m[36mTRANSACTION (52.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:08:19 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (59.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo1OSwiZW1haWwiOiJ0ZXN0OUBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3NzY5OX0.pHTKxKlVB7BftIzs4G-5cozEV0NVgLQ9-cSlkBFPQ4w
  [1m[36mTRANSACTION (58.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (110.7ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:08:19.160442"], ["id", 59]]
  [1m[36mTRANSACTION (54.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (53.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 59], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 292ms (Views: 6.6ms | ActiveRecord: 335.8ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 14:08:19 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (54.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 59], ["LIMIT", 1]]
  [1m[36mWorker Load (51.8ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (0.6ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (98.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (135.1ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 14:08:19.733637"], ["id", 1]]
  [1m[36mTRANSACTION (49.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 531ms (Views: 2.0ms | ActiveRecord: 389.4ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (43.4ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (42.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (38.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (48.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (91.1ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:08:20.209582"], ["updated_at", "2025-02-19 14:08:20.209582"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (44.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (65.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (113.4ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 14:08:20.348671"], ["updated_at", "2025-02-19 14:08:20.348671"]]
  [1m[36mTRANSACTION (38.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (35.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (97.4ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 14:08:20.506511"], ["id", 1]]
  [1m[36mTRANSACTION (39.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:08:20 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (311.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo2MCwiZW1haWwiOiJ0ZXN0MTBAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5Nzc3MDB9.S6QWyFoWiCWWQUAdAIuXliy4lRf9MLDsop1UFJFlYqc
  [1m[36mTRANSACTION (44.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (96.8ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:08:20.968403"], ["id", 60]]
  [1m[36mTRANSACTION (46.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (56.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 60], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 532ms (Views: 6.5ms | ActiveRecord: 555.2ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 14:08:21 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
  [1m[36mManager Load (57.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  [1m[36mWorker Load (69.8ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "false"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (62.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (120.4ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", false], ["updated_at", "2025-02-19 14:08:21.493685"], ["id", 1]]
  [1m[36mTRANSACTION (65.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 499ms (Views: 0.8ms | ActiveRecord: 376.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (43.3ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (33.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (41.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (57.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Create (104.6ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:08:21.939824"], ["updated_at", "2025-02-19 14:08:21.939824"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (43.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (52.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (93.2ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 14:08:22.091747"], ["updated_at", "2025-02-19 14:08:22.091747"]]
  [1m[36mTRANSACTION (35.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (47.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (106.3ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 14:08:22.224239"], ["id", 1]]
  [1m[36mTRANSACTION (61.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 14:08:22 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (38.6ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (70.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (55.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (50.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (53.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (47.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (54.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (61.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (50.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (46.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (44.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (93.2ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (62.7ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:23:43.834929"], ["updated_at", "2025-02-19 14:23:43.834929"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (36.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (59.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (99.7ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (58.0ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:23:44.041756"], ["updated_at", "2025-02-19 14:23:44.041756"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (54.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:23:44 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (46.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo2MiwiZW1haWwiOiJ0ZXN0MUBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3ODYyNH0.fcaMwBbCnhXESR-uCtqi9-jf82Ao8UiZF9UTHV9QeHw
  [1m[36mTRANSACTION (45.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (48.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:23:44.483870"], ["id", 62]]
  [1m[36mTRANSACTION (37.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (47.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 62], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 636ms (Views: 7.1ms | ActiveRecord: 544.8ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 14:23:44 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "62"}}
  [1m[36mManager Load (62.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  [1m[36mTRANSACTION (51.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (93.7ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-19"], ["manager_id", 62], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 14:23:45.237903"], ["updated_at", "2025-02-19 14:23:45.237903"]]
  [1m[36mTRANSACTION (44.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 568ms (Views: 1.5ms | ActiveRecord: 356.1ms (3 queries, 1 cached) | GC: 19.5ms)
  [1m[36mTRANSACTION (37.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (41.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (80.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (128.1ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (62.4ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:23:45.727774"], ["updated_at", "2025-02-19 14:23:45.727774"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (48.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (43.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (86.2ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (99.2ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:23:45.937041"], ["updated_at", "2025-02-19 14:23:45.937041"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (44.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 14:23:46 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "64"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (37.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (38.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (68.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (120.3ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (53.8ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:23:46.377962"], ["updated_at", "2025-02-19 14:23:46.377962"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (53.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (57.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (138.5ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (40.2ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:23:46.637236"], ["updated_at", "2025-02-19 14:23:46.637236"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (47.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (42.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (44.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  [1m[36mGame Create (61.1ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 66], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 14:23:46.830713"], ["updated_at", "2025-02-19 14:23:46.830713"]]
  [1m[36mTRANSACTION (60.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGame Exists? (48.7ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:23:47 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (57.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo2NiwiZW1haWwiOiJ0ZXN0NUBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3ODYyN30.3UeATiblDXgNwStlMY7Q_RmWmTTln9aPDoM5-2_F2Po
  [1m[36mTRANSACTION (47.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (111.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:23:47.091757"], ["id", 66]]
  [1m[36mTRANSACTION (40.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (53.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 66], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 308ms (Views: 0.9ms | ActiveRecord: 309.7ms (3 queries, 0 cached) | GC: 1.1ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-19 14:23:47 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (60.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  [1m[36mGame Load (41.8ms)[0m  [1m[34mSELECT "games".* FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (43.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (46.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."game_id" = $1[0m  [["game_id", 1]]
  [1m[36mGame Destroy (59.3ms)[0m  [1m[31mDELETE FROM "games" WHERE "games"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (75.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for GamesController#destroy, rendering head :no_content
Completed 204 No Content in 765ms (ActiveRecord: 493.2ms (4 queries, 0 cached) | GC: 0.8ms)
  [1m[36mGame Exists? (60.4ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (78.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (45.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (45.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (102.3ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (63.0ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:23:48.541354"], ["updated_at", "2025-02-19 14:23:48.541354"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (47.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (57.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (95.6ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (65.8ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:23:48.770184"], ["updated_at", "2025-02-19 14:23:48.770184"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (38.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (45.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (44.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mGame Create (55.5ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 68], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 14:23:48.977418"], ["updated_at", "2025-02-19 14:23:48.977418"]]
  [1m[36mTRANSACTION (50.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGame Exists? (44.6ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:23:49 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (44.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo2OSwiZW1haWwiOiJ0ZXN0OEBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3ODYyOX0.3T_XJfHV9_bDyKRNpsmH5NvxyCD7uJTVmoMcuzBsQyM
  [1m[36mTRANSACTION (51.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (105.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:23:49.190074"], ["id", 69]]
  [1m[36mTRANSACTION (40.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (49.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 69], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 260ms (Views: 0.7ms | ActiveRecord: 292.7ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-19 14:23:49 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (43.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
Filter chain halted as :authorize_admin rendered or redirected
Completed 401 Unauthorized in 94ms (Views: 0.2ms | ActiveRecord: 42.9ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (45.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (31.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (47.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (92.6ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (51.1ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:23:49.750785"], ["updated_at", "2025-02-19 14:23:49.750785"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (53.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (62.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo3MCwiZW1haWwiOiJ0ZXN0QGV4YW1wbGUuY29tIiwiZXhwIjoxNzM5OTc4NjI5fQ._H8B8hwy7ADD6eFK3XOfeWJCYq-pL8vsNu1Cmpdwhzo
  [1m[36mTRANSACTION (48.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (108.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:23:49.926948"], ["id", 70]]
  [1m[36mTRANSACTION (41.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (35.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 70], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 261ms (Views: 3.8ms | ActiveRecord: 295.8ms (3 queries, 0 cached) | GC: 1.3ms)
  [1m[36mTRANSACTION (79.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (40.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (57.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (110.2ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (51.9ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:23:50.447227"], ["updated_at", "2025-02-19 14:23:50.447227"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (48.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (42.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 46ms (Views: 0.7ms | ActiveRecord: 42.8ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (47.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (29.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (56.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (98.1ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (41.2ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:23:50.888524"], ["updated_at", "2025-02-19 14:23:50.888524"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (48.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (57.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 61ms (Views: 0.3ms | ActiveRecord: 57.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (52.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (49.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (42.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (93.9ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (78.4ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:23:51.328011"], ["updated_at", "2025-02-19 14:23:51.328011"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (53.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (57.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (121.4ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 14:23:51.585681"], ["updated_at", "2025-02-19 14:23:51.585681"]]
  [1m[36mTRANSACTION (38.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:23:51 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (39.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo3MywiZW1haWwiOiJ0ZXN0OUBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3ODYzMX0.XL7Hrk-4r2BbfemZPyqKKaWNBftBnZISYW9ZoCUrOWI
  [1m[36mTRANSACTION (44.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (91.0ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:23:51.808532"], ["id", 73]]
  [1m[36mTRANSACTION (44.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (47.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 73], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 236ms (Views: 3.9ms | ActiveRecord: 266.6ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 14:23:52 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (37.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  [1m[36mWorker Load (56.8ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (0.7ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (48.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (98.8ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 14:23:52.353213"], ["id", 1]]
  [1m[36mTRANSACTION (60.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 517ms (Views: 1.7ms | ActiveRecord: 301.9ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (55.7ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (29.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (40.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (71.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (130.1ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (62.1ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:23:52.904047"], ["updated_at", "2025-02-19 14:23:52.904047"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (46.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (49.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (92.9ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 14:23:53.014334"], ["updated_at", "2025-02-19 14:23:53.014334"]]
  [1m[36mTRANSACTION (48.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (54.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (98.7ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 14:23:53.157766"], ["id", 1]]
  [1m[36mTRANSACTION (45.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:23:53 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (35.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo3NCwiZW1haWwiOiJ0ZXN0MTBAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5Nzg2MzN9.4dPsfHXwOP8W-ssdKOX8lHteO9tRZBwp-rjOeAUiW4I
  [1m[36mTRANSACTION (47.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (93.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:23:53.344481"], ["id", 74]]
  [1m[36mTRANSACTION (83.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (90.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 74], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 312ms (Views: 2.8ms | ActiveRecord: 349.8ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 14:23:53 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
  [1m[36mManager Load (40.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  [1m[36mWorker Load (45.6ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "false"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (46.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (112.0ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", false], ["updated_at", "2025-02-19 14:23:53.873474"], ["id", 1]]
  [1m[36mTRANSACTION (51.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 419ms (Views: 0.4ms | ActiveRecord: 296.8ms (4 queries, 1 cached) | GC: 0.1ms)
  [1m[36mWorker Load (49.9ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (41.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (52.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (47.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (95.1ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (50.1ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:23:54.439965"], ["updated_at", "2025-02-19 14:23:54.439965"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (38.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (58.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (109.5ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 14:23:54.530110"], ["updated_at", "2025-02-19 14:23:54.530110"]]
  [1m[36mTRANSACTION (42.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (48.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (102.6ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 14:23:54.685463"], ["id", 1]]
  [1m[36mTRANSACTION (43.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 14:23:54 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (40.0ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (63.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (54.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (42.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (49.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (44.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (46.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (56.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (51.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (46.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (50.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (108.8ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (42.7ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:09.700150"], ["updated_at", "2025-02-19 14:24:09.700150"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (44.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (45.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (108.9ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (60.2ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:09.907344"], ["updated_at", "2025-02-19 14:24:09.907344"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (51.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:24:10 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (54.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo3NiwiZW1haWwiOiJ0ZXN0MUBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3ODY1MH0.PUwgJElke_LMUV8wmZWVNQ9j9ndAKD5u_sw9ufLtCcY
  [1m[36mTRANSACTION (49.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (35.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:24:10.355323"], ["id", 76]]
  [1m[36mTRANSACTION (59.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (58.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 76], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 672ms (Views: 8.4ms | ActiveRecord: 561.2ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 14:24:10 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "76"}}
  [1m[36mManager Load (42.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 76], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 76], ["LIMIT", 1]]
  [1m[36mTRANSACTION (44.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (85.9ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-19"], ["manager_id", 76], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 14:24:11.123878"], ["updated_at", "2025-02-19 14:24:11.123878"]]
  [1m[36mTRANSACTION (53.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 543ms (Views: 2.1ms | ActiveRecord: 315.7ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (47.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (34.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (40.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (90.9ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (56.1ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:11.570610"], ["updated_at", "2025-02-19 14:24:11.570610"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (43.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (47.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (105.2ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (53.3ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:11.783681"], ["updated_at", "2025-02-19 14:24:11.783681"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (45.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 14:24:11 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "78"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (53.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (48.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (43.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (87.9ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (64.4ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:12.200920"], ["updated_at", "2025-02-19 14:24:12.200920"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (36.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (40.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (81.9ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (75.8ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:12.395127"], ["updated_at", "2025-02-19 14:24:12.395127"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (59.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (47.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (52.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  [1m[36mGame Create (54.2ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 80], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 14:24:12.646390"], ["updated_at", "2025-02-19 14:24:12.646390"]]
  [1m[36mTRANSACTION (47.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGame Exists? (46.7ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:24:12 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (28.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo4MCwiZW1haWwiOiJ0ZXN0NUBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3ODY1Mn0.jUoTbWpUggtN8Uttkp4ynK6iJNG8BcXwo6HRBikQwdY
  [1m[36mTRANSACTION (53.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (111.2ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:24:12.858663"], ["id", 80]]
  [1m[36mTRANSACTION (55.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (60.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 80], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 301ms (Views: 1.8ms | ActiveRecord: 308.9ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-19 14:24:13 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (46.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  [1m[36mGame Load (47.4ms)[0m  [1m[34mSELECT "games".* FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (46.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (61.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."game_id" = $1[0m  [["game_id", 1]]
  [1m[36mGame Destroy (56.8ms)[0m  [1m[31mDELETE FROM "games" WHERE "games"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (60.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for GamesController#destroy, rendering head :no_content
Completed 204 No Content in 793ms (ActiveRecord: 506.0ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mGame Exists? (60.8ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (42.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (44.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (77.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (131.4ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (58.8ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:14.412098"], ["updated_at", "2025-02-19 14:24:14.412098"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (48.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (72.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (121.4ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (38.9ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:14.657918"], ["updated_at", "2025-02-19 14:24:14.657918"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (53.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (47.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (47.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  [1m[36mGame Create (43.2ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 82], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 14:24:14.854741"], ["updated_at", "2025-02-19 14:24:14.854741"]]
  [1m[36mTRANSACTION (55.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGame Exists? (50.9ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:24:15 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (46.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo4MywiZW1haWwiOiJ0ZXN0OEBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3ODY1NX0.W4uEypv0Z1U19-sXvFUP3S6Vzj6DioGOqYTvkC58vag
  [1m[36mTRANSACTION (43.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (82.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:24:15.067378"], ["id", 83]]
  [1m[36mTRANSACTION (43.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (63.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 83], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.3ms | ActiveRecord: 278.4ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-19 14:24:15 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (39.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
Filter chain halted as :authorize_admin rendered or redirected
Completed 401 Unauthorized in 81ms (Views: 0.2ms | ActiveRecord: 39.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (48.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (48.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (50.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (88.1ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (53.4ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:15.641815"], ["updated_at", "2025-02-19 14:24:15.641815"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (49.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:24:15 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (44.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo4NCwiZW1haWwiOiJ0ZXN0OUBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3ODY1NX0.exwAh_OO6F7NXlBa8xFtb8Zxfh29uaipZCCDo7PVE7o
  [1m[36mTRANSACTION (54.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (103.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:24:15.806652"], ["id", 84]]
  [1m[36mTRANSACTION (55.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (64.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 84], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 281ms (Views: 4.8ms | ActiveRecord: 321.1ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/managers" for 127.0.0.1 at 2025-02-19 14:24:16 +0000
Processing by ManagersController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (66.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo4NCwiZW1haWwiOiJ0ZXN0OUBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3ODY1NX0.exwAh_OO6F7NXlBa8xFtb8Zxfh29uaipZCCDo7PVE7o
Decoded Token: [{"user_id" => 84, "email" => "test9@example.com", "exp" => 1739978655}, {"alg" => "HS256"}]
User ID from decoded token: 84
Token expiration time: 1739978655
  [1m[36mCACHE Manager Load (0.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
Current Admin: #<Manager id: 84, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:24:15.641815000 +0000", updated_at: "2025-02-19 14:24:15.806652000 +0000", last_seen: nil, mode: "light", show: true>
Current admin: #<Manager id: 84, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:24:15.641815000 +0000", updated_at: "2025-02-19 14:24:15.806652000 +0000", last_seen: nil, mode: "light", show: true>
  [1m[36mTRANSACTION (58.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (114.9ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (54.6ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", nil], ["notifications", true], ["created_at", "2025-02-19 14:24:16.427256"], ["updated_at", "2025-02-19 14:24:16.427256"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (63.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo4NCwiZW1haWwiOiJ0ZXN0OUBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3ODY1NX0.exwAh_OO6F7NXlBa8xFtb8Zxfh29uaipZCCDo7PVE7o
Decoded Token: [{"user_id" => 84, "email" => "test9@example.com", "exp" => 1739978655}, {"alg" => "HS256"}]
User ID from decoded token: 84
Token expiration time: 1739978655
Current Admin: #<Manager id: 84, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:24:15.641815000 +0000", updated_at: "2025-02-19 14:24:15.806652000 +0000", last_seen: nil, mode: "light", show: true>
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo4NCwiZW1haWwiOiJ0ZXN0OUBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3ODY1NX0.exwAh_OO6F7NXlBa8xFtb8Zxfh29uaipZCCDo7PVE7o
Decoded Token: [{"user_id" => 84, "email" => "test9@example.com", "exp" => 1739978655}, {"alg" => "HS256"}]
User ID from decoded token: 84
Token expiration time: 1739978655
Current Admin: #<Manager id: 84, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:24:15.641815000 +0000", updated_at: "2025-02-19 14:24:15.806652000 +0000", last_seen: nil, mode: "light", show: true>
Completed 201 Created in 511ms (Views: 2.2ms | ActiveRecord: 357.0ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (41.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (36.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (47.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (91.4ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (70.0ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:16.827257"], ["updated_at", "2025-02-19 14:24:16.827257"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (40.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:24:16 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (49.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo4NiwiZW1haWwiOiJ0ZXN0MTBAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5Nzg2NTZ9.fEd0ZwV8a_drYIBEN8pmshB7KUa-Z1WPE56RMQt8prU
  [1m[36mTRANSACTION (48.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (90.8ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:24:17.001132"], ["id", 86]]
  [1m[36mTRANSACTION (40.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (45.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 86], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 7.7ms | ActiveRecord: 273.8ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/managers" for 127.0.0.1 at 2025-02-19 14:24:17 +0000
Processing by ManagersController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (66.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo4NiwiZW1haWwiOiJ0ZXN0MTBAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5Nzg2NTZ9.fEd0ZwV8a_drYIBEN8pmshB7KUa-Z1WPE56RMQt8prU
Decoded Token: [{"user_id" => 86, "email" => "test10@example.com", "exp" => 1739978656}, {"alg" => "HS256"}]
User ID from decoded token: 86
Token expiration time: 1739978656
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
Current Admin: #<Manager id: 86, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:24:16.827257000 +0000", updated_at: "2025-02-19 14:24:17.001132000 +0000", last_seen: nil, mode: "light", show: true>
Current admin: #<Manager id: 86, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:24:16.827257000 +0000", updated_at: "2025-02-19 14:24:17.001132000 +0000", last_seen: nil, mode: "light", show: true>
  [1m[36mTRANSACTION (60.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (126.9ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (53.0ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", nil], ["notifications", true], ["created_at", "2025-02-19 14:24:17.552904"], ["updated_at", "2025-02-19 14:24:17.552904"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (53.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo4NiwiZW1haWwiOiJ0ZXN0MTBAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5Nzg2NTZ9.fEd0ZwV8a_drYIBEN8pmshB7KUa-Z1WPE56RMQt8prU
Decoded Token: [{"user_id" => 86, "email" => "test10@example.com", "exp" => 1739978656}, {"alg" => "HS256"}]
User ID from decoded token: 86
Token expiration time: 1739978656
Current Admin: #<Manager id: 86, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:24:16.827257000 +0000", updated_at: "2025-02-19 14:24:17.001132000 +0000", last_seen: nil, mode: "light", show: true>
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo4NiwiZW1haWwiOiJ0ZXN0MTBAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5Nzg2NTZ9.fEd0ZwV8a_drYIBEN8pmshB7KUa-Z1WPE56RMQt8prU
Decoded Token: [{"user_id" => 86, "email" => "test10@example.com", "exp" => 1739978656}, {"alg" => "HS256"}]
User ID from decoded token: 86
Token expiration time: 1739978656
Current Admin: #<Manager id: 86, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:24:16.827257000 +0000", updated_at: "2025-02-19 14:24:17.001132000 +0000", last_seen: nil, mode: "light", show: true>
Completed 201 Created in 471ms (Views: 0.9ms | ActiveRecord: 360.9ms (4 queries, 1 cached) | GC: 0.0ms)
Started POST "/api/managers" for 127.0.0.1 at 2025-02-19 14:24:17 +0000
Processing by ManagersController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (38.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo4NiwiZW1haWwiOiJ0ZXN0MTBAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5Nzg2NTZ9.fEd0ZwV8a_drYIBEN8pmshB7KUa-Z1WPE56RMQt8prU
Decoded Token: [{"user_id" => 86, "email" => "test10@example.com", "exp" => 1739978656}, {"alg" => "HS256"}]
User ID from decoded token: 86
Token expiration time: 1739978656
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
Current Admin: #<Manager id: 86, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:24:16.827257000 +0000", updated_at: "2025-02-19 14:24:17.001132000 +0000", last_seen: nil, mode: "light", show: true>
Current admin: #<Manager id: 86, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:24:16.827257000 +0000", updated_at: "2025-02-19 14:24:17.001132000 +0000", last_seen: nil, mode: "light", show: true>
  [1m[36mTRANSACTION (64.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (111.5ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (50.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Content in 438ms (Views: 73.8ms | ActiveRecord: 264.9ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (89.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (50.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (40.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (97.6ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (69.0ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:18.454128"], ["updated_at", "2025-02-19 14:24:18.454128"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (59.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (57.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo4OCwiZW1haWwiOiJ0ZXN0QGV4YW1wbGUuY29tIiwiZXhwIjoxNzM5OTc4NjU4fQ.ZHFnlUvzDhiP_Ptd41bdMoA4PJK29ifyv4fXiVa1RrI
  [1m[36mTRANSACTION (54.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (142.8ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:24:18.655329"], ["id", 88]]
  [1m[36mTRANSACTION (63.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (42.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 88], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 319ms (Views: 1.1ms | ActiveRecord: 360.0ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (36.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (41.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (34.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (100.9ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (58.9ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:19.171041"], ["updated_at", "2025-02-19 14:24:19.171041"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (51.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (49.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 51ms (Views: 0.3ms | ActiveRecord: 49.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (53.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (47.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (56.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (109.3ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (48.4ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:19.651407"], ["updated_at", "2025-02-19 14:24:19.651407"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (52.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (49.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 54ms (Views: 0.3ms | ActiveRecord: 49.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (51.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (43.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (45.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (85.5ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (47.0ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:20.091419"], ["updated_at", "2025-02-19 14:24:20.091419"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (38.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (42.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (131.2ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 14:24:20.309304"], ["updated_at", "2025-02-19 14:24:20.309304"]]
  [1m[36mTRANSACTION (33.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:24:20 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (48.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo5MSwiZW1haWwiOiJ0ZXN0MTFAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5Nzg2NjB9.Lz_1tJ5GsjN91YJ8rgwWNfJQiPs6YZA47bn93vObRL0
  [1m[36mTRANSACTION (57.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (117.6ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:24:20.537709"], ["id", 91]]
  [1m[36mTRANSACTION (58.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (51.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 91], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 289ms (Views: 0.6ms | ActiveRecord: 334.0ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 14:24:20 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (38.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 91], ["LIMIT", 1]]
  [1m[36mWorker Load (39.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (42.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (121.0ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 14:24:21.071684"], ["id", 1]]
  [1m[36mTRANSACTION (48.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 468ms (Views: 2.4ms | ActiveRecord: 289.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (64.2ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (46.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (52.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (69.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (113.1ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (64.9ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:21.961043"], ["updated_at", "2025-02-19 14:24:21.961043"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (62.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (47.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (88.5ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 14:24:22.092287"], ["updated_at", "2025-02-19 14:24:22.092287"]]
  [1m[36mTRANSACTION (43.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (58.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (110.9ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 14:24:22.226268"], ["id", 1]]
  [1m[36mTRANSACTION (47.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:24:22 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (47.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo5MiwiZW1haWwiOiJ0ZXN0MTJAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5Nzg2NjJ9.0BIyIKMq7KK8rt_Egvcg75JSvqdoFw1mn3Jfb6twXag
  [1m[36mTRANSACTION (51.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (121.2ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:24:22.449119"], ["id", 92]]
  [1m[36mTRANSACTION (64.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (45.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 92], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 293ms (Views: 0.3ms | ActiveRecord: 329.2ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 14:24:22 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
  [1m[36mManager Load (45.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 92], ["LIMIT", 1]]
  [1m[36mWorker Load (38.7ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "false"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (47.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (90.2ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", false], ["updated_at", "2025-02-19 14:24:22.974450"], ["id", 1]]
  [1m[36mTRANSACTION (57.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 437ms (Views: 0.9ms | ActiveRecord: 278.4ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (64.6ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (31.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (49.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (60.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (153.3ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (61.2ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:23.593084"], ["updated_at", "2025-02-19 14:24:23.593084"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (61.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (55.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (102.7ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 14:24:23.717381"], ["updated_at", "2025-02-19 14:24:23.717381"]]
  [1m[36mTRANSACTION (53.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (84.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (128.7ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 14:24:23.874682"], ["id", 1]]
  [1m[36mTRANSACTION (45.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 14:24:24 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (41.5ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (47.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (54.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (48.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (49.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (49.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (53.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (60.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (42.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (55.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (60.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (138.2ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (72.0ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:41.695440"], ["updated_at", "2025-02-19 14:24:41.695440"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (62.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (46.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (88.1ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (79.3ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:41.927949"], ["updated_at", "2025-02-19 14:24:41.927949"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (43.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:24:42 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (55.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo5NCwiZW1haWwiOiJ0ZXN0MUBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3ODY4Mn0.Hk_8P9pyeJNC3znOCYx0sJBLH3FpkQ1Dkl1lRwI093k
  [1m[36mTRANSACTION (44.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (67.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:24:42.405786"], ["id", 94]]
  [1m[36mTRANSACTION (43.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (48.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 94], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 706ms (Views: 7.5ms | ActiveRecord: 587.2ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 14:24:42 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "94"}}
  [1m[36mManager Load (59.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 94], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 94], ["LIMIT", 1]]
  [1m[36mTRANSACTION (50.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (99.6ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-19"], ["manager_id", 94], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 14:24:43.241633"], ["updated_at", "2025-02-19 14:24:43.241633"]]
  [1m[36mTRANSACTION (41.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 591ms (Views: 3.5ms | ActiveRecord: 346.2ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (48.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (38.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (68.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (117.4ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (43.7ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:43.679156"], ["updated_at", "2025-02-19 14:24:43.679156"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (54.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (46.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (90.1ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (44.9ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:43.875594"], ["updated_at", "2025-02-19 14:24:43.875594"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (48.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 14:24:43 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "96"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (42.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (44.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (39.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (91.0ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (51.8ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:44.250064"], ["updated_at", "2025-02-19 14:24:44.250064"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (51.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (59.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (130.5ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (41.8ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:44.496772"], ["updated_at", "2025-02-19 14:24:44.496772"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (45.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (56.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (53.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
  [1m[36mGame Create (69.2ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 98], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 14:24:44.706177"], ["updated_at", "2025-02-19 14:24:44.706177"]]
  [1m[36mTRANSACTION (46.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGame Exists? (38.8ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:24:44 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (49.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo5OCwiZW1haWwiOiJ0ZXN0NUBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3ODY4NH0.5Zmbc0dQjAPiA3PnoVKV5S3XG7e7-v0NHR7gvudSvzM
  [1m[36mTRANSACTION (46.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (94.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:24:44.944462"], ["id", 98]]
  [1m[36mTRANSACTION (83.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (60.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 98], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 335ms (Views: 1.3ms | ActiveRecord: 334.9ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-19 14:24:45 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (46.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
  [1m[36mGame Load (47.0ms)[0m  [1m[34mSELECT "games".* FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (51.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (50.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."game_id" = $1[0m  [["game_id", 1]]
  [1m[36mGame Destroy (47.3ms)[0m  [1m[31mDELETE FROM "games" WHERE "games"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (44.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for GamesController#destroy, rendering head :no_content
Completed 204 No Content in 713ms (ActiveRecord: 442.7ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mGame Exists? (55.6ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (38.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (51.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (39.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (79.4ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (36.8ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:46.340642"], ["updated_at", "2025-02-19 14:24:46.340642"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (59.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (40.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (93.2ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (59.4ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:46.549074"], ["updated_at", "2025-02-19 14:24:46.549074"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (38.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (49.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (83.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mGame Create (50.7ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 100], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 14:24:46.792453"], ["updated_at", "2025-02-19 14:24:46.792453"]]
  [1m[36mTRANSACTION (42.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGame Exists? (47.5ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:24:46 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (43.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMDEsImVtYWlsIjoidGVzdDhAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5Nzg2ODZ9.-Hz5AAAzvzp5RvOdzgUDcrrPZZgX66unixGYhpESuaQ
  [1m[36mTRANSACTION (46.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (99.6ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:24:46.992341"], ["id", 101]]
  [1m[36mTRANSACTION (35.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (53.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 101], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 277.5ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-19 14:24:47 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (42.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
Filter chain halted as :authorize_admin rendered or redirected
Completed 401 Unauthorized in 97ms (Views: 0.2ms | ActiveRecord: 42.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (34.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (40.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (55.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (108.0ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (37.2ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:47.560896"], ["updated_at", "2025-02-19 14:24:47.560896"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (48.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:24:47 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (53.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMDIsImVtYWlsIjoidGVzdDlAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5Nzg2ODd9.p0Nx76BIXU7-SFIzDJiUw5EQHjW3azo6-1q3R0b8qpo
  [1m[36mTRANSACTION (60.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (102.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:24:47.716759"], ["id", 102]]
  [1m[36mTRANSACTION (49.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (42.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 102], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 265ms (Views: 5.0ms | ActiveRecord: 308.5ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/managers" for 127.0.0.1 at 2025-02-19 14:24:47 +0000
Processing by ManagersController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (90.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 102], ["LIMIT", 1]]
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMDIsImVtYWlsIjoidGVzdDlAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5Nzg2ODd9.p0Nx76BIXU7-SFIzDJiUw5EQHjW3azo6-1q3R0b8qpo
Decoded Token: [{"user_id" => 102, "email" => "test9@example.com", "exp" => 1739978687}, {"alg" => "HS256"}]
User ID from decoded token: 102
Token expiration time: 1739978687
  [1m[36mCACHE Manager Load (0.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 102], ["LIMIT", 1]]
Current Admin: #<Manager id: 102, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:24:47.560896000 +0000", updated_at: "2025-02-19 14:24:47.716759000 +0000", last_seen: nil, mode: "light", show: true>
Current admin: #<Manager id: 102, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:24:47.560896000 +0000", updated_at: "2025-02-19 14:24:47.716759000 +0000", last_seen: nil, mode: "light", show: true>
  [1m[36mTRANSACTION (47.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (96.9ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (63.7ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", nil], ["notifications", true], ["created_at", "2025-02-19 14:24:48.273930"], ["updated_at", "2025-02-19 14:24:48.273930"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (50.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMDIsImVtYWlsIjoidGVzdDlAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5Nzg2ODd9.p0Nx76BIXU7-SFIzDJiUw5EQHjW3azo6-1q3R0b8qpo
Decoded Token: [{"user_id" => 102, "email" => "test9@example.com", "exp" => 1739978687}, {"alg" => "HS256"}]
User ID from decoded token: 102
Token expiration time: 1739978687
Current Admin: #<Manager id: 102, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:24:47.560896000 +0000", updated_at: "2025-02-19 14:24:47.716759000 +0000", last_seen: nil, mode: "light", show: true>
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMDIsImVtYWlsIjoidGVzdDlAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5Nzg2ODd9.p0Nx76BIXU7-SFIzDJiUw5EQHjW3azo6-1q3R0b8qpo
Decoded Token: [{"user_id" => 102, "email" => "test9@example.com", "exp" => 1739978687}, {"alg" => "HS256"}]
User ID from decoded token: 102
Token expiration time: 1739978687
Current Admin: #<Manager id: 102, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:24:47.560896000 +0000", updated_at: "2025-02-19 14:24:47.716759000 +0000", last_seen: nil, mode: "light", show: true>
Completed 201 Created in 470ms (Views: 1.9ms | ActiveRecord: 349.3ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (47.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (46.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (51.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (118.3ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (70.0ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:48.693839"], ["updated_at", "2025-02-19 14:24:48.693839"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (41.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:24:48 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (38.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMDQsImVtYWlsIjoidGVzdDEwQGV4YW1wbGUuY29tIiwiZXhwIjoxNzM5OTc4Njg4fQ.u0J0Ec8HUULzMywUxk6PGAhjw4XOXoyAtppXMQ91hRw
  [1m[36mTRANSACTION (46.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (84.6ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:24:48.856151"], ["id", 104]]
  [1m[36mTRANSACTION (36.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (60.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 104], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 9.5ms | ActiveRecord: 265.3ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/managers" for 127.0.0.1 at 2025-02-19 14:24:49 +0000
Processing by ManagersController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (38.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMDQsImVtYWlsIjoidGVzdDEwQGV4YW1wbGUuY29tIiwiZXhwIjoxNzM5OTc4Njg4fQ.u0J0Ec8HUULzMywUxk6PGAhjw4XOXoyAtppXMQ91hRw
Decoded Token: [{"user_id" => 104, "email" => "test10@example.com", "exp" => 1739978688}, {"alg" => "HS256"}]
User ID from decoded token: 104
Token expiration time: 1739978688
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
Current Admin: #<Manager id: 104, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:24:48.693839000 +0000", updated_at: "2025-02-19 14:24:48.856151000 +0000", last_seen: nil, mode: "light", show: true>
Current admin: #<Manager id: 104, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:24:48.693839000 +0000", updated_at: "2025-02-19 14:24:48.856151000 +0000", last_seen: nil, mode: "light", show: true>
  [1m[36mTRANSACTION (48.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (104.3ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (47.8ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", nil], ["notifications", true], ["created_at", "2025-02-19 14:24:49.319539"], ["updated_at", "2025-02-19 14:24:49.319539"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (44.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMDQsImVtYWlsIjoidGVzdDEwQGV4YW1wbGUuY29tIiwiZXhwIjoxNzM5OTc4Njg4fQ.u0J0Ec8HUULzMywUxk6PGAhjw4XOXoyAtppXMQ91hRw
Decoded Token: [{"user_id" => 104, "email" => "test10@example.com", "exp" => 1739978688}, {"alg" => "HS256"}]
User ID from decoded token: 104
Token expiration time: 1739978688
Current Admin: #<Manager id: 104, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:24:48.693839000 +0000", updated_at: "2025-02-19 14:24:48.856151000 +0000", last_seen: nil, mode: "light", show: true>
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMDQsImVtYWlsIjoidGVzdDEwQGV4YW1wbGUuY29tIiwiZXhwIjoxNzM5OTc4Njg4fQ.u0J0Ec8HUULzMywUxk6PGAhjw4XOXoyAtppXMQ91hRw
Decoded Token: [{"user_id" => 104, "email" => "test10@example.com", "exp" => 1739978688}, {"alg" => "HS256"}]
User ID from decoded token: 104
Token expiration time: 1739978688
Current Admin: #<Manager id: 104, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:24:48.693839000 +0000", updated_at: "2025-02-19 14:24:48.856151000 +0000", last_seen: nil, mode: "light", show: true>
Completed 201 Created in 363ms (Views: 0.8ms | ActiveRecord: 283.6ms (4 queries, 1 cached) | GC: 0.0ms)
Started POST "/api/managers" for 127.0.0.1 at 2025-02-19 14:24:49 +0000
Processing by ManagersController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (63.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMDQsImVtYWlsIjoidGVzdDEwQGV4YW1wbGUuY29tIiwiZXhwIjoxNzM5OTc4Njg4fQ.u0J0Ec8HUULzMywUxk6PGAhjw4XOXoyAtppXMQ91hRw
Decoded Token: [{"user_id" => 104, "email" => "test10@example.com", "exp" => 1739978688}, {"alg" => "HS256"}]
User ID from decoded token: 104
Token expiration time: 1739978688
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
Current Admin: #<Manager id: 104, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:24:48.693839000 +0000", updated_at: "2025-02-19 14:24:48.856151000 +0000", last_seen: nil, mode: "light", show: true>
Current admin: #<Manager id: 104, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:24:48.693839000 +0000", updated_at: "2025-02-19 14:24:48.856151000 +0000", last_seen: nil, mode: "light", show: true>
  [1m[36mTRANSACTION (43.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (84.5ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (49.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Content in 432ms (Views: 78.1ms | ActiveRecord: 241.0ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (45.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (37.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (50.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (100.3ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (54.4ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:50.138162"], ["updated_at", "2025-02-19 14:24:50.138162"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (36.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (47.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMDYsImVtYWlsIjoidGVzdEBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3ODY5MH0.kYqq9BNBeYoeuux2f36xirid_lGw7lEpGqrOTOmU4jg
  [1m[36mTRANSACTION (56.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (125.2ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:24:50.287164"], ["id", 106]]
  [1m[36mTRANSACTION (63.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (38.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 106], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 288ms (Views: 0.7ms | ActiveRecord: 331.4ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (79.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (66.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (41.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (97.4ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (54.5ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:50.888833"], ["updated_at", "2025-02-19 14:24:50.888833"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (44.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (53.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 54ms (Views: 0.1ms | ActiveRecord: 53.7ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (45.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (45.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (51.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (111.5ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (58.4ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:51.340439"], ["updated_at", "2025-02-19 14:24:51.340439"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (52.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (42.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 48ms (Views: 0.3ms | ActiveRecord: 42.6ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (46.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (35.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (50.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (104.3ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (54.2ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:51.781909"], ["updated_at", "2025-02-19 14:24:51.781909"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (82.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (53.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (114.5ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 14:24:52.090693"], ["updated_at", "2025-02-19 14:24:52.090693"]]
  [1m[36mTRANSACTION (47.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:24:52 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (43.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMDksImVtYWlsIjoidGVzdDExQGV4YW1wbGUuY29tIiwiZXhwIjoxNzM5OTc4NjkyfQ.22-TPO46B5JkdBVnyFz8qVnzy654h8-X6-JdJNMiOfY
  [1m[36mTRANSACTION (48.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (102.4ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:24:52.313008"], ["id", 109]]
  [1m[36mTRANSACTION (57.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (46.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 109], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 260ms (Views: 0.7ms | ActiveRecord: 298.2ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 14:24:52 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (36.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  [1m[36mWorker Load (73.7ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (56.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (116.8ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 14:24:52.893966"], ["id", 1]]
  [1m[36mTRANSACTION (56.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 542ms (Views: 2.3ms | ActiveRecord: 339.3ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (61.3ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (45.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (39.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (44.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (96.9ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (60.5ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:53.468957"], ["updated_at", "2025-02-19 14:24:53.468957"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (30.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (51.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (113.6ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 14:24:53.562378"], ["updated_at", "2025-02-19 14:24:53.562378"]]
  [1m[36mTRANSACTION (41.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (50.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (91.8ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 14:24:53.720161"], ["id", 1]]
  [1m[36mTRANSACTION (48.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:24:53 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (47.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMTAsImVtYWlsIjoidGVzdDEyQGV4YW1wbGUuY29tIiwiZXhwIjoxNzM5OTc4NjkzfQ.KVIpHdBSag_S3YaPkYbBxp2P6p0MHcWGlzNaJcONzhw
  [1m[36mTRANSACTION (55.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (100.5ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:24:53.921237"], ["id", 110]]
  [1m[36mTRANSACTION (37.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (41.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 110], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.6ms | ActiveRecord: 283.0ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 14:24:54 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
  [1m[36mManager Load (66.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 110], ["LIMIT", 1]]
  [1m[36mWorker Load (40.1ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "false"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (62.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (108.7ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", false], ["updated_at", "2025-02-19 14:24:54.440780"], ["id", 1]]
  [1m[36mTRANSACTION (50.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 491ms (Views: 1.2ms | ActiveRecord: 328.1ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (45.7ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (43.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (36.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (65.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (160.1ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (48.0ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:24:55.046759"], ["updated_at", "2025-02-19 14:24:55.046759"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (65.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (52.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (102.9ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 14:24:55.162267"], ["updated_at", "2025-02-19 14:24:55.162267"]]
  [1m[36mTRANSACTION (58.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (45.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (82.7ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 14:24:55.325885"], ["id", 1]]
  [1m[36mTRANSACTION (48.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 14:24:55 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (45.8ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (61.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (68.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (61.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (63.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (64.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (52.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (53.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (36.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (38.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (42.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (95.1ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (51.9ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:25:13.323904"], ["updated_at", "2025-02-19 14:25:13.323904"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (39.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (45.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (105.0ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (67.7ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:25:13.526017"], ["updated_at", "2025-02-19 14:25:13.526017"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (44.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:25:13 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (51.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMTIsImVtYWlsIjoidGVzdDFAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5Nzg3MTN9.meLMs5JoUTkOA6yQZZz8Czn_TKVTXfTHZNmCa67KJ4M
  [1m[36mTRANSACTION (39.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (48.0ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:25:13.971774"], ["id", 112]]
  [1m[36mTRANSACTION (46.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (34.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 112], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 603ms (Views: 6.8ms | ActiveRecord: 497.9ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 14:25:14 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "112"}}
  [1m[36mManager Load (53.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 112], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 112], ["LIMIT", 1]]
  [1m[36mTRANSACTION (48.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (100.9ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-19"], ["manager_id", 112], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 14:25:14.754415"], ["updated_at", "2025-02-19 14:25:14.754415"]]
  [1m[36mTRANSACTION (45.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 625ms (Views: 3.2ms | ActiveRecord: 374.9ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (47.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (41.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (46.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (88.6ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (40.0ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:25:15.203274"], ["updated_at", "2025-02-19 14:25:15.203274"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (42.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (64.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (111.9ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (64.2ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:25:15.405971"], ["updated_at", "2025-02-19 14:25:15.405971"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (54.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-19 14:25:15 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-19", "manager_id" => "114"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (47.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (39.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (46.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (92.1ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (57.7ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:25:15.824150"], ["updated_at", "2025-02-19 14:25:15.824150"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (56.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (47.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (89.7ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (55.1ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:25:16.038474"], ["updated_at", "2025-02-19 14:25:16.038474"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (48.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (54.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (38.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 116], ["LIMIT", 1]]
  [1m[36mGame Create (49.3ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 116], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 14:25:16.253421"], ["updated_at", "2025-02-19 14:25:16.253421"]]
  [1m[36mTRANSACTION (59.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGame Exists? (72.8ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:25:16 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (48.7ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMTYsImVtYWlsIjoidGVzdDVAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5Nzg3MTZ9.Une6v8bqkv72Dr1UqeqqvET2HHA_sVjOz01xhBEFxHs
  [1m[36mTRANSACTION (53.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (119.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:25:16.513639"], ["id", 116]]
  [1m[36mTRANSACTION (49.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (48.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 116], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 309ms (Views: 1.6ms | ActiveRecord: 319.0ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-19 14:25:16 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (39.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 116], ["LIMIT", 1]]
  [1m[36mGame Load (49.8ms)[0m  [1m[34mSELECT "games".* FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (40.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (45.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."game_id" = $1[0m  [["game_id", 1]]
  [1m[36mGame Destroy (69.7ms)[0m  [1m[31mDELETE FROM "games" WHERE "games"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (52.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for GamesController#destroy, rendering head :no_content
Completed 204 No Content in 698ms (ActiveRecord: 433.9ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mGame Exists? (41.8ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (31.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (47.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (50.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (99.7ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (71.5ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:25:17.854848"], ["updated_at", "2025-02-19 14:25:17.854848"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (38.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (36.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (97.0ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (43.8ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:25:18.082466"], ["updated_at", "2025-02-19 14:25:18.082466"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (52.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (38.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (46.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 118], ["LIMIT", 1]]
  [1m[36mGame Create (57.5ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 118], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-19 14:25:18.276430"], ["updated_at", "2025-02-19 14:25:18.276430"]]
  [1m[36mTRANSACTION (61.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGame Exists? (42.0ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:25:18 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (53.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMTksImVtYWlsIjoidGVzdDhAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5Nzg3MTh9.6GrfrtngCzL8ByPR6OAr8T5i52H-xGDahe79VPLdprE
  [1m[36mTRANSACTION (49.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (101.2ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:25:18.505029"], ["id", 119]]
  [1m[36mTRANSACTION (54.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (57.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 119], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 282ms (Views: 0.8ms | ActiveRecord: 315.2ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-19 14:25:18 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (54.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 119], ["LIMIT", 1]]
Filter chain halted as :authorize_admin rendered or redirected
Completed 401 Unauthorized in 114ms (Views: 0.2ms | ActiveRecord: 54.9ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (43.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (39.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (57.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (110.9ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (60.2ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:25:19.139186"], ["updated_at", "2025-02-19 14:25:19.139186"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (42.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:25:19 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (44.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMjAsImVtYWlsIjoidGVzdDlAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5Nzg3MTl9.z0HIorrWAHPbBJ41G_-Fmvj1Gloo5drLRo7WFhqSPUw
  [1m[36mTRANSACTION (80.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (120.7ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:25:19.305961"], ["id", 120]]
  [1m[36mTRANSACTION (38.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (48.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 120], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 270ms (Views: 5.3ms | ActiveRecord: 332.1ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/managers" for 127.0.0.1 at 2025-02-19 14:25:19 +0000
Processing by ManagersController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (40.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMjAsImVtYWlsIjoidGVzdDlAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5Nzg3MTl9.z0HIorrWAHPbBJ41G_-Fmvj1Gloo5drLRo7WFhqSPUw
Decoded Token: [{"user_id" => 120, "email" => "test9@example.com", "exp" => 1739978719}, {"alg" => "HS256"}]
User ID from decoded token: 120
Token expiration time: 1739978719
  [1m[36mCACHE Manager Load (0.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
Current Admin: #<Manager id: 120, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:25:19.139186000 +0000", updated_at: "2025-02-19 14:25:19.305961000 +0000", last_seen: nil, mode: "light", show: true>
Current admin: #<Manager id: 120, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:25:19.139186000 +0000", updated_at: "2025-02-19 14:25:19.305961000 +0000", last_seen: nil, mode: "light", show: true>
  [1m[36mTRANSACTION (52.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (93.3ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (84.2ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", nil], ["notifications", true], ["created_at", "2025-02-19 14:25:19.852650"], ["updated_at", "2025-02-19 14:25:19.852650"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (45.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMjAsImVtYWlsIjoidGVzdDlAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5Nzg3MTl9.z0HIorrWAHPbBJ41G_-Fmvj1Gloo5drLRo7WFhqSPUw
Decoded Token: [{"user_id" => 120, "email" => "test9@example.com", "exp" => 1739978719}, {"alg" => "HS256"}]
User ID from decoded token: 120
Token expiration time: 1739978719
Current Admin: #<Manager id: 120, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:25:19.139186000 +0000", updated_at: "2025-02-19 14:25:19.305961000 +0000", last_seen: nil, mode: "light", show: true>
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMjAsImVtYWlsIjoidGVzdDlAZXhhbXBsZS5jb20iLCJleHAiOjE3Mzk5Nzg3MTl9.z0HIorrWAHPbBJ41G_-Fmvj1Gloo5drLRo7WFhqSPUw
Decoded Token: [{"user_id" => 120, "email" => "test9@example.com", "exp" => 1739978719}, {"alg" => "HS256"}]
User ID from decoded token: 120
Token expiration time: 1739978719
Current Admin: #<Manager id: 120, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:25:19.139186000 +0000", updated_at: "2025-02-19 14:25:19.305961000 +0000", last_seen: nil, mode: "light", show: true>
Completed 201 Created in 466ms (Views: 1.6ms | ActiveRecord: 316.1ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (36.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (29.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (46.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (93.6ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (43.7ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:25:20.276028"], ["updated_at", "2025-02-19 14:25:20.276028"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (35.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:25:20 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (38.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMjIsImVtYWlsIjoidGVzdDEwQGV4YW1wbGUuY29tIiwiZXhwIjoxNzM5OTc4NzIwfQ.KBcS5kuiKTtkOkvZnlCqc5IVXtef1tRT0Drw34OZ33Y
  [1m[36mTRANSACTION (38.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (96.0ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:25:20.404343"], ["id", 122]]
  [1m[36mTRANSACTION (42.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (46.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 122], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 8.1ms | ActiveRecord: 261.7ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/managers" for 127.0.0.1 at 2025-02-19 14:25:20 +0000
Processing by ManagersController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (40.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 122], ["LIMIT", 1]]
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMjIsImVtYWlsIjoidGVzdDEwQGV4YW1wbGUuY29tIiwiZXhwIjoxNzM5OTc4NzIwfQ.KBcS5kuiKTtkOkvZnlCqc5IVXtef1tRT0Drw34OZ33Y
Decoded Token: [{"user_id" => 122, "email" => "test10@example.com", "exp" => 1739978720}, {"alg" => "HS256"}]
User ID from decoded token: 122
Token expiration time: 1739978720
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 122], ["LIMIT", 1]]
Current Admin: #<Manager id: 122, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:25:20.276028000 +0000", updated_at: "2025-02-19 14:25:20.404343000 +0000", last_seen: nil, mode: "light", show: true>
Current admin: #<Manager id: 122, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:25:20.276028000 +0000", updated_at: "2025-02-19 14:25:20.404343000 +0000", last_seen: nil, mode: "light", show: true>
  [1m[36mTRANSACTION (49.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (87.7ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (43.3ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", nil], ["notifications", true], ["created_at", "2025-02-19 14:25:20.909175"], ["updated_at", "2025-02-19 14:25:20.909175"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (45.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMjIsImVtYWlsIjoidGVzdDEwQGV4YW1wbGUuY29tIiwiZXhwIjoxNzM5OTc4NzIwfQ.KBcS5kuiKTtkOkvZnlCqc5IVXtef1tRT0Drw34OZ33Y
Decoded Token: [{"user_id" => 122, "email" => "test10@example.com", "exp" => 1739978720}, {"alg" => "HS256"}]
User ID from decoded token: 122
Token expiration time: 1739978720
Current Admin: #<Manager id: 122, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:25:20.276028000 +0000", updated_at: "2025-02-19 14:25:20.404343000 +0000", last_seen: nil, mode: "light", show: true>
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMjIsImVtYWlsIjoidGVzdDEwQGV4YW1wbGUuY29tIiwiZXhwIjoxNzM5OTc4NzIwfQ.KBcS5kuiKTtkOkvZnlCqc5IVXtef1tRT0Drw34OZ33Y
Decoded Token: [{"user_id" => 122, "email" => "test10@example.com", "exp" => 1739978720}, {"alg" => "HS256"}]
User ID from decoded token: 122
Token expiration time: 1739978720
Current Admin: #<Manager id: 122, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-19 14:25:20.276028000 +0000", updated_at: "2025-02-19 14:25:20.404343000 +0000", last_seen: nil, mode: "light", show: true>
Completed 201 Created in 398ms (Views: 0.9ms | ActiveRecord: 266.7ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (47.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (93.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (50.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (93.8ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (52.2ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:25:21.360415"], ["updated_at", "2025-02-19 14:25:21.360415"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (48.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (42.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMjQsImVtYWlsIjoidGVzdEBleGFtcGxlLmNvbSIsImV4cCI6MTczOTk3ODcyMX0.J-Cfj8UkF_o4nwgDBankewdpXPGn3sT8D3dvKLoV6l8
  [1m[36mTRANSACTION (49.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (98.0ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:25:21.516779"], ["id", 124]]
  [1m[36mTRANSACTION (43.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (66.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 124], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 265ms (Views: 0.8ms | ActiveRecord: 299.3ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (50.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (34.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (46.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (101.5ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (39.8ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:25:22.029671"], ["updated_at", "2025-02-19 14:25:22.029671"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (58.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (40.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 42ms (Views: 0.3ms | ActiveRecord: 40.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (45.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (40.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (43.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (97.8ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (60.2ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:25:22.489881"], ["updated_at", "2025-02-19 14:25:22.489881"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (45.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (67.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 70ms (Views: 0.3ms | ActiveRecord: 67.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (49.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (57.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (38.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (78.7ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (51.5ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:25:22.962508"], ["updated_at", "2025-02-19 14:25:22.962508"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (35.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (59.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (114.9ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 14:25:23.198409"], ["updated_at", "2025-02-19 14:25:23.198409"]]
  [1m[36mTRANSACTION (47.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:25:23 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (42.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMjcsImVtYWlsIjoidGVzdDExQGV4YW1wbGUuY29tIiwiZXhwIjoxNzM5OTc4NzIzfQ.7mUNL_Vl4YhzXDYTa16t7htVXiSLSXLWws3iOXW5p0I
  [1m[36mTRANSACTION (41.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (90.6ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:25:23.420193"], ["id", 127]]
  [1m[36mTRANSACTION (37.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (58.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 127], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.3ms | ActiveRecord: 270.0ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 14:25:23 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (59.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  [1m[36mWorker Load (84.4ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (37.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (77.2ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 14:25:24.026868"], ["id", 1]]
  [1m[36mTRANSACTION (45.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 537ms (Views: 0.6ms | ActiveRecord: 303.3ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (38.8ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (38.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (41.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (44.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (84.2ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (43.2ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:25:24.489046"], ["updated_at", "2025-02-19 14:25:24.489046"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (57.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (49.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (113.3ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 14:25:24.594015"], ["updated_at", "2025-02-19 14:25:24.594015"]]
  [1m[36mTRANSACTION (41.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (38.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (85.5ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 14:25:24.752662"], ["id", 1]]
  [1m[36mTRANSACTION (46.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-19 14:25:24 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (48.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMjgsImVtYWlsIjoidGVzdDEyQGV4YW1wbGUuY29tIiwiZXhwIjoxNzM5OTc4NzI0fQ.pY5G5vMvQzqQYRv-tGS69n65AqZwj4TS1I4sdbP6ioc
  [1m[36mTRANSACTION (47.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (129.7ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-19 14:25:24.941552"], ["id", 128]]
  [1m[36mTRANSACTION (64.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (50.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 128], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 301ms (Views: 0.2ms | ActiveRecord: 340.1ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 14:25:25 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
  [1m[36mManager Load (38.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 128], ["LIMIT", 1]]
  [1m[36mWorker Load (45.6ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "false"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (44.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (103.0ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", false], ["updated_at", "2025-02-19 14:25:25.436574"], ["id", 1]]
  [1m[36mTRANSACTION (45.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 399ms (Views: 0.9ms | ActiveRecord: 276.5ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (43.4ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (44.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (78.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (57.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (113.8ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (68.5ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-19 14:25:26.013712"], ["updated_at", "2025-02-19 14:25:26.013712"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (38.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (41.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (94.6ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-19 14:25:26.123108"], ["updated_at", "2025-02-19 14:25:26.123108"]]
  [1m[36mTRANSACTION (55.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (51.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (93.0ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-19 14:25:26.274280"], ["id", 1]]
  [1m[36mTRANSACTION (59.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-19 14:25:26 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (35.7ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mEMAIL[0m, [36mPASS[0m, [36mSESSION_KEY[0m, [36mSUPABASE_HOST[0m, [36mSUPABASE_USERNAME[0m, [36mSUPABASE_PASSWORD[0m, [36mSUPABASE_DATABASE[0m, [36mSECRET_KEY_BASE[0m, [36mWEBSITE_URL[0m, and [36mNOT_SURE[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (14.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (12.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (13.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (10.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (10.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (12.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (16.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (24.5ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (24.6ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-24 23:46:48.145620"], ["updated_at", "2025-02-24 23:46:48.145620"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (22.9ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (13.1ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-24 23:46:48.208120"], ["updated_at", "2025-02-24 23:46:48.208120"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-24 23:46:48 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMzAsImVtYWlsIjoidGVzdDFAZXhhbXBsZS5jb20iLCJleHAiOjE3NDA0NDQ0MDh9.p3ATDFMn4hryaH1gtGzuKmOr0mU4BoL_k5VhgHya0ys
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (14.3ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-24 23:46:48.341548"], ["id", 130]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 130], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 167ms (Views: 1.8ms | ActiveRecord: 136.3ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/games" for 127.0.0.1 at 2025-02-24 23:46:48 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-24", "manager_id" => "130"}}
  [1m[36mManager Load (11.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGame Create (33.5ms)[0m  [1m[32mINSERT INTO "games" ("name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Test Game"], ["date", "2025-02-24"], ["manager_id", 130], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-24 23:46:48.568751"], ["updated_at", "2025-02-24 23:46:48.568751"]]
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 187ms (Views: 1.0ms | ActiveRecord: 94.5ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (23.1ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (12.0ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-24 23:46:48.695193"], ["updated_at", "2025-02-24 23:46:48.695193"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (23.4ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (11.6ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-24 23:46:48.746722"], ["updated_at", "2025-02-24 23:46:48.746722"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/games" for 127.0.0.1 at 2025-02-24 23:46:48 +0000
Processing by GamesController#create as HTML
  Parameters: {"game" => {"name" => "Test Game", "date" => "2025-02-24", "manager_id" => "132"}}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (24.8ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (12.0ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-24 23:46:48.858397"], ["updated_at", "2025-02-24 23:46:48.858397"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (23.4ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (13.0ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-24 23:46:48.921984"], ["updated_at", "2025-02-24 23:46:48.921984"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (18.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (10.8ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  [1m[36mGame Create (11.8ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 134], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-24 23:46:48.979252"], ["updated_at", "2025-02-24 23:46:48.979252"]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGame Exists? (11.1ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2025-02-24 23:46:49 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMzQsImVtYWlsIjoidGVzdDVAZXhhbXBsZS5jb20iLCJleHAiOjE3NDA0NDQ0MDl9.FaC-KtFBhonRkSLfWOS_A2uXOWiN7VYjBg-GIo1dmGI
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (26.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-24 23:46:49.037487"], ["id", 134]]
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (15.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 134], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 89ms (Views: 0.8ms | ActiveRecord: 76.5ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-24 23:46:49 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (11.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  [1m[36mGame Load (11.9ms)[0m  [1m[34mSELECT "games".* FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCart Load (15.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."game_id" = $1[0m  [["game_id", 1]]
  [1m[36mGame Destroy (11.4ms)[0m  [1m[31mDELETE FROM "games" WHERE "games"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for GamesController#destroy, rendering head :no_content
Completed 204 No Content in 187ms (ActiveRecord: 113.8ms (4 queries, 0 cached) | GC: 0.2ms)
  [1m[36mGame Exists? (11.3ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (14.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (23.0ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (11.3ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-24 23:46:49.416997"], ["updated_at", "2025-02-24 23:46:49.416997"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (13.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (26.4ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (11.6ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "viewer"], ["online", false], ["notifications", true], ["created_at", "2025-02-24 23:46:49.478361"], ["updated_at", "2025-02-24 23:46:49.478361"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Load (12.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 136], ["LIMIT", 1]]
  [1m[36mGame Create (11.5ms)[0m  [1m[32mINSERT INTO "games" ("id", "name", "date", "manager_id", "complete_status", "fixture_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["id", 1], ["name", "Test Game"], ["date", "2021-12-25"], ["manager_id", 136], ["complete_status", false], ["fixture_id", nil], ["created_at", "2025-02-24 23:46:49.532899"], ["updated_at", "2025-02-24 23:46:49.532899"]]
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mGame Exists? (13.2ms)[0m  [1m[34mSELECT 1 AS one FROM "games" WHERE "games"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2025-02-24 23:46:49 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMzcsImVtYWlsIjoidGVzdDhAZXhhbXBsZS5jb20iLCJleHAiOjE3NDA0NDQ0MDl9.69KWV0KHtebA_RcJ8w9-hpEN5QUPCLy3rD5FEWDUHDQ
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.8ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-24 23:46:49.595505"], ["id", 137]]
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 137], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 69ms (Views: 0.5ms | ActiveRecord: 68.2ms (3 queries, 0 cached) | GC: 0.0ms)
Started DELETE "/api/games/1" for 127.0.0.1 at 2025-02-24 23:46:49 +0000
Processing by GamesController#destroy as HTML
  Parameters: {"id" => "1"}
  [1m[36mManager Load (14.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
Filter chain halted as :authorize_admin rendered or redirected
Completed 401 Unauthorized in 29ms (Views: 0.2ms | ActiveRecord: 14.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (13.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (23.3ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (11.6ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-24 23:46:49.763382"], ["updated_at", "2025-02-24 23:46:49.763382"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-24 23:46:49 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMzgsImVtYWlsIjoidGVzdDlAZXhhbXBsZS5jb20iLCJleHAiOjE3NDA0NDQ0MDl9.UzSFXEXZueswOEqUbId_ucUGo4D5S_syPgBtnY-3jM0
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (22.2ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-24 23:46:49.812576"], ["id", 138]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 138], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 68ms (Views: 3.2ms | ActiveRecord: 66.1ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/managers" for 127.0.0.1 at 2025-02-24 23:46:49 +0000
Processing by ManagersController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 138], ["LIMIT", 1]]
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMzgsImVtYWlsIjoidGVzdDlAZXhhbXBsZS5jb20iLCJleHAiOjE3NDA0NDQ0MDl9.UzSFXEXZueswOEqUbId_ucUGo4D5S_syPgBtnY-3jM0
Decoded Token: [{"user_id" => 138, "email" => "test9@example.com", "exp" => 1740444409}, {"alg" => "HS256"}]
User ID from decoded token: 138
Token expiration time: 1740444409
  [1m[36mCACHE Manager Load (0.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 138], ["LIMIT", 1]]
Current Admin: #<Manager id: 138, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-24 23:46:49.763382000 +0000", updated_at: "2025-02-24 23:46:49.812576000 +0000", last_seen: nil, mode: "light", show: true>
Current admin: #<Manager id: 138, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-24 23:46:49.763382000 +0000", updated_at: "2025-02-24 23:46:49.812576000 +0000", last_seen: nil, mode: "light", show: true>
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (22.4ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (12.2ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", nil], ["notifications", true], ["created_at", "2025-02-24 23:46:49.948062"], ["updated_at", "2025-02-24 23:46:49.948062"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMzgsImVtYWlsIjoidGVzdDlAZXhhbXBsZS5jb20iLCJleHAiOjE3NDA0NDQ0MDl9.UzSFXEXZueswOEqUbId_ucUGo4D5S_syPgBtnY-3jM0
Decoded Token: [{"user_id" => 138, "email" => "test9@example.com", "exp" => 1740444409}, {"alg" => "HS256"}]
User ID from decoded token: 138
Token expiration time: 1740444409
Current Admin: #<Manager id: 138, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-24 23:46:49.763382000 +0000", updated_at: "2025-02-24 23:46:49.812576000 +0000", last_seen: nil, mode: "light", show: true>
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxMzgsImVtYWlsIjoidGVzdDlAZXhhbXBsZS5jb20iLCJleHAiOjE3NDA0NDQ0MDl9.UzSFXEXZueswOEqUbId_ucUGo4D5S_syPgBtnY-3jM0
Decoded Token: [{"user_id" => 138, "email" => "test9@example.com", "exp" => 1740444409}, {"alg" => "HS256"}]
User ID from decoded token: 138
Token expiration time: 1740444409
Current Admin: #<Manager id: 138, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-24 23:46:49.763382000 +0000", updated_at: "2025-02-24 23:46:49.812576000 +0000", last_seen: nil, mode: "light", show: true>
Completed 201 Created in 107ms (Views: 1.9ms | ActiveRecord: 68.8ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (28.7ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (15.6ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-24 23:46:50.064527"], ["updated_at", "2025-02-24 23:46:50.064527"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-24 23:46:50 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxNDAsImVtYWlsIjoidGVzdDEwQGV4YW1wbGUuY29tIiwiZXhwIjoxNzQwNDQ0NDEwfQ.21TaccWwHoXDnbJAtEo3TckLFKL_jx1Kazy5io8a7ek
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-24 23:46:50.110341"], ["id", 140]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (14.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 140], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 79ms (Views: 8.0ms | ActiveRecord: 71.8ms (3 queries, 0 cached) | GC: 0.0ms)
Started POST "/api/managers" for 127.0.0.1 at 2025-02-24 23:46:50 +0000
Processing by ManagersController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 140], ["LIMIT", 1]]
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxNDAsImVtYWlsIjoidGVzdDEwQGV4YW1wbGUuY29tIiwiZXhwIjoxNzQwNDQ0NDEwfQ.21TaccWwHoXDnbJAtEo3TckLFKL_jx1Kazy5io8a7ek
Decoded Token: [{"user_id" => 140, "email" => "test10@example.com", "exp" => 1740444410}, {"alg" => "HS256"}]
User ID from decoded token: 140
Token expiration time: 1740444410
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 140], ["LIMIT", 1]]
Current Admin: #<Manager id: 140, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-24 23:46:50.064527000 +0000", updated_at: "2025-02-24 23:46:50.110341000 +0000", last_seen: nil, mode: "light", show: true>
Current admin: #<Manager id: 140, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-24 23:46:50.064527000 +0000", updated_at: "2025-02-24 23:46:50.110341000 +0000", last_seen: nil, mode: "light", show: true>
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (23.8ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (11.7ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", nil], ["online", nil], ["notifications", true], ["created_at", "2025-02-24 23:46:50.254434"], ["updated_at", "2025-02-24 23:46:50.254434"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxNDAsImVtYWlsIjoidGVzdDEwQGV4YW1wbGUuY29tIiwiZXhwIjoxNzQwNDQ0NDEwfQ.21TaccWwHoXDnbJAtEo3TckLFKL_jx1Kazy5io8a7ek
Decoded Token: [{"user_id" => 140, "email" => "test10@example.com", "exp" => 1740444410}, {"alg" => "HS256"}]
User ID from decoded token: 140
Token expiration time: 1740444410
Current Admin: #<Manager id: 140, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-24 23:46:50.064527000 +0000", updated_at: "2025-02-24 23:46:50.110341000 +0000", last_seen: nil, mode: "light", show: true>
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxNDAsImVtYWlsIjoidGVzdDEwQGV4YW1wbGUuY29tIiwiZXhwIjoxNzQwNDQ0NDEwfQ.21TaccWwHoXDnbJAtEo3TckLFKL_jx1Kazy5io8a7ek
Decoded Token: [{"user_id" => 140, "email" => "test10@example.com", "exp" => 1740444410}, {"alg" => "HS256"}]
User ID from decoded token: 140
Token expiration time: 1740444410
Current Admin: #<Manager id: 140, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-24 23:46:50.064527000 +0000", updated_at: "2025-02-24 23:46:50.110341000 +0000", last_seen: nil, mode: "light", show: true>
Completed 201 Created in 106ms (Views: 0.6ms | ActiveRecord: 69.1ms (4 queries, 1 cached) | GC: 3.5ms)
Started POST "/api/managers" for 127.0.0.1 at 2025-02-24 23:46:50 +0000
Processing by ManagersController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (12.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 140], ["LIMIT", 1]]
Token from cookies: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxNDAsImVtYWlsIjoidGVzdDEwQGV4YW1wbGUuY29tIiwiZXhwIjoxNzQwNDQ0NDEwfQ.21TaccWwHoXDnbJAtEo3TckLFKL_jx1Kazy5io8a7ek
Decoded Token: [{"user_id" => 140, "email" => "test10@example.com", "exp" => 1740444410}, {"alg" => "HS256"}]
User ID from decoded token: 140
Token expiration time: 1740444410
  [1m[36mCACHE Manager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 140], ["LIMIT", 1]]
Current Admin: #<Manager id: 140, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-24 23:46:50.064527000 +0000", updated_at: "2025-02-24 23:46:50.110341000 +0000", last_seen: nil, mode: "light", show: true>
Current admin: #<Manager id: 140, name: nil, email: [FILTERED], password_digest: [FILTERED], phone_number: nil, last_name: nil, access: nil, role: "admin", online: true, notifications: true, created_at: "2025-02-24 23:46:50.064527000 +0000", updated_at: "2025-02-24 23:46:50.110341000 +0000", last_seen: nil, mode: "light", show: true>
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (22.7ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Content in 222ms (Views: 114.5ms | ActiveRecord: 57.7ms (3 queries, 1 cached) | GC: 32.1ms)
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (22.9ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (11.4ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-24 23:46:50.608295"], ["updated_at", "2025-02-24 23:46:50.608295"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.9ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxNDIsImVtYWlsIjoidGVzdEBleGFtcGxlLmNvbSIsImV4cCI6MTc0MDQ0NDQxMH0.1KM7cGOqtFqTA47bzdXWVVuSXZE5SMa9b5xcM6Onv5c
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (23.1ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-24 23:46:50.646823"], ["id", 142]]
  [1m[36mTRANSACTION (13.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (11.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 142], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 63ms (Views: 0.4ms | ActiveRecord: 70.3ms (3 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (23.5ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (12.2ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-24 23:46:50.772546"], ["updated_at", "2025-02-24 23:46:50.772546"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 422 Unprocessable Content in 12ms (Views: 0.2ms | ActiveRecord: 11.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (16.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (22.9ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (11.6ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-24 23:46:50.894605"], ["updated_at", "2025-02-24 23:46:50.894605"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Completed 401 Unauthorized in 13ms (Views: 0.2ms | ActiveRecord: 10.6ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (26.6ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (11.8ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-24 23:46:51.016850"], ["updated_at", "2025-02-24 23:46:51.016850"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (27.3ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-24 23:46:51.094310"], ["updated_at", "2025-02-24 23:46:51.094310"]]
  [1m[36mTRANSACTION (13.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-24 23:46:51 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (10.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxNDUsImVtYWlsIjoidGVzdDExQGV4YW1wbGUuY29tIiwiZXhwIjoxNzQwNDQ0NDExfQ.NNidoqmWEJWXo8_3z9WKbQANnoTXUQEDB9piFqIF57Q
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (22.9ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-24 23:46:51.157696"], ["id", 145]]
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 145], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 62ms (Views: 0.7ms | ActiveRecord: 65.3ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-24 23:46:51 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "true"}, "id" => "1"}
  [1m[36mManager Load (11.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 145], ["LIMIT", 1]]
  [1m[36mWorker Load (13.5ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "true"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (24.3ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-24 23:46:51.312132"], ["id", 1]]
  [1m[36mTRANSACTION (11.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 141ms (Views: 3.1ms | ActiveRecord: 72.0ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (11.1ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (24.0ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (13.3ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-24 23:46:51.459715"], ["updated_at", "2025-02-24 23:46:51.459715"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (24.2ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-24 23:46:51.488523"], ["updated_at", "2025-02-24 23:46:51.488523"]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (22.8ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-24 23:46:51.525484"], ["id", 1]]
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2025-02-24 23:46:51 +0000
Processing by SessionsController#create as HTML
  Parameters: {"manager" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mManager Load (11.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Generated Token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxNDYsImVtYWlsIjoidGVzdDEyQGV4YW1wbGUuY29tIiwiZXhwIjoxNzQwNDQ0NDExfQ.XCIUyyrjMrCMy-cRG235jCqU6pl_J6OT245aBN2Ppe0
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Update (22.4ms)[0m  [1m[33mUPDATE "managers" SET "online" = $1, "updated_at" = $2 WHERE "managers"."id" = $3[0m  [["online", true], ["updated_at", "2025-02-24 23:46:51.579207"], ["id", 146]]
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (10.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 146], ["record_type", "Manager"], ["name", "picture"], ["LIMIT", 1]]
Completed 200 OK in 66ms (Views: 0.3ms | ActiveRecord: 67.6ms (3 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-24 23:46:51 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
  [1m[36mManager Load (11.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = $1 LIMIT $2[0m  [["id", 146], ["LIMIT", 1]]
  [1m[36mWorker Load (12.3ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Worker Params: #<ActionController::Parameters {"watching" => "false"} permitted: true>
  [1m[36mCACHE Worker Load (0.0ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (23.4ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", false], ["updated_at", "2025-02-24 23:46:51.703857"], ["id", 1]]
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 110ms (Views: 0.5ms | ActiveRecord: 70.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mWorker Load (10.6ms)[0m  [1m[34mSELECT "workers".* FROM "workers" WHERE "workers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (11.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManager Exists? (24.3ms)[0m  [1m[34mSELECT 1 AS one FROM "managers" WHERE "managers"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mManager Create (11.8ms)[0m  [1m[32mINSERT INTO "managers" ("name", "email", "password_digest", "phone_number", "last_name", "access", "role", "online", "notifications", "created_at", "updated_at", "last_seen", "mode", "show") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["name", nil], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["phone_number", nil], ["last_name", nil], ["access", nil], ["role", "admin"], ["online", false], ["notifications", true], ["created_at", "2025-02-24 23:46:51.846662"], ["updated_at", "2025-02-24 23:46:51.846662"], ["last_seen", nil], ["mode", "light"], ["show", true]]
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Create (23.9ms)[0m  [1m[32mINSERT INTO "workers" ("id", "name", "email", "phone_number", "address", "joined", "last_name", "watching", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["id", 1], ["name", "Test Worker"], ["email", "[FILTERED]"], ["phone_number", nil], ["address", nil], ["joined", nil], ["last_name", nil], ["watching", false], ["created_at", "2025-02-24 23:46:51.872457"], ["updated_at", "2025-02-24 23:46:51.872457"]]
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWorker Update (24.6ms)[0m  [1m[33mUPDATE "workers" SET "watching" = $1, "updated_at" = $2 WHERE "workers"."id" = $3[0m  [["watching", true], ["updated_at", "2025-02-24 23:46:51.909710"], ["id", 1]]
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/api/workers/1" for 127.0.0.1 at 2025-02-24 23:46:51 +0000
Processing by WorkersController#update as HTML
  Parameters: {"worker" => {"watching" => "false"}, "id" => "1"}
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[31mROLLBACK[0m
